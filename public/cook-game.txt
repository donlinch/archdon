# æ–™ç†æ€¥å…ˆé‹’ - ç« ç¯€ç›®éŒ„

## 1. éŠæˆ²æ¦‚è¿°
## 2. ç³»çµ±æ¶æ§‹èˆ‡è³‡æ–™è¡¨è¨­è¨ˆ
   - 2.1 è³‡æ–™è¡¨è¨­è¨ˆ
   - 2.2 æœƒå“¡èªè­‰æ©Ÿåˆ¶
   - 2.3 æœƒå“¡å°ˆå±¬åŠŸèƒ½
   - 2.4 ç¶²é è·¯ç”±çµæ§‹
   - 2.5 ç™»å…¥èˆ‡é©—è­‰æµç¨‹ - æ‰‹æ©Ÿç‰ˆ
## 3. ç›´å¼æ‰‹æ©Ÿç•«é¢è¨­è¨ˆèˆ‡å‹•ç•«æ•ˆæœ
   - 3.1 æ‰‹æ©Ÿå„ªåŒ–ç•Œé¢
   - 3.2 è§¸æ§æ“ä½œè¨­è¨ˆ
   - 3.3 æ‰‹æ©Ÿç‰ˆè‰²å½©ç·¨ç¢¼
   - 3.4 æ‰‹æ©Ÿæœ€ä½³åŒ–ASCIIé£Ÿæè¡¨ç¤º
   - 3.5 å‹•ç•«ç³»çµ±è¨­è¨ˆï¼ˆé‡å°æ‰‹æ©Ÿï¼‰
   - 3.6 æ‰‹æ©Ÿç‰¹æœ‰çš„äº’å‹•æ©Ÿåˆ¶
## 4. æ ¸å¿ƒåŠŸèƒ½è¡¨ï¼ˆæ‰‹æ©Ÿå„ªåŒ–ï¼‰
   - 4.1 ç©å®¶ç³»çµ±
   - 4.2 éŠæˆ²æ¨¡å¼
   - 4.3 å·¥ä½œç«™è¨­è¨ˆï¼ˆç›´å¼æ‰‹æ©Ÿå„ªåŒ–ï¼‰
   - 4.4 æ‰‹æ©Ÿç‰ˆæ–™ç†ç³»çµ±
   - 4.5 æ‰‹æ©Ÿç‰ˆäº’å‹•æ©Ÿåˆ¶
   - 4.6 BBSé¢¨æ ¼èˆ‡è§¸æ§æ“ä½œçµåˆ
   - 4.7 èŠå¤©ç³»çµ±å¼·åŒ–
## 5. æŠ€è¡“å¯¦ç¾ (æ‰‹æ©Ÿå„ªåŒ–)
   - 5.1 è¡Œå‹•è£ç½®æŠ€è¡“
   - 5.2 æ‰‹æ©Ÿç¶²è·¯å„ªåŒ–
   - 5.3 WebSocketæ‰‹æ©Ÿå„ªåŒ–
   - 5.4 è§¸æ§æ“ä½œä»‹é¢
   - 5.5 æœƒå“¡æ•¸æ“šåŒæ­¥å„ªåŒ–
   - 5.6 è¡Œå‹•è£ç½®å®¹éŒ¯è¨­è¨ˆ
   - 5.7 æ‰‹æ©Ÿæ¸²æŸ“å„ªåŒ–
   - 5.8 å®‰å…¨èˆ‡éš±ç§ (æ‰‹æ©Ÿç‰¹åˆ¥è€ƒé‡)
   - 5.9 æœªä¾†æ•ˆèƒ½å„ªåŒ–è¦åŠƒ
   - 5.10 APIç‰ˆæœ¬ç®¡ç†
## 6. ç®¡ç†å¾Œå° (æ¡Œé¢ç‰ˆè¨­è¨ˆ)
   - 6.1 ç®¡ç†å¾Œå°åŠŸèƒ½
   - 6.2 å¾Œå°ç•Œé¢è¨­è¨ˆ
   - 6.3 ç®¡ç†æ¬Šé™åˆ†ç´š
   - 6.4 æ•¸æ“šåˆ†æå·¥å…·
## 7. éŠæˆ²æµç¨‹ç¯„ä¾‹ (æ‰‹æ©Ÿç‰ˆ)
   - 7.1 æœƒå“¡ç™»å…¥æµç¨‹ (æ‰‹æ©Ÿç‰ˆ)
   - 7.2 éŠæˆ²é€²è¡Œç¯„ä¾‹ (æ‰‹æ©Ÿç‰ˆ)
   - 7.3 èŠå¤©ç³»çµ± (æ‰‹æ©Ÿç‰ˆ)
## 8. æœƒå“¡å°ˆå±¬åŠŸèƒ½ (æ‰‹æ©Ÿå„ªåŒ–)
   - 8.1 æœƒå“¡æˆå°±ç³»çµ±
   - 8.2 VIPæœƒå“¡æ‰‹æ©Ÿç‰¹æ¬Š
   - 8.3 ç¤¾ç¾¤äº’å‹• (æ‰‹æ©Ÿå„ªåŒ–)
   - 8.4 è¡Œå‹•æ”¯ä»˜æ•´åˆ
   - 8.5 æœƒå“¡å»šå¸«å…¬æœƒç³»çµ±
   - 8.6 ç©å®¶æ’è¡Œæ¦œç³»çµ±
## 9. å¯¦ç¾å»ºè­°èˆ‡æœ€ä½³å¯¦è¸
   - 9.1 è¡Œå‹•å„ªå…ˆé–‹ç™¼ç­–ç•¥
   - 9.2 å‰ç«¯æ¡†æ¶é¸æ“‡
   - 9.3 é–‹ç™¼æµç¨‹å»ºè­°
   - 9.4 è¡Œå‹•è£ç½®æ•ˆèƒ½è€ƒé‡
## 10. æŠ€è¡“éœ€æ±‚
## 11. Google AI æ•´åˆèˆ‡è‡ªå‹•åŒ–å…§å®¹ç”Ÿæˆç³»çµ±
   - 11.1 ç³»çµ±æ¦‚è¿°
   - 11.2 æç¤ºè©æ¨¡æ¿é¡å‹
   - 11.3 å¯¦ç¾æ¶æ§‹
   - 11.4 å…§å®¹ç”Ÿæˆæµç¨‹
   - 11.5 ç®¡ç†å¾Œå°åŠŸèƒ½
   - 11.6 è‡ªå‹•åŒ–æ’ç¨‹
   - 11.7 ç©å®¶é«”é©—å„ªåŒ–
   - 11.8 AIé—œå¡ç”Ÿæˆç³»çµ±å…·é«”å¯¦ç¾
   - 11.9 é—œå¡é©é…èˆ‡å‹•æ…‹èª¿æ•´
## 12. éŠæˆ²å…§å®¹èˆ‡é—œå¡è¨­è¨ˆ
   - 12.1 éŠæˆ²æµç¨‹æ¦‚è¦½
   - 12.2 é—œå¡è¨­è¨ˆèˆ‡é›£åº¦æ›²ç·š
   - 12.3 éŠæˆ²æ¨¡å¼è©³è§£
   - 12.4 å ´æ™¯èˆ‡ä¸»é¡Œè¨­è¨ˆ
   - 12.5 å…·é«”éŠæˆ²å°å±€ç¤ºä¾‹
   - 12.6 é€²éšéŠæˆ²ç­–ç•¥èˆ‡äº’å‹•
## 13. éŠæˆ²æ ¸å¿ƒè¨­è¨ˆï¼šé£Ÿæã€é…æ–¹èˆ‡è¨‚å–® (è³‡æ–™åº«é©…å‹•å…§å®¹ç¯„ä¾‹)
   - 13.1 åŸºç¤é£Ÿæåˆ—è¡¨ (å…±20ç¨®)
   - 13.2 åŠ å·¥èˆ‡çƒ¹é£ªé…æ–¹
   - 13.3 æœ€çµ‚çµ„è£èˆ‡å‡ºé¤ (Final Assembly & Serving)
   - 13.4 ç¯„ä¾‹è¨‚å–®èˆ‡è§£æ³•è·¯å¾‘ (Sample Orders & Solution Paths)
## 14. ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“å¯¦ç¾è¦åŠƒ
   - 14.1 ç³»çµ±æ¶æ§‹åœ–
   - 14.2 æ•¸æ“šæµç¨‹åœ–
   - 14.3 PostgreSQLè³‡æ–™åº«çµæ§‹è¨­è¨ˆ
## 15. å‰å¾Œç«¯åˆ†é›¢èˆ‡APIè¨­è¨ˆ
   - 15.1 RESTful API ç«¯é»è¨­è¨ˆ
   - 15.2 WebSocket äº‹ä»¶è¦ç¯„
## 16. éƒ¨ç½²èˆ‡ç™¼å¸ƒç­–ç•¥
   - 16.1 éƒ¨ç½²æ¶æ§‹
   - 16.2 CI/CD æµç¨‹
   - 16.3 ç‰ˆæœ¬ç™¼å¸ƒç­–ç•¥
## 17. é …ç›®æ™‚é–“è¡¨èˆ‡é‡Œç¨‹ç¢‘
   - 17.1 é–‹ç™¼éšæ®µèˆ‡æ™‚é–“è¡¨
## 18. æœªä¾†æ“´å±•èˆ‡ç¶­è­·è¨ˆåŠƒ
   - 18.1 è¨ˆåŠƒåŠŸèƒ½æ“´å±•
   - 18.2 é•·æœŸç¶­è­·ç­–ç•¥
   - 18.3 ç¤¾ç¾¤èˆ‡ç”¨æˆ¶åé¥‹é«”ç³»
## 19. è¿‘æœŸä¿®å¾©èˆ‡èª¿æ•´ç´€éŒ„
   - 19.1 ä½¿ç”¨è€…ä»‹é¢ (UI) ä¿®æ­£
   - 19.2 æ ¸å¿ƒåŠŸèƒ½èˆ‡æµç¨‹ä¿®å¾©
   - 19.3 å¾Œç«¯èˆ‡ç¶²è·¯é€šè¨Š
   - 19.4 éŠæˆ²æˆ¿é–“ç©©å®šæ€§èˆ‡å¾Œç«¯é‚è¼¯é‡æ§‹
   - 19.5 è³‡æ–™åº«æ•´åˆèˆ‡ç”¨æˆ¶è³‡æ–™è™•ç†
   - 19.6 WebSocket é€£æ¥ç®¡ç†
   - 19.7 ä¸‹ä¸€æ­¥å„ªåŒ–è¨ˆåŠƒ
   - 19.8 å®Œæ•´éŠæˆ²å¾ªç’°èˆ‡æ ¸å¿ƒæ©Ÿåˆ¶å¯¦ç¾
   - 19.9 é‡å¤§UI/UXé‡æ§‹èˆ‡æ“ä½œæµç¨‹å„ªåŒ–
   - 19.10 éŠæˆ²é›£åº¦ç³»çµ±èˆ‡å‹•æ…‹è¨‚å–®
## 20. å¾Œç«¯æ ¸å¿ƒé‚è¼¯é‡æ§‹èˆ‡è³‡æ–™åº«é©…å‹•åŒ–

---

# æ–™ç†æ€¥å…ˆé‹’ - é …ç›®åŸ·è¡Œèªªæ˜

## é …ç›®å®‰è£èˆ‡åŸ·è¡Œ

### 1. ç³»çµ±éœ€æ±‚
- Node.js 14.0 æˆ–ä»¥ä¸Š
- PostgreSQL 12.0 æˆ–ä»¥ä¸Š
- æ”¯æ´ç¾ä»£åŒ–ç€è¦½å™¨ (Chrome, Firefox, Safari, Edge)

### 2. ç³»çµ±æ¶æ§‹èªªæ˜

æ­¤å°ˆæ¡ˆå·²æ•´åˆæˆä¸€å€‹å–®ä¸€çš„Node.jsæ‡‰ç”¨ç¨‹å¼ï¼Œç”± `server.js` ä½œç‚ºä¸»å…¥å£é»ã€‚å®ƒåŒæ™‚ç®¡ç†ä¸»ç¶²ç«™å’Œã€Œæ–™ç†æ€¥å…ˆé‹’ã€éŠæˆ²çš„å¾Œç«¯æœå‹™ã€‚

- **ä¸»ä¼ºæœå™¨ (`server.js`)**:
  - çµ±ä¸€è™•ç†æ‰€æœ‰HTTPè«‹æ±‚å’ŒWebSocketé€£æ¥ã€‚
  - ç›£è½å–®ä¸€ç«¯å£ (ä¾‹å¦‚ 3000)ã€‚

- **æ•´åˆçš„æœå‹™**:
  - **ä¸»ç¶²ç«™API**: è™•ç†æœƒå“¡ã€æ–‡ç« ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚
  - **éŠæˆ²API (`/cook-api`)**: ç”± `cook-kitchen-rush.js` æ¨¡çµ„æä¾›ï¼Œè™•ç†æ‰€æœ‰éŠæˆ²ç›¸é—œçš„HTTPè«‹æ±‚ã€‚
  - **WebSocketæœå‹™**:
    - `/ws`: ä¸»ç¶²ç«™çš„WebSocketé€£æ¥ã€‚
    - `/cook-ws`: æ–™ç†æ€¥å…ˆé‹’éŠæˆ²çš„å°ˆç”¨WebSocketé€£æ¥ã€‚
  - å…©å€‹WebSocketè·¯å¾‘ç”±åŒä¸€å€‹WebSocketä¼ºæœå™¨å¯¦ä¾‹æ ¹æ“šé€£æ¥è·¯å¾‘é€²è¡Œè·¯ç”±ã€‚

### 3. ç›¸é—œæ–‡ä»¶
- **é£Ÿè­œé›£åº¦ç³»çµ±èªªæ˜**: è©³è¦‹ `cook-difficulty-guide.txt`ï¼ŒåŒ…å«å®Œæ•´çš„é£Ÿè­œåˆ—è¡¨å’Œé›£åº¦ç³»çµ±èªªæ˜ã€‚

### 4. å®‰è£æ­¥é©Ÿ
 

```
# å…±ç”¨è³‡æ–™åº«é…ç½®
DB_USER=postgres
DB_HOST=localhost
DB_NAME=sunnyyummy_db
DB_PASSWORD=your_password
DB_PORT=5432

# ä¸»ç³»çµ±é…ç½®
PORT=3000
JWT_SECRET=your_main_jwt_secret

# æ–™ç†æ€¥å…ˆé‹’é…ç½® (ä¸å†éœ€è¦å–®ç¨çš„è³‡æ–™åº«é…ç½®ï¼Œå°‡ä½¿ç”¨ä¸»è³‡æ–™åº«)
 
COOK_JWT_SECRET=your_cook_game_jwt_secret
```

### 5. è³‡æ–™åº«è¨­å®š

```bash
# å»ºç«‹/æ›´æ–°ä¸»ç¶²ç«™è³‡æ–™åº«ä¸¦æ‡‰ç”¨æ‰€æœ‰ schema
psql -U postgres
CREATE DATABASE sunnyyummy_db; # å¦‚æœå·²å­˜åœ¨æœƒè·³é
\c sunnyyummy_db; # é€£æ¥åˆ°è³‡æ–™åº«
\i db_schema_main.sql # æ‡‰ç”¨ä¸»ç¶²ç«™ schema (åŒ…å« box_users)
\i db_schema.sql # æ‡‰ç”¨æ–™ç†æ€¥å…ˆé‹’ schema (åŒ…å« cook_players, cook_game_rooms, cook_items, cook_recipes_v2 ç­‰)
\q
```

### 6. å•Ÿå‹•æœå‹™

ç”±æ–¼ç³»çµ±å·²æ•´åˆï¼Œåªéœ€ä¸€å€‹å‘½ä»¤å³å¯å•Ÿå‹•æ‰€æœ‰æœå‹™ã€‚

 
```

### 7. è¨ªå•æ‡‰ç”¨
- ä¸»ç¶²ç«™ï¼šhttp://localhost:3000
- æ–™ç†æ€¥å…ˆé‹’éŠæˆ²ï¼šhttp://localhost:3000/cook-login.html

æ³¨æ„ï¼šæ‰€æœ‰éœæ…‹æ–‡ä»¶ã€APIå’ŒWebSocketé€£æ¥ç¾åœ¨éƒ½ç”±åŒä¸€å€‹ä¼ºæœå™¨å’Œç«¯å£æä¾›ã€‚å®¢æˆ¶ç«¯å°‡è‡ªå‹•é€£æ¥åˆ°æ­£ç¢ºçš„APIå’ŒWebSocketè·¯å¾‘ (ä¾‹å¦‚ `/cook-api` å’Œ `/cook-ws`)ã€‚

## é …ç›®çµæ§‹

* sunnyyummy-app/
* â”œâ”€â”€ server.js               # ä¸»ç¶²ç«™æœå‹™å™¨
* â”œâ”€â”€ cook-kitchen-rush.js    # æ–™ç†æ€¥å…ˆé‹’éŠæˆ²æœå‹™å™¨
* â”œâ”€â”€ public/                 # éœæ…‹æ–‡ä»¶
* â”‚   â”œâ”€â”€ index.html          # ä¸»ç¶²ç«™é¦–é 
  â”‚    â”œâ”€â”€ cook-game.txt      # éŠæˆ²è¨­è¨ˆèªªæ˜æ–‡æª”
* â”‚   â”œâ”€â”€ cook-login.html     # éŠæˆ²ç™»å…¥é é¢
* â”‚   â”œâ”€â”€ cook-lobby.html     # éŠæˆ²å¤§å»³
* â”‚   â”œâ”€â”€ cook-game-room.html # éŠæˆ²æˆ¿é–“
* â”‚   â”œâ”€â”€ cook-admin-titles.html # ç¨±è™Ÿç®¡ç†
* â”‚   â”œâ”€â”€ cook-game.html      # éŠæˆ²ä¸»é é¢
* â”‚   â”œâ”€â”€ cook-result.html    # éŠæˆ²çµæœé é¢
* â”‚   â”œâ”€â”€ cook-help.html      # éŠæˆ²èªªæ˜é é¢
  â”‚   â”œâ”€â”€ cook-admin.htmlÂ      # ç¸½è¦½
  â”‚   â”œâ”€â”€ cook-admin-recipes.html     # é£Ÿè­œç®¡ç†
  â”‚   â”œâ”€â”€ cook-admin-quests.htmlÂ      # ä»»å‹™ç®¡ç†
  â”‚   â”œâ”€â”€ cook-leaderboard.html       # æ’è¡Œæ¦œ
  â”œâ”€â”€ package.json            # é …ç›®é…ç½®
* â”œâ”€â”€ .env                    # ç’°å¢ƒè®Šæ•¸
* â””â”€â”€ README.md               # é …ç›®æ–‡æª”

## ä¸»è¦åŠŸèƒ½

1.  **å¤šäººå”ä½œéŠæˆ²**: å››äººåˆä½œå®Œæˆæ–™ç†è¨‚å–®
2.  **BBSé¢¨æ ¼ç•Œé¢**: å¾©å¤æ–‡å­—ç•Œé¢ï¼Œé©é…ç§»å‹•è¨­å‚™
3.  **æœƒå“¡ç³»çµ±**: æˆå°±ã€ç­‰ç´šã€æ’è¡Œæ¦œç³»çµ±
4.  **æˆ¿é–“ç³»çµ±**: å‰µå»ºã€åŠ å…¥ã€ç®¡ç†éŠæˆ²æˆ¿é–“
5.  **å¯¦æ™‚é€šè¨Š**: ä½¿ç”¨WebSocketé€²è¡ŒéŠæˆ²æ•¸æ“šåŒæ­¥å’ŒèŠå¤©
6.  **AIé—œå¡ç”Ÿæˆ**: ä½¿ç”¨Google AI APIç”Ÿæˆç„¡é™é—œå¡

## æŠ€è¡“æ£§

-   **å‰ç«¯**: HTML5, CSS3, JavaScript
-   **å¾Œç«¯**: Node.js, Express
-   **è³‡æ–™åº«**: PostgreSQL
-   **é€šè¨Š**: WebSocket (ws)
-   **èªè­‰**: JWT
-   **AIæ•´åˆ**: Google AI API

---

å¤šäººå”ä½œæ–™ç†éŠæˆ²ã€Œæ–™ç†æ€¥å…ˆé‹’ã€- BBSé¢¨æ ¼æœƒå“¡åˆ¶æ–‡å­—éŠæˆ²

# 1. éŠæˆ²æ¦‚è¿°
å››åç©å®¶çµ„æˆä¸€æ¢æ–™ç†ç”Ÿç”¢ç·šï¼Œé€éç´”æ–‡å­—/ASCIIåœ–å½¢ç•Œé¢é€²è¡Œå”ä½œæ–™ç†ã€‚éŠæˆ²æ¡ç”¨å¾©å¤BBSé¢¨æ ¼ï¼Œä½¿ç”¨æ–‡å­—ç¬¦è™Ÿå’Œç°¡å–®è‰²å½©å‘ˆç¾éŠæˆ²å…ƒç´ ï¼Œå¸¶çµ¦ç©å®¶æ‡·èˆŠé«”é©—ã€‚æ­¤éŠæˆ²ç‚ºæœƒå“¡å°ˆå±¬éŠæˆ²ï¼Œéœ€ç™»å…¥æœƒå“¡å¸³è™Ÿæ‰èƒ½é€²å…¥éŠæˆ²æˆ¿é–“å’Œé€²è¡ŒéŠæˆ²ã€‚**éŠæˆ²ä¸»è¦é‡å°ç›´å¼æ‰‹æ©Ÿè¢å¹•è¨­è¨ˆï¼Œæä¾›æœ€ä½³è¡Œå‹•è£ç½®é«”é©—ã€‚**

# 2. ç³»çµ±æ¶æ§‹èˆ‡è³‡æ–™è¡¨è¨­è¨ˆ

## 2.1 è³‡æ–™è¡¨è¨­è¨ˆ
-   **box_users / cook_players**: æœƒå“¡è³‡è¨Šèˆ‡éŠæˆ²ç›¸é—œæ•¸æ“šã€‚æ ¸å¿ƒæœƒå“¡è³‡æ–™ï¼ˆå¦‚å¸³è™Ÿã€å¯†ç¢¼ï¼‰å„²å­˜æ–¼ä¸»ç³»çµ±çš„ `box_users` è¡¨ã€‚éŠæˆ²ç›¸é—œçš„å»¶ä¼¸è³‡æ–™ï¼ˆå¦‚ç­‰ç´š `level`ã€é»æ•¸ `points`ã€æˆå°± `achievements`ï¼‰å‰‡å„²å­˜åœ¨ `cook_players` è¡¨ï¼Œä¸¦é€é `user_id` èˆ‡ä¸»è¡¨é—œè¯ã€‚
-   **cook_roles**: æœƒå“¡è§’è‰²èˆ‡æ¬Šé™
    -   role_id, role_name, role_description, permission_level
-   **cook_recipes (å·²æ£„ç”¨)**: éŠæˆ²å…§å¯è£½ä½œçš„æ–™ç†é…æ–¹ã€‚**æ­¤è¡¨å·²åœ¨å¾Œç«¯é‡æ§‹ä¸­è¢« `cook_recipes_v2` å–ä»£ã€‚**
    -   recipe_id, recipe_name, recipe_description, difficulty, ingredients_json
-   **cook_ingredients (å·²æ£„ç”¨)**: éŠæˆ²å…§å¯ç”¨çš„é£Ÿæã€‚**æ­¤è¡¨å·²åœ¨å¾Œç«¯é‡æ§‹ä¸­è¢« `cook_items` å–ä»£ï¼Œæ‰€æœ‰éŠæˆ²ç‰©å“ï¼ˆåŒ…æ‹¬é£Ÿæã€åŠæˆå“ã€æœ€çµ‚æ–™ç†ï¼‰çµ±ä¸€ç®¡ç†ã€‚**
    -   ingredient_id, ingredient_name, ingredient_type, ascii_symbol
-   **cook_items (æ–°)**: éŠæˆ²ä¸­æ‰€æœ‰å¯äº’å‹•çš„ç‰©å“ï¼ŒåŒ…æ‹¬åŸºç¤é£Ÿæã€åŠæˆå“åŠæœ€çµ‚æ–™ç†ã€‚
    -   `item_id`, `item_type` (e.g., 'raw_ingredient', 'cooked_item', 'assembled_dish'), `item_name`, `ascii_symbol`, `base_points` (ç”¨æ–¼è¨ˆåˆ†), `properties_json` (ä¾‹å¦‚çƒ¹é£ªæ™‚é–“ã€æ•ˆæœç­‰é¡å¤–å±¬æ€§)ã€‚
-   **cook_recipes_v2 (æ–°)**: è³‡æ–™åº«é©…å‹•çš„é£Ÿè­œå®šç¾©ï¼ŒåŒ…å«çƒ¹é£ªåŠçµ„åˆé…æ–¹ã€‚
    -   `recipe_id`, `recipe_type` ('cooking' æˆ– 'assembly'), `recipe_name`, `description`, `ingredients_json` (JSONBï¼Œè©³ç´°èªªæ˜è¼¸å…¥é£ŸæåŠå…¶æ•¸é‡ã€é¡å‹ï¼Œä¾‹å¦‚ `[{ "item_id": "beef_raw", "quantity": 1, "state": "any" }]`)ï¼Œ`result_item_id` (çƒ¹é£ªæˆ–çµ„åˆå¾Œç”¢ç”Ÿçš„ `cook_items` ä¸­çš„ç‰©å“ ID)ï¼Œ`cook_station` (é‡å°çƒ¹é£ªé£Ÿè­œï¼ŒæŒ‡å®šæ‰€éœ€å·¥ä½œç«™ï¼Œå¦‚ 'oven', 'stove', 'fryer')ï¼Œ`cook_time_seconds` (é‡å°çƒ¹é£ªé£Ÿè­œï¼Œæ‰€éœ€çƒ¹é£ªæ™‚é–“)ï¼Œ`difficulty` (é›£åº¦ç­‰ç´šï¼Œ1-10)ã€‚
-   **cook_achievements**: æœƒå“¡å¯è§£é–çš„æˆå°±
    -   achievement_id, achievement_name, description, condition_json
-   **cook_user_achievements**: æœƒå“¡å·²ç²å¾—çš„æˆå°±é—œè¯è¡¨
    -   user_id, achievement_id, unlock_date, display_status
-   **cook_game_rooms**: éŠæˆ²å°å±€è¨˜éŒ„ã€‚æ­¤è¡¨å–ä»£äº†åŸæœ‰çš„ `cook_game_sessions` å’Œ `cook_session_players`ã€‚å®ƒä¸åƒ…è¨˜éŒ„æˆ¿é–“åŸºæœ¬è³‡è¨Šï¼Œé‚„é€éä¸€å€‹ `game_state` (JSONB) æ¬„ä½å„²å­˜äº†éŠæˆ²é€²è¡Œä¸­çš„æ‰€æœ‰å‹•æ…‹è³‡æ–™ï¼ŒåŒ…æ‹¬ç©å®¶åˆ—è¡¨ã€åº«å­˜ã€è¨‚å–®ã€åˆ†æ•¸ç­‰ã€‚
    -   room_id, room_name, status, creator_id, game_state
-   **cook_user_devices**: ä½¿ç”¨è€…è£ç½®è³‡è¨Š
    -   user_id, device_type, screen_size, last_login_device

## 2.2 æœƒå“¡èªè­‰æ©Ÿåˆ¶
-   **ä½¿ç”¨JWTä»¤ç‰Œ**: èˆ‡ä¸»ç³»çµ±å…±ç”¨ç™»å…¥æ†‘è­‰ï¼Œç¢ºä¿éŠæˆ²å®‰å…¨æ€§
-   **æ¬Šé™ç­‰ç´šæ§åˆ¶**: å€åˆ†æ™®é€šæœƒå“¡ã€é«˜ç´šæœƒå“¡æ¬Šé™èˆ‡éŠæˆ²åŠŸèƒ½
-   **æœƒå“¡è³‡æ–™åŒæ­¥**: ä½¿ç”¨æœƒå“¡é ­åƒã€åç¨±æ–¼éŠæˆ²è§’è‰²
-    
-  

## 2.3 æœƒå“¡å°ˆå±¬åŠŸèƒ½
-   **ç©åˆ†ç³»çµ±**: éŠæˆ²è¡¨ç¾è½‰æ›ç‚ºæœƒå“¡ç©åˆ†
-   **æ’è¡Œæ¦œ**: æœƒå“¡éŠæˆ²è¡¨ç¾æ’åèˆ‡çå‹µ
-   **å°ˆå±¬é“å…·**: æœƒå“¡ç­‰ç´šå°æ‡‰è§£é–ç‰¹æ®Šé“å…·
-   **ç‰¹æ®Šé ­éŠœ**: éŠæˆ²é”æˆç‰¹å®šæˆå°±å¯ç²å¾—å°ˆå±¬é ­éŠœ

## 2.4 ç¶²é è·¯ç”±çµæ§‹
-   **/cook-login**: éŠæˆ²ç™»å…¥é é¢ï¼ˆè¡Œå‹•æœ€ä½³åŒ–ï¼‰
-   **/cook-lobby**: éŠæˆ²å¤§å»³èˆ‡æˆ¿é–“åˆ—è¡¨ï¼ˆè¡Œå‹•æœ€ä½³åŒ–ï¼‰
-   **/cook-game**: ä¸»è¦éŠæˆ²ç•Œé¢ï¼ˆè¡Œå‹•æœ€ä½³åŒ–ï¼‰
-   **/cook-profile**: ç©å®¶æª”æ¡ˆèˆ‡æˆå°±é é¢ï¼ˆè¡Œå‹•æœ€ä½³åŒ–ï¼‰
-   **/cook-leaderboard**: æ’è¡Œæ¦œé é¢ï¼ˆè¡Œå‹•æœ€ä½³åŒ–ï¼‰
-   **/cook-tutorial**: éŠæˆ²æ•™å­¸é é¢ï¼ˆè¡Œå‹•æœ€ä½³åŒ–ï¼‰
-   **/cook-admin**: ç®¡ç†å“¡å¾Œå°ï¼ˆåƒ…æ¡Œé¢ç‰ˆæœ€ä½³åŒ–ï¼‰

## 2.5 ç™»å…¥èˆ‡é©—è­‰æµç¨‹ - æ‰‹æ©Ÿç‰ˆ
```
+-------------------------------------+
|        æ–™ç†æ€¥å…ˆé‹’ - æœƒå“¡ç™»å…¥        |
+-------------------------------------+
|                                     |
|           [é ­åƒç™»å…¥æŒ‰éˆ•]            |
|                                     |
| å¸³è™Ÿ: [_________________]           |
|                                     |
| å¯†ç¢¼: [*****************]           |
|                                     |
|           [ä¸€éµç™»å…¥]                |
|                                     |
| [å¿˜è¨˜å¯†ç¢¼?]        [åŠ å…¥æœƒå“¡]       |
|                                     |
+-------------------------------------+
```

# 3. ç›´å¼æ‰‹æ©Ÿç•«é¢è¨­è¨ˆèˆ‡å‹•ç•«æ•ˆæœ

## 3.1 æ‰‹æ©Ÿå„ªåŒ–ç•Œé¢
-   **å‚ç›´ä½ˆå±€**: æ‰€æœ‰å…ƒç´ å‚ç›´æ’åˆ—ï¼Œæ¸›å°‘æ°´å¹³æ²å‹•
-   **å–®æ‰‹æ“ä½œ**: é—œéµæŒ‰éˆ•ç½®æ–¼è¢å¹•ä¸‹åŠéƒ¨ï¼Œä¾¿æ–¼æ‹‡æŒ‡è§¸é”
-   **è‡ªå‹•é©é…**: ä¾æ“šä¸åŒæ‰‹æ©Ÿè¢å¹•å¤§å°è‡ªå‹•èª¿æ•´ä½ˆå±€
-   **è§¸æ§å„ªåŒ–**: æŒ‰éˆ•å°ºå¯¸è‡³å°‘48x48åƒç´ ï¼Œç¢ºä¿æ˜“æ–¼é»æ“Š
-   **ä¿ç•™BBSç¾å­¸**: ç¶­æŒæ–‡å­—ç¬¦è™Ÿæ§‹æˆçš„å¾©å¤é¢¨æ ¼ï¼Œä½†è½‰æ›ç‚ºå¯é»æ“Šå…ƒç´ 

```
+--------------------------+
|      æ–™ç†æ€¥å…ˆé‹’ v1.0     |
| @ç©å®¶åç¨±  [VIP]  [è¨­å®š] |
+--------------------------+
|       è¨‚å–®åˆ—è¡¨          |
| æ¼¢å ¡ (2:35) [â–ˆâ–ˆâ–‘â–‘â–‘]     |
| è–¯æ¢ (1:20) [â–ˆâ–ˆâ–ˆâ–‘â–‘]     |
| å¯æ¨‚ (0:45) [â–ˆâ–ˆâ–ˆâ–ˆâ–‘]     |
+--------------------------+
|      å·¥ä½œç«™ç‹€æ…‹         |
|                         |
| [_][_][_][_]            |
| [é¦™][è‡][è‚‰][_]         |
|                         |
+--------------------------+
|      ç›®å‰æ“ä½œ           |
| ä½ æ­£åœ¨åˆ‡æ´‹è”¥...         |
| [====>      ] 42%       |
+--------------------------+
|      ç©å®¶ç‹€æ…‹           |
| P1: ä½  - åˆ‡èœä¸­         |
| P2: @å»šå¸«B - ç­‰å¾…é£Ÿæ   |
| P3: @å»šå¸«C - çƒ¹é£ªä¸­     |
| P4: @å»šå¸«D - è£ç›¤ä¸­     |
+--------------------------+
|       æ“ä½œæŒ‰éˆ•          |
|  [åˆ‡]  [æ‹¿]  [æ”¾]  [é€] |
+--------------------------+
|       èŠå¤©å¿«æ·éµ        |
|[éœ€è¦å¹«å¿™!][å‚³çµ¦æˆ‘][æ”¶åˆ°]|
+--------------------------+
```

## 3.2 è§¸æ§æ“ä½œè¨­è¨ˆ
-   **å¤§å°ºå¯¸æŒ‰éˆ•**: ä¸»è¦æ“ä½œæŒ‰éˆ•å¯¬å¤§æ¸…æ™°
-   **æ»‘å‹•æ‰‹å‹¢**: æ”¯æ´å·¦å³æ»‘å‹•åˆ‡æ›å€åŸŸï¼Œä¸Šä¸‹æ»‘å‹•æŸ¥çœ‹æ›´å¤šå…§å®¹
-   **é•·æŒ‰åŠŸèƒ½**: é•·æŒ‰é£Ÿæé¡¯ç¤ºè©³ç´°è³‡è¨Š
-   **é›™æŒ‡ç¸®æ”¾**: å¯æ”¾å¤§ç‰¹å®šå€åŸŸæŸ¥çœ‹è©³æƒ…
-   **é»æ“Šå¼å‘½ä»¤**: å°‡å‚³çµ±BBSæ–‡å­—å‘½ä»¤è½‰æ›ç‚ºå¯é»æ“ŠæŒ‰éˆ•ï¼Œç„¡é ˆéµç›¤è¼¸å…¥
-   **å¿«æ·æŒ‡ä»¤é¢æ¿**: å¸¸ç”¨æ–‡å­—æŒ‡ä»¤ä»¥æŒ‰éˆ•å½¢å¼å‘ˆç¾ï¼Œæ”¯æ´è‡ªå®šç¾©æ’åº

## 3.3 æ‰‹æ©Ÿç‰ˆè‰²å½©ç·¨ç¢¼
-   **é«˜å°æ¯”åº¦**: ç¢ºä¿åœ¨å¼·å…‰ä¸‹å¯è®€æ€§
-   **æš—è‰²æ¨¡å¼**: é©æ‡‰å¤œé–“ä½¿ç”¨é™ä½çœ¼ç›ç–²å‹
-   **é‡é»çªé¡¯**: é‡è¦å…ƒç´ ä½¿ç”¨é®®æ˜è‰²å½©æ¨™ç¤º
-   **é£Ÿæç‹€æ…‹**: ä¸åŒè‰²å½©ä»£è¡¨ä¸åŒè™•ç†éšæ®µï¼Œé™„åŠ åœ–ç¤ºå¢å¼·è¾¨è­˜åº¦

## 3.4 æ‰‹æ©Ÿæœ€ä½³åŒ–ASCIIé£Ÿæè¡¨ç¤º
```
ç”Ÿè‚‰: [è‚‰]  åˆ‡å¥½çš„è‚‰: [â‰¡]  çƒ¤ç†Ÿçš„è‚‰: [â‰£]
è”¬èœ: [èœ]  åˆ‡å¥½çš„èœ: [â‰ˆ]  ç…®ç†Ÿçš„èœ: [â‰‹]
éºµåŒ…: [åŒ…]  çƒ¤å¥½çš„åŒ…: [â‰¢]
æ¼¢å ¡: [â‰£â‰‹â‰¢]
```

## 3.5 å‹•ç•«ç³»çµ±è¨­è¨ˆï¼ˆé‡å°æ‰‹æ©Ÿï¼‰

### 3.5.1 æ‰‹æ©Ÿå„ªåŒ–æ–‡å­—å‹•ç•«
-   **çœé›»è¨­è¨ˆ**: æ ¹æ“šé›»é‡è‡ªå‹•èª¿æ•´å‹•ç•«è¤‡é›œåº¦
-   **æ»‘é †æ¼¸è®Š**: ä½¿ç”¨CSS transitionsç¢ºä¿å‹•ç•«æµæš¢
-   **ç¡¬é«”åŠ é€Ÿ**: å°é—œéµå‹•ç•«ä½¿ç”¨transformæå‡æ•ˆèƒ½
-   **å‹•ç•«é–‹é—œ**: å…è¨±ä½¿ç”¨è€…èª¿æ•´æˆ–é—œé–‰å‹•ç•«ä»¥ç¯€çœé›»åŠ›

```javascript
// çœé›»æ¨¡å¼æª¢æ¸¬èˆ‡å‹•ç•«èª¿æ•´
function cook_checkBatteryAndAdjustAnimation() {
  if ('getBattery' in navigator) {
    navigator.getBattery().then(battery => {
      const batteryLevel = battery.level * 100;
      // ä½é›»é‡æ™‚é™ä½å‹•ç•«é »ç‡
      if (batteryLevel < 15) {
        cook_animationConfig.frameRate = 'low';
        cook_animationConfig.effects = 'minimal';
      }
    });
  }
}
```

### 3.5.2 è§¸æ§åé¥‹å‹•ç•«
-   **è¼•è§¸åé¥‹**: è¼•å¾®ç¸®æ”¾æ•ˆæœç¢ºèªé»æ“Š
-   **éœ‡å‹•åé¥‹**: ä½¿ç”¨Navigator.vibrate APIæä¾›è§¸æ„Ÿ
-   **è²éŸ³åé¥‹**: çŸ­ä¿ƒè²æ•ˆå¢å¼·äº’å‹•é«”é©—ï¼ˆå¯é—œé–‰ï¼‰

```javascript
// è§¸æ§åé¥‹å‡½æ•¸
function cook_touchFeedback(element, options = {}) {
  // è¦–è¦ºåé¥‹
  element.classList.add('cook-touch-active');
  setTimeout(() => element.classList.remove('cook-touch-active'), 150);
  
  // éœ‡å‹•åé¥‹ (å¦‚æœæ”¯æ´)
  if (navigator.vibrate && options.vibrate !== false) {
    navigator.vibrate(options.vibrateDuration || 20);
  }
  
  // è²éŸ³åé¥‹
  if (options.sound && !cook_settings.soundMuted) {
    const sound = new Audio(options.sound);
    sound.volume = cook_settings.soundVolume;
    sound.play().catch(err => console.log('ç„¡æ³•æ’­æ”¾éŸ³æ•ˆ'));
  }
}
```

### 3.5.3 æ‰‹æ©Ÿç‰ˆé€²åº¦æ¢å‹•ç•«
-   **çœé›»é€²åº¦æ¢**: ä½¿ç”¨CSSå¯¦ç¾è€ŒéJavaScriptå‹•ç•«
-   **å‚ç›´é€²åº¦æ¢**: é©åˆæ‰‹æ©Ÿç›´å¼ä½ˆå±€çš„å‚ç›´é€²åº¦é¡¯ç¤º

```css
/* å‚ç›´é€²åº¦æ¢æ¨£å¼ */
.cook-progress-vertical {
  height: 120px;
  width: 24px;
  background-color: #e0e0e0;
  border-radius: 12px;
  margin: 10px auto;
  position: relative;
  overflow: hidden;
}

.cook-progress-vertical-fill {
  position: absolute;
  bottom: 0;
  width: 100%;
  background: linear-gradient(to top, #4CAF50, #8BC34A);
  border-radius: 0 0 12px 12px;
  transition: height 0.3s ease-out;
}
```

```javascript
// æ›´æ–°å‚ç›´é€²åº¦æ¢
function cook_updateVerticalProgress(element, progress) {
  const fillElement = element.querySelector('.cook-progress-vertical-fill');
  if (fillElement) {
    fillElement.style.height = `${progress}%`;
    
    // æ›´æ–°é¡è‰²
    if (progress < 30) {
      fillElement.style.background = 'linear-gradient(to top, #F44336, #FF9800)';
    } else if (progress < 70) {
      fillElement.style.background = 'linear-gradient(to top, #FF9800, #FFEB3B)';
    } else {
      fillElement.style.background = 'linear-gradient(to top, #4CAF50, #8BC34A)';
    }
  }
}
```

## 3.6 æ‰‹æ©Ÿç‰¹æœ‰çš„äº’å‹•æ©Ÿåˆ¶
-   **æ–ä¸€æ–åŠŸèƒ½**: æ–å‹•æ‰‹æ©Ÿæ··åˆé£Ÿææˆ–åŠ é€Ÿçƒ¹é£ª
-   **å‚¾æ–œæ§åˆ¶**: å‚¾æ–œæ‰‹æ©Ÿæ§åˆ¶é£Ÿæç§»å‹•æ–¹å‘
-   **èªéŸ³æŒ‡ä»¤**: æ”¯æ´ç°¡å–®èªéŸ³å‘½ä»¤æ“æ§éŠæˆ²
-   **æ¢ç¢¼æƒæ**: æƒæå¯¦é«”ç‰©å“ç²å¾—éŠæˆ²å…§ç‰¹æ®Šé£Ÿæ

```javascript
// æ–ä¸€æ–æª¢æ¸¬
function cook_initShakeDetection(sensitivity = 15) {
  let lastX = 0, lastY = 0, lastZ = 0;
  let moveCounter = 0;
  
  window.addEventListener('devicemotion', (event) => {
    const acceleration = event.accelerationIncludingGravity;
    
    const deltaX = Math.abs(acceleration.x - lastX);
    const deltaY = Math.abs(acceleration.y - lastY);
    const deltaZ = Math.abs(acceleration.z - lastZ);
    
    if (deltaX > sensitivity || deltaY > sensitivity || deltaZ > sensitivity) {
      moveCounter++;
      
      if (moveCounter > 3) {
        // è§¸ç™¼æ–ä¸€æ–äº‹ä»¶
        const shakeEvent = new CustomEvent('cook-shake');
        document.dispatchEvent(shakeEvent);
        moveCounter = 0;
      }
    }
    
    lastX = acceleration.x;
    lastY = acceleration.y;
    lastZ = acceleration.z;
  });
}
```

# 4. æ ¸å¿ƒåŠŸèƒ½è¡¨ï¼ˆæ‰‹æ©Ÿå„ªåŒ–ï¼‰

## 4.1 ç©å®¶ç³»çµ±
-   **å¿«é€Ÿé…å°**: å–®é»ç™»å…¥å¾Œå³å¯é€²å…¥éŠæˆ²
-   **è§’è‰²åˆ‡æ›**: å·¦å³æ»‘å‹•å¿«é€Ÿåˆ‡æ›ä½¿ç”¨è§’è‰²
-   **ç°¡æ˜“å‡ç´š**: è§¸æ§å¼æŠ€èƒ½å‡ç´šç•Œé¢
-   **é›¢ç·šæˆå°±**: æ”¯æ´é›¢ç·šè§£é–æˆå°±ï¼Œä¸‹æ¬¡é€£ç·šåŒæ­¥

## 4.2 éŠæˆ²æ¨¡å¼
-   **å¿«é€Ÿæ¨¡å¼**: 5-10åˆ†é˜å…§å®Œæˆçš„çŸ­æ™‚éŠæˆ²
-   **é€šå‹¤æ¨¡å¼**: æ”¯æ´ä½ç¶²é€Ÿç’°å¢ƒï¼Œé©åˆç§»å‹•ä¸­éŠç©
-   **å–®æ‰‹æ¨¡å¼**: æ‰€æœ‰æ“ä½œå¯ç”¨å–®æ‰‹å®Œæˆ
-   **æŒ‘æˆ°æ¨¡å¼**: é™æ™‚ç‰¹æ®Šè¦å‰‡ï¼Œé«˜ç´šæœƒå“¡å°ˆå±¬

## 4.3 å·¥ä½œç«™è¨­è¨ˆï¼ˆç›´å¼æ‰‹æ©Ÿå„ªåŒ–ï¼‰
```
å‰è™•ç†ç«™:  
  _____
 |_åˆ‡___|
   

çƒ¹é£ªç«™:
  _____
 |_ç«___|


çµ„è£ç«™:
 [=====]
 |_____|


è£ç›¤ç«™:
 (::::)
 |_____|
```

## 4.4 æ‰‹æ©Ÿç‰ˆæ–™ç†ç³»çµ±
-   **ç°¡åŒ–é…æ–¹**: é‡å°æ‰‹æ©Ÿä½¿ç”¨ç²¾ç°¡é…æ–¹æ­¥é©Ÿ
-   **è¦–è¦ºæç¤º**: é…åˆæ–‡å­—ä½¿ç”¨ç°¡å–®åœ–ç¤ºå¢å¼·å¯è®€æ€§
-   **è§¸æ§çµ„åˆ**: æ‹–æ”¾å¼é£Ÿæçµ„åˆæ“ä½œ
-   **å¿«é€Ÿåˆ‡æ›**: å·¦å³æ»‘å‹•åˆ‡æ›ä¸åŒé£Ÿè­œ

## 4.5 æ‰‹æ©Ÿç‰ˆäº’å‹•æ©Ÿåˆ¶
```
å‚³é€ç³»çµ± (å‚ç›´è¨­è¨ˆ):

   [ä¸Šå‚³]
      â†‘
[ç©å®¶å·¥ä½œå°]
      â†“
   [ä¸‹å‚³]
```

## 4.6 BBSé¢¨æ ¼èˆ‡è§¸æ§æ“ä½œçµåˆ
-   **æ“ä½œæ¨¡å¼è½‰æ›**: ä¿ç•™æ–‡å­—ç¬¦è™Ÿèˆ‡ASCIIåœ–å½¢ï¼Œä½†æ”¹ç”¨é»æ“Šæ–¹å¼æ“ä½œ
-   **æ–‡å­—æŒ‰éˆ•è¨­è¨ˆ**: [åˆ‡] [æ‹¿] [æ”¾] [é€] ç­‰æ–‡å­—ç¬¦è™Ÿè¨­è¨ˆç‚ºå¯è§¸æ§æŒ‰éˆ•
-   **èŠå¤©å°è©±å„ªå…ˆ**: ç©å®¶é–“æºé€šä»¥èŠå¤©å°è©±ç‚ºä¸»ï¼Œæ”¯æ´å¿«æ·çŸ­èªèˆ‡è¡¨æƒ…
-   **è¼¸å…¥æ–¹å¼å„ªåŒ–**: é¿å…å¤§é‡æ‰‹å‹•è¼¸å…¥ï¼Œä½¿ç”¨é è¨­çŸ­èªèˆ‡å¿«æ·å›è¦†
-   **BBSæ„Ÿå®˜ä¿ç•™**: é›–æ¡ç”¨è§¸æ§æ“ä½œï¼Œä½†ä¿ç•™æ‰“å­—æ©Ÿæ•ˆæœã€ASCIIåœ–å½¢ç­‰å¾©å¤å…ƒç´ 
-   **æŒ‡ä»¤å›é¥‹**: é»æ“ŠæŒ‰éˆ•å¾Œé¡¯ç¤ºæ¨¡æ“¬æ–‡å­—æŒ‡ä»¤è¼¸å…¥æ•ˆæœï¼Œå¢å¼·BBSé«”é©—

éŠæˆ²æ“ä½œç¤ºä¾‹:

1.  å‚³çµ±BBSæ–¹å¼ (åƒè€ƒï¼Œä¸å†ä½¿ç”¨):
> cut onion
ç³»çµ±: ä½ æ­£åœ¨åˆ‡æ´‹è”¥... [====>      ] 42%

2.  æ‰‹æ©Ÿå„ªåŒ–æ–¹å¼ (å¯¦éš›æ¡ç”¨):
[ç©å®¶é»æ“Š [åˆ‡] æŒ‰éˆ•ï¼Œå†é»æ“Š [æ´‹] é£Ÿæåœ–ç¤º]
ç³»çµ±: ä½ æ­£åœ¨åˆ‡æ´‹è”¥... [====>      ] 42%

3.  èŠå¤©æºé€šæ–¹å¼:
[ç©å®¶é»æ“Š [éœ€è¦ç•ªèŒ„] å¿«æ·çŸ­èª]
@ä½ : éœ€è¦ç•ªèŒ„!
@å»šå¸«B: æ”¶åˆ°ï¼Œæ­£åœ¨è™•ç†!
```

## 4.7 èŠå¤©ç³»çµ±å¼·åŒ–
-   **é è¨­çŸ­èªé¢æ¿**: æ ¹æ“šç•¶å‰éŠæˆ²ç‹€æ…‹é¡¯ç¤ºæƒ…å¢ƒç›¸é—œçŸ­èª
-   **èªéŸ³è½‰æ–‡å­—**: æ”¯æ´èªéŸ³è¼¸å…¥è½‰æ›ç‚ºéŠæˆ²å…§æ–‡å­—
-   **è·¨èªè¨€æºé€š**: è‡ªå‹•ç¿»è­¯ä¸åŒèªè¨€çš„ç©å®¶è¨Šæ¯
-   **è¡¨æƒ…ç¬¦è™Ÿæ•´åˆ**: BBSé¢¨æ ¼çš„ASCIIè¡¨æƒ…ç¬¦è™Ÿå¿«æ·é¸æ“‡
-   **æŒ‡ä»¤èŠå¤©èåˆ**: å¯åœ¨èŠå¤©ä¸­ä½¿ç”¨ç‰¹æ®ŠæŒ‡ä»¤è§¸ç™¼éŠæˆ²æ“ä½œ
-   **AIèŠå¤©åŠ©æ‰‹**: æä¾›æ™ºèƒ½å›æ‡‰å»ºè­°ï¼Œå”åŠ©æ–°æ‰‹æºé€š

# 5. æŠ€è¡“å¯¦ç¾ (æ‰‹æ©Ÿå„ªåŒ–)

## 5.1 è¡Œå‹•è£ç½®æŠ€è¡“
-   **Progressive Web App**: å¯å®‰è£åˆ°ä¸»è¢å¹•ï¼Œæ¥è¿‘åŸç”ŸAppé«”é©—
-   **Service Workers**: å„ªåŒ–é›¢ç·šé«”é©—èˆ‡ç¶²è·¯è«‹æ±‚ç®¡ç†
-   **è£ç½®APIæ•´åˆ**: ä½¿ç”¨éœ‡å‹•ã€æ–¹å‘æ„Ÿæ¸¬ç­‰æ‰‹æ©Ÿç‰¹æœ‰åŠŸèƒ½
-   **è§¸æ§äº‹ä»¶å„ªåŒ–**: ä½¿ç”¨ Pointer Events å„ªåŒ–å¤šé»è§¸æ§

## 5.2 æ‰‹æ©Ÿç¶²è·¯å„ªåŒ–
-   **è¼•é‡ç´šå”è­°**: æ¸›å°‘é€šè¨Šé‡ä»¥ç¯€çœè¡Œå‹•æ•¸æ“š
-   **å¢é‡æ›´æ–°**: åƒ…å‚³è¼¸è®Šå‹•éƒ¨åˆ†ä»¥é™ä½æ•¸æ“šç”¨é‡
-   **é€£ç·šæ¢å¾©**: è‡ªå‹•é‡é€£æ©Ÿåˆ¶è™•ç†ç¶²è·¯ä¸ç©©å®šæƒ…æ³
-   **æ•¸æ“šå£“ç¸®**: å£“ç¸®å‚³è¼¸è³‡æ–™æ¸›å°‘é »å¯¬éœ€æ±‚

## 5.3 WebSocketæ‰‹æ©Ÿå„ªåŒ–
-   **å¿ƒè·³æ©Ÿåˆ¶**: ä¿æŒé€£æ¥ä½†æ¸›å°‘æ•¸æ“šå‚³è¼¸
-   **è‡ªå‹•é‡é€£**: ç¶²çµ¡æ³¢å‹•æ™‚æ™ºèƒ½æ¢å¾©é€£æ¥
-   **ä½é »æ¨¡å¼**: å¼±ç¶²çµ¡ç’°å¢ƒä¸‹é™ä½åŒæ­¥é »ç‡
-   **é›¢ç·šç·©å­˜**: æš«å­˜æœ€å¾Œç‹€æ…‹ä»¥ä¾¿é‡é€£æ¢å¾©

## 5.4 è§¸æ§æ“ä½œä»‹é¢
-   **è‡ªå®šç¾©è™›æ“¬æŒ‰éµ**: å¯èª¿æ•´ä½ç½®çš„è™›æ“¬æ“ä½œéµ
-   **æ‰‹å‹¢å‘½ä»¤**: è‡ªå®šç¾©æ»‘å‹•æ‰‹å‹¢åŸ·è¡Œå¸¸ç”¨æ“ä½œ
-   **æ‡¸æµ®æŒ‰éˆ•**: å§‹çµ‚å¯è¦‹çš„ä¸»è¦åŠŸèƒ½æµ®å‹•æŒ‰éˆ•
-   **å€åŸŸè§¸æ§**: è¢å¹•åˆ†å€å°æ‡‰ä¸åŒæ“ä½œåŠŸèƒ½

## 5.5 æœƒå“¡æ•¸æ“šåŒæ­¥å„ªåŒ–
-   **å¾Œå°åŒæ­¥**: éŠæˆ²æ•¸æ“šåœ¨èƒŒæ™¯ç„¡æ„ŸåŒæ­¥
-   **æ™ºèƒ½ç·©å­˜**: é è¼‰å¯èƒ½éœ€è¦çš„è³‡æºé™ä½ç­‰å¾…æ™‚é–“
-   **å¢é‡å‚™ä»½**: å®šæœŸå‚™ä»½éŠæˆ²é€²åº¦ï¼Œä¸å½±éŸ¿éŠæˆ²é«”é©—
-   **è·¨è£ç½®åŒæ­¥**: æ‰‹æ©Ÿå’Œé›»è…¦é–“ç„¡ç¸«åˆ‡æ›éŠæˆ²

## 5.6 è¡Œå‹•è£ç½®å®¹éŒ¯è¨­è¨ˆ
-   **ä½é›»é‡æ¨¡å¼**: æª¢æ¸¬ä½é›»é‡è‡ªå‹•ç°¡åŒ–ç‰¹æ•ˆ
-   **å¼±ç¶²çµ¡é©æ‡‰**: è‡ªå‹•èª¿æ•´æ•¸æ“šå‚³è¼¸é »ç‡
-   **æ“ä½œé˜²æŠ–**: é¿å…å¤šæ¬¡è§¸æ§èª¤è§¸ç™¼é‡è¤‡æ“ä½œ
-   **æ–·é»çºŒç©**: æ”¯æ´ä¸­æ–·å¾Œå¾ä¸Šæ¬¡é€²åº¦ç¹¼çºŒ

## 5.7 æ‰‹æ©Ÿæ¸²æŸ“å„ªåŒ–
-   **æ¼¸é€²å¼è¼‰å…¥**: å„ªå…ˆé¡¯ç¤ºé—œéµç•Œé¢å…ƒç´ 
-   **è³‡æºé åŠ è¼‰**: é æ¸¬ä¸¦é åŠ è¼‰å¯èƒ½éœ€è¦çš„è³‡æº
-   **GPUåŠ é€Ÿ**: ä½¿ç”¨ç¡¬é«”åŠ é€Ÿæå‡å‹•ç•«æµæš¢åº¦
-   **éæ ¸å¿ƒå»¶é²è¼‰å…¥**: æ¬¡è¦è³‡æºå»¶é²è¼‰å…¥ç¯€çœå•Ÿå‹•æ™‚é–“

## 5.8 å®‰å…¨èˆ‡éš±ç§ (æ‰‹æ©Ÿç‰¹åˆ¥è€ƒé‡)
-   **å®‰å…¨å­˜å„²**: ä½¿ç”¨æ‰‹æ©Ÿå®‰å…¨å­˜å„²å€å­˜æ”¾æ•æ„Ÿè³‡è¨Š
-   **ç”Ÿç‰©è­˜åˆ¥**: æ”¯æ´æŒ‡ç´‹/Face IDå¢å¼·ç™»å…¥å®‰å…¨æ€§
-   **é˜²æˆªå±**: æ•æ„Ÿè³‡è¨Šé é¢é˜²æ­¢æˆªå±åŠŸèƒ½
-   **è‡ªå‹•ç™»å‡º**: é–’ç½®éä¹…è‡ªå‹•ç™»å‡ºä¿è­·å¸³è™Ÿå®‰å…¨

## 5.9 æœªä¾†æ•ˆèƒ½å„ªåŒ–è¦åŠƒ
-   **è² è¼‰ç›£æ§**: æŒçºŒç›£æ§ç³»çµ±æ•ˆèƒ½èˆ‡ç”¨æˆ¶å¢é•·è¶¨å‹¢
-   **åˆ†éšæ®µå„ªåŒ–**: æ ¹æ“šç”¨æˆ¶é‡å¢é•·åˆ¶å®šåˆ†éšæ®µçš„å„ªåŒ–è¨ˆåŠƒ
-   **æ“´å±•ç­–ç•¥**: ç•¶ç”¨æˆ¶é‡é”åˆ°é è¨­é–¾å€¼æ™‚å¯¦æ–½ä¼ºæœå™¨æ“´å±•æ–¹æ¡ˆ
-   **æŠ€è¡“è©•ä¼°**: ç•¶å‡ºç¾æ•ˆèƒ½ç“¶é ¸æ™‚ï¼Œè©•ä¼°æ–°æŠ€è¡“å°å…¥(å¦‚WebAssembly)çš„å¯è¡Œæ€§èˆ‡æŠ•å…¥ç”¢å‡ºæ¯”
-   **è³‡æºåˆ†é…**: å„ªå…ˆä¿è­‰æ ¸å¿ƒéŠæˆ²é«”é©—ç©©å®šï¼Œå†é€²è¡Œé€²éšæ•ˆèƒ½å„ªåŒ–

## 5.10 APIç‰ˆæœ¬ç®¡ç†
-   **èªç¾©åŒ–ç‰ˆæœ¬**: ä½¿ç”¨ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è¨‚è™Ÿ(v1.2.3)çš„APIç‰ˆæœ¬å‘½å
-   **å‘å¾Œå…¼å®¹æ‰¿è«¾**: åŒä¸€ä¸»ç‰ˆæœ¬å…§ä¿è­‰å‘å¾Œå…¼å®¹ï¼Œé¿å…ç ´å£ç¾æœ‰åŠŸèƒ½
-   **æ£„ç”¨æµç¨‹**: æ–°APIç‰ˆæœ¬ç™¼å¸ƒå‰ï¼ŒèˆŠåŠŸèƒ½å…ˆæ¨™è¨˜æ£„ç”¨ä¸¦ä¿ç•™è‡³å°‘6å€‹æœˆ
-   **ç‰ˆæœ¬è½‰æ›å±¤**: ä¼ºæœå™¨ç«¯è™•ç†ä¸åŒç‰ˆæœ¬APIè«‹æ±‚çš„è½‰æ›ï¼Œç¢ºä¿èˆŠç‰ˆå®¢æˆ¶ç«¯ä»èƒ½æ­£å¸¸é‹ä½œ
-   **æ–‡æª”è‡ªå‹•åŒ–**: APIè®Šæ›´è‡ªå‹•åæ˜ åˆ°é–‹ç™¼æ–‡æª”ï¼Œç¢ºä¿æ–‡æª”èˆ‡å¯¦ç¾åŒæ­¥
-   **å®¢æˆ¶ç«¯é©é…**: å®¢æˆ¶ç«¯æª¢æ¸¬å¯ç”¨APIç‰ˆæœ¬ï¼Œæ ¹æ“šè¨­å‚™åŠŸèƒ½é™ç´šè™•ç†

# 6. ç®¡ç†å¾Œå° (æ¡Œé¢ç‰ˆè¨­è¨ˆ)

## 6.1 ç®¡ç†å¾Œå°åŠŸèƒ½
-   **è³‡æ–™æ¦‚è¦½**: ç©å®¶æ´»èºåº¦ã€ç•™å­˜ç‡ç­‰æ•¸æ“šçµ±è¨ˆ
-   **å…§å®¹ç®¡ç†**: ç·¨è¼¯éŠæˆ²é…æ–¹ã€æˆå°±ç­‰å…§å®¹
-   **æœƒå“¡ç®¡ç†**: æŸ¥çœ‹å’Œä¿®æ”¹æœƒå“¡ç‹€æ…‹ã€æ¬Šé™
-   **éŠæˆ²ç›£æ§**: å³æ™‚ç›£æ§ä¼ºæœå™¨è² è¼‰å’ŒéŠæˆ²é€²è¡Œ
-   **å ±è¡¨ç³»çµ±**: ç”¢ç”Ÿè©³ç´°æ•¸æ“šå ±è¡¨èˆ‡è¦–è¦ºåŒ–åœ–è¡¨
-   **AIå…§å®¹ç”Ÿæˆç®¡ç†**: é…ç½®Google AIæç¤ºè©æ¨¡æ¿ï¼Œè‡ªå‹•ç”Ÿæˆç„¡é™éŠæˆ²å…§å®¹

## 6.2 å¾Œå°ç•Œé¢è¨­è¨ˆ
```
+--------------------------------------------------------------+
|  æ–™ç†æ€¥å…ˆé‹’ - ç®¡ç†å¾Œå°                          ç®¡ç†å“¡ [ç™»å‡º] |
+----------------+-------------------------------------------+
| å„€è¡¨æ¿         |  â˜… ç³»çµ±æ¦‚æ³                               |
| æœƒå“¡ç®¡ç†        |  ç¸½æœƒå“¡æ•¸: 1,245 | ä»Šæ—¥æ´»èº: 328          |
| éŠæˆ²å…§å®¹        |  CPU: 32% | è¨˜æ†¶é«”: 45% | ç¶²è·¯: 62Mbps    |
| æˆå°±ç³»çµ±        |                                           |
| äº¤æ˜“è¨˜éŒ„        |  â˜… éŠæˆ²æˆ¿é–“ç‹€æ…‹                          |
| å ±è¡¨ä¸­å¿ƒ        |  æ´»èºæˆ¿é–“: 24 | ç­‰å¾…é…å°: 12äºº            |
| ç³»çµ±è¨­å®š        |  é«˜å³°æ™‚æ®µ: 18:00-22:00                    |
| æ—¥èªŒæŸ¥è©¢        |                                           |
| AIå…§å®¹ç®¡ç†     |  â˜… æœƒå“¡åˆ†ä½ˆ                               |
|                |  [åœ°å€åˆ†ä½ˆåœ–è¡¨]                            |
|                |                                           |
|                |  â˜… è¿‘æœŸæ´»å‹•                               |
|                |  é€±æœ«æŒ‘æˆ°è³½ (é€²è¡Œä¸­)                       |
|                |  ç‰¹åˆ¥èœè­œæ¨å»£ (è¨ˆåŠƒä¸­)                     |
+----------------+-------------------------------------------+
```

## 6.3 ç®¡ç†æ¬Šé™åˆ†ç´š
-   **è¶…ç´šç®¡ç†å“¡**: å…¨éƒ¨åŠŸèƒ½è¨ªå•æ¬Šé™
-   **å…§å®¹ç®¡ç†å“¡**: åƒ…å¯ç·¨è¼¯éŠæˆ²å…§å®¹ï¼Œç„¡æœƒå“¡ç®¡ç†æ¬Šé™
-   **å®¢æœäººå“¡**: è™•ç†æœƒå“¡å•é¡Œï¼Œæœ‰é™çš„æ•¸æ“šè¨ªå•æ¬Šé™
-   **æ•¸æ“šåˆ†æå¸«**: åªè®€æ¬Šé™ï¼Œå´é‡æ–¼å ±è¡¨å’Œçµ±è¨ˆæ•¸æ“š

## 6.4 æ•¸æ“šåˆ†æå·¥å…·
-   **ç©å®¶è¡Œç‚ºåˆ†æ**: ç†±åŠ›åœ–é¡¯ç¤ºç©å®¶æ“ä½œåå¥½
-   **ç•™å­˜é æ¸¬**: åŸºæ–¼æ©Ÿå™¨å­¸ç¿’çš„æœƒå“¡æµå¤±é æ¸¬æ¨¡å‹
-   **A/Bæ¸¬è©¦**: æ–°åŠŸèƒ½æ¸¬è©¦èˆ‡æ•ˆæœè©•ä¼°
-   **éŠæˆ²å¹³è¡¡æ€§åˆ†æ**: è‡ªå‹•æª¢æ¸¬éé›£æˆ–éæ˜“çš„é…æ–¹

# 7. éŠæˆ²æµç¨‹ç¯„ä¾‹ (æ‰‹æ©Ÿç‰ˆ)

## 7.1 æœƒå“¡ç™»å…¥æµç¨‹ (æ‰‹æ©Ÿç‰ˆ)
```
+--------------------------+
|    æ–™ç†æ€¥å…ˆé‹’ v1.0      |
|                         |
|   [Logoå‹•ç•«é¡¯ç¤ºå€åŸŸ]    |
|                         |
| [ä½¿ç”¨ä¼šå‘˜è´¦å·ä¸€é”®ç™»å½•]  |
|                         |
| æˆ–                      |
|                         |
| å¸³è™Ÿ: [_______________] |
| å¯†ç¢¼: [***************] |
|                         |
| [ç™»å…¥]                  |
|                         |
| [å¿˜è¨˜å¯†ç¢¼?] [åŠ å…¥æœƒå“¡]  |
|                         |
| åœ¨ç·šæœƒå“¡: 32äºº          |
+--------------------------+
```

## 7.2 éŠæˆ²é€²è¡Œç¯„ä¾‹ (æ‰‹æ©Ÿç‰ˆ)
```
+--------------------------+
| @å»šå¸«A        å‰©é¤˜: 3:45 |
+--------------------------+
| ç›®å‰è¨‚å–®:               |
| æ¼¢å ¡çš‡å ¡ [â–ˆâ–ˆâ–ˆâ–‘â–‘â–‘] 50%   |
+--------------------------+
|                         |
| å·¥ä½œå°:                 |
| [æ´‹][è•ƒ][è‚‰][_][_]      |
|                         |
+--------------------------+
| ç•¶å‰æ“ä½œ:               |
| åˆ‡æ´‹è”¥ä¸­... [=====>  ]  |
+--------------------------+
|                         |
| [åˆ‡]  [æ‹¿]  [æ”¾]  [å‚³]  |
|                         |
| [ğŸ”Š] [ğŸ˜€] [â“] [âš™ï¸]  |
+--------------------------+
```

## 7.3 èŠå¤©ç³»çµ± (æ‰‹æ©Ÿç‰ˆ)
```
+--------------------------+
| åœ˜éšŠèŠå¤©               X |
+--------------------------+
| ç³»çµ±: æ–°è¨‚å–®ã€Œçš‡å®¶æ¼¢å ¡ã€ |
|                         |
| @å»šå¸«B: éœ€è¦æ›´å¤šç•ªèŒ„!   |
|                         |
| @ä½ : æ”¶åˆ°ï¼Œæ­£åœ¨è™•ç†      |
|                         |
| @å»šå¸«C: ç‰›è‚‰æº–å‚™å¥½äº†     |
+--------------------------+
|                         |
| [éœ€è¦ç•ªèŒ„] [éœ€è¦è‚‰]      |
|                         |
| [æ”¶åˆ°!] [é¦¬ä¸Šå‚³éå»]     |
|                         |
| [____________][ç™¼é€]    |
+--------------------------+
```

# 8. æœƒå“¡å°ˆå±¬åŠŸèƒ½ (æ‰‹æ©Ÿå„ªåŒ–)

## 8.1 æœƒå“¡æˆå°±ç³»çµ±
-   **è§£é–é€šçŸ¥**: æˆå°±è§£é–ç«‹å³æ¨é€é€šçŸ¥
-   **åˆ†äº«åŠŸèƒ½**: ä¸€éµåˆ†äº«æˆå°±åˆ°ç¤¾äº¤åª’é«”
-   **æ¼¸é€²å¼æŒ‘æˆ°**: æœƒå“¡ç­‰ç´šå°æ‡‰çš„éšæ¢¯å¼æˆå°±ç³»çµ±
-   **éš¨èº«æŸ¥çœ‹**: éš¨æ™‚æŸ¥çœ‹æˆå°±å®Œæˆé€²åº¦

## 8.2 VIPæœƒå“¡æ‰‹æ©Ÿç‰¹æ¬Š
-   **å„ªå…ˆé…å°**: ç¸®çŸ­ç­‰å¾…æ™‚é–“
-   **ç¨å®¶è§’è‰²å‹•ç•«**: ç‰¹æ®Šè¦–è¦ºæ•ˆæœ
-   **é¡å¤–å­˜æª”æ¬„ä½**: ä¿å­˜æ›´å¤šéŠæˆ²é€²åº¦
-   **å…å»£å‘Šé«”é©—**: ç„¡å»£å‘Šå¹²æ“¾

## 8.3 ç¤¾ç¾¤äº’å‹• (æ‰‹æ©Ÿå„ªåŒ–)
-   **ä¸€éµé‚€è«‹**: é€éç¤¾äº¤APPé‚€è«‹å¥½å‹
-   **å¿«é€Ÿçµ„éšŠ**: æƒæQRç¢¼å¿«é€Ÿçµ„éšŠ
-   **èªéŸ³èŠå¤©**: éŠæˆ²ä¸­èªéŸ³æºé€š
-   **ç¤¾ç¾¤å‹•æ…‹**: æŸ¥çœ‹å¥½å‹éŠæˆ²é€²åº¦

## 8.4 è¡Œå‹•æ”¯ä»˜æ•´åˆ
-   **å¿«é€Ÿæ”¯ä»˜**: æŒ‡ç´‹æ”¯ä»˜å‡ç´šæœƒå“¡
-   **å°é¡è³¼è²·**: ä¾¿æ·è³¼è²·éŠæˆ²é“å…·
-   **çå‹µå›é¥‹**: é¦–æ¬¡å„²å€¼ç‰¹åˆ¥çå‹µ
-   **å®šæœŸè¨‚é–±**: æœˆåº¦VIPè‡ªå‹•çºŒè¨‚é¸é …

## 8.5 æœƒå“¡å»šå¸«å…¬æœƒç³»çµ±
-   **å…¬æœƒå‰µå»º**: é«˜ç´šæœƒå“¡å¯å‰µå»ºè‡ªå·±çš„å»šå¸«å…¬æœƒï¼Œè¨­å®šåç¨±ã€å¾½ç« èˆ‡è¦å‰‡
-   **å…¬æœƒéšç´š**: å…¬æœƒå…§å¯è¨­å®šä¸åŒè·ä½èˆ‡æ¬Šé™(å¦‚å­¸å¾’ã€å»šå¸«ã€ä¸»å»šã€è¡Œæ”¿ç¸½å»š)
-   **å…¬æœƒä»»å‹™**: å…¬æœƒå°ˆå±¬åˆä½œä»»å‹™ï¼Œéœ€å¤šåæœƒå“¡å”ä½œå®Œæˆ
-   **å…¬æœƒèŠå¤©**: å…¬æœƒå°ˆç”¨èŠå¤©é »é“ï¼Œæ”¯æ´èªéŸ³èˆ‡æ–‡å­—æºé€š
-   **å…¬æœƒç«¶è³½**: ä¸åŒå…¬æœƒé–“çš„å®šæœŸç«¶è³½æ´»å‹•ï¼Œçå‹µç©åˆ†èˆ‡å°ˆå±¬å¾½ç« 
-   **æ‹›å‹Ÿç³»çµ±**: å…¬é–‹æ‹›å‹Ÿé é¢ï¼Œæœƒå“¡å¯ç€è¦½ä¸¦ç”³è«‹åŠ å…¥å…¬æœƒ
-   **å…¬æœƒç­‰ç´š**: æ ¹æ“šå…¬æœƒæ•´é«”æ´»èºåº¦èˆ‡æˆå°±æå‡å…¬æœƒç­‰ç´šï¼Œè§£é–ç‰¹æ¬Š
-   **å…¬æœƒé ˜åœ°**: é«˜ç­‰ç´šå…¬æœƒå¯æ“æœ‰å°ˆå±¬è™›æ“¬é¤å»³ç©ºé–“ï¼Œå±•ç¤ºåˆä½œæˆæœ

### 8.6 ç©å®¶æ’è¡Œæ¦œç³»çµ±

ç‚ºæå‡ç©å®¶é–“çš„ç«¶çˆ­èˆ‡äº’å‹•ï¼ŒéŠæˆ²å…§å»ºäº†åŠŸèƒ½å®Œå–„çš„æ’è¡Œæ¦œç³»çµ±ã€‚ç©å®¶å¯ä»¥å¾éŠæˆ²å¤§å»³æˆ–éŠæˆ²çµç®—é é¢é€²å…¥æ’è¡Œæ¦œï¼ŒæŸ¥çœ‹è‡ªå·±å’Œä»–äººçš„è¡¨ç¾ã€‚

#### 8.6.1 æ’è¡Œæ¦œåŠŸèƒ½

1.  **å¤šç¶­åº¦æ¦œå–®**:
    -   **ç©åˆ†æ¦œ**: æ ¹æ“šç©å®¶ç´¯ç©çš„ç¸½éŠæˆ²ç©åˆ† (`points`) é€²è¡Œæ’åï¼Œæ˜¯è¡¡é‡ç©å®¶ç¶œåˆå¯¦åŠ›çš„æ ¸å¿ƒæŒ‡æ¨™ã€‚
    -   **ç­‰ç´šæ¦œ**: æ ¹æ“šç©å®¶çš„ç­‰ç´š (`level`) é€²è¡Œæ’åï¼Œåæ˜ ç©å®¶çš„é•·æœŸæŠ•å…¥èˆ‡ç¶“é©—ã€‚
    -   **è‚å¸æ¦œ**: æ ¹æ“šç©å®¶å®Œæˆçš„ç¸½éŠæˆ²å ´æ¬¡ (`games_played`) é€²è¡Œæ’åï¼Œè¡¨å½°æœ€æ´»èºçš„ç©å®¶ã€‚
    -   **å»šç¥æ¦œ**: æ ¹æ“šç©å®¶æˆåŠŸå®Œæˆçš„ç¸½è¨‚å–®æ•¸ (`orders_completed`) é€²è¡Œæ’åï¼Œè¡¡é‡ç©å®¶çš„éŠæˆ²æ•ˆç‡å’ŒæŠ€å·§ã€‚

2.  **æˆ‘çš„æ’å**:
    -   åœ¨æ’è¡Œæ¦œé é¢é ‚éƒ¨ï¼Œç³»çµ±æœƒä»¥é«˜äº®å€å¡Šé¡¯ç¤ºç•¶å‰ç™»å…¥ç©å®¶åœ¨æ‰€é¸æ¦œå–®ä¸Šçš„**å³æ™‚æ’å**ã€åˆ†æ•¸å’Œå€‹äººè³‡è¨Šã€‚
    -   æ­¤åŠŸèƒ½è®“ç©å®¶èƒ½å¿«é€Ÿäº†è§£è‡ªå·±çš„ä½ç½®ï¼Œç„¡éœ€åœ¨æ¦œå–®ä¸­è²»åŠ›å°‹æ‰¾ã€‚

3.  **åˆ†é ç€è¦½**:
    -   æ’è¡Œæ¦œæ”¯æ´åˆ†é åŠŸèƒ½ï¼Œç¢ºä¿åœ¨ç©å®¶æ•¸é‡çœ¾å¤šæ™‚ä¹Ÿèƒ½æµæš¢åœ°è¼‰å…¥å’Œç€è¦½ã€‚

#### 8.6.2 æŠ€è¡“å¯¦ç¾

-   **å‰ç«¯**:
    -   æ’è¡Œæ¦œé é¢ç‚º `public/cook-leaderboard.html`ã€‚
    -   ä½¿ç”¨éåŒæ­¥è«‹æ±‚ (Fetch API) å¾å¾Œç«¯ç²å–æ•¸æ“šï¼Œå‹•æ…‹æ¸²æŸ“é é¢å…§å®¹ã€‚
    -   é é¢é ‚éƒ¨æ¨™ç±¤ (Tabs) ç”¨æ–¼åˆ‡æ›ä¸åŒçš„æ’è¡Œæ¦œï¼Œä¸¦è§¸ç™¼å°æ‡‰çš„ API è«‹æ±‚ã€‚
    -   å°ˆé–€çš„è«‹æ±‚æœƒç²å–ã€Œæˆ‘çš„æ’åã€ä¸¦é¡¯ç¤ºåœ¨å›ºå®šä½ç½®ã€‚

-   **å¾Œç«¯**:
    -   ä¸»è¦ API ç«¯é»ç‚º `/api/leaderboard`ï¼Œé€šéæŸ¥è©¢åƒæ•¸ `sort_by` ä¾†å€åˆ†ä¸åŒçš„æ¦œå–®ã€‚
    -   æ–°å¢å°ˆç”¨ API ç«¯é» `/api/leaderboard/my-rank`ï¼Œä½¿ç”¨ PostgreSQL çš„çª—å£å‡½æ•¸ `RANK()` ä¾†é«˜æ•ˆè¨ˆç®—ç‰¹å®šç©å®¶çš„æ’åï¼Œé¿å…äº†å®¢æˆ¶ç«¯æˆ–ä¼ºæœç«¯çš„é‡åº¦è¨ˆç®—ã€‚

# 9. å¯¦ç¾å»ºè­°èˆ‡æœ€ä½³å¯¦è¸

## 9.1 è¡Œå‹•å„ªå…ˆé–‹ç™¼ç­–ç•¥
-   **è¡Œå‹•å…ˆè¡Œ**: å…ˆå®Œæˆæ‰‹æ©Ÿç‰ˆæœ¬å†é©é…æ¡Œé¢ç‰ˆ
-   **è§¸æ§å„ªå…ˆ**: æ‰€æœ‰ç•Œé¢å…ˆè€ƒæ…®è§¸æ§æ“ä½œ
-   **æ•ˆèƒ½å„ªå…ˆ**: ç¢ºä¿åœ¨ä¸­ä½éšæ‰‹æ©Ÿä¹Ÿèƒ½æµæš¢é‹è¡Œ
-   **æ•¸æ“šç¯€ç´„**: å„ªåŒ–è³‡æºå¤§å°æ¸›å°‘ä¸‹è¼‰é‡

## 9.2 å‰ç«¯æ¡†æ¶é¸æ“‡
-   **Vue.js + Capacitor**: å¯¦ç¾é¡åŸç”ŸAPPé«”é©—
-   **ä½¿ç”¨TypeScript**: ç¢ºä¿ä»£ç¢¼ç©©å®šæ€§å’Œé¡å‹å®‰å…¨
-   **æ¨¡å¡ŠåŒ–è¨­è¨ˆ**: åŠŸèƒ½çµ„ä»¶ç¨ç«‹ï¼Œæ–¹ä¾¿ç¶­è­·å’Œæ“´å±•
-   **éŸ¿æ‡‰å¼è¨­è¨ˆ**: ç¢ºä¿åœ¨ä¸åŒè¨­å‚™ä¸Šçš„é¡¯ç¤ºæ•ˆæœ

## 9.3 é–‹ç™¼æµç¨‹å»ºè­°
-   **å…ˆå¯¦ç¾æ ¸å¿ƒåŠŸèƒ½**: å„ªå…ˆé–‹ç™¼åŸºæœ¬æ–™ç†å’Œå”ä½œæ©Ÿåˆ¶
-   **æ—©æœŸå¯¦æ©Ÿæ¸¬è©¦**: åœ¨å¤šæ¬¾æ‰‹æ©Ÿä¸Šæ¸¬è©¦ç¢ºä¿å…¼å®¹æ€§
-   **å¢é‡æ›´æ–°ç­–ç•¥**: å…è¨±éƒ¨åˆ†åŠŸèƒ½æ›´æ–°ä¸éœ€é‡è£æ‡‰ç”¨
-   **A/Bæ¸¬è©¦**: å°é—œéµåŠŸèƒ½é€²è¡Œä¸åŒç‰ˆæœ¬æ¸¬è©¦

## 9.4 è¡Œå‹•è£ç½®æ•ˆèƒ½è€ƒé‡
-   **é›»æ± å„ªåŒ–**: é™ä½è€—é›»é‡çš„è¨­è¨ˆç­–ç•¥
-   **ç¶²çµ¡å„ªåŒ–**: è€ƒæ…®å¼±ç¶²å’Œæ–·ç¶²æƒ…å¢ƒ
-   **æº«åº¦ç®¡ç†**: é¿å…æ‰‹æ©Ÿéç†±çš„å„ªåŒ–æ–¹æ¡ˆ
-   **è¨˜æ†¶é«”ç®¡ç†**: æ¸›å°‘è¨˜æ†¶é«”ä½¿ç”¨é‡å»¶é•·éŠç©æ™‚é–“

# 10. æŠ€è¡“éœ€æ±‚
-   **å‰ç«¯**: Vue.js + Capacitorï¼Œæ”¯æ´PWAå®‰è£åˆ°ä¸»è¢å¹•
-   **å¾Œç«¯**: Node.jsä¼ºæœå™¨ï¼Œæ”¯æ´WebSocket
-   **è³‡æ–™åº«**: PostgreSQLå­˜å„²æœƒå“¡èˆ‡éŠæˆ²æ•¸æ“š
-   **API**: RESTful APIèˆ‡æœƒå“¡ç³»çµ±æ•´åˆ
-   **èªè­‰**: JWTä»¤ç‰Œèˆ‡ç”Ÿç‰©è­˜åˆ¥çµåˆçš„é›™é‡é©—è­‰
-   **éƒ¨ç½²**: é›²ç«¯æœå‹™ï¼Œè‡ªå‹•æ“´å±•æ¶æ§‹
-   **åˆ†æ**: æ•´åˆè¡Œå‹•æ‡‰ç”¨åˆ†æå·¥å…·è¿½è¹¤ä½¿ç”¨è€…è¡Œç‚º

# 11. Google AI æ•´åˆèˆ‡è‡ªå‹•åŒ–å…§å®¹ç”Ÿæˆç³»çµ±

## 11.1 ç³»çµ±æ¦‚è¿°
-   **è‡ªå‹•åŒ–ä»»å‹™ç”Ÿæˆ**: ä½¿ç”¨Google AI APIè‡ªå‹•ç”Ÿæˆç„¡é™å¤šæ¨£åŒ–çš„æ–™ç†ä»»å‹™å’Œé…æ–¹
-   **æç¤ºè©æ¨¡æ¿ç®¡ç†**: ç®¡ç†å“¡å¯åœ¨å¾Œå°è¨­å®šèˆ‡èª¿æ•´AIæç¤ºè©æ¨¡æ¿
-   **ä¸Šä¸‹æ–‡æ„ŸçŸ¥ç”Ÿæˆ**: æ ¹æ“šç©å®¶ç­‰ç´šã€åå¥½ã€éŠæˆ²æ™‚é–“ç”Ÿæˆé©åˆçš„å…§å®¹
-   **å­£ç¯€æ€§èˆ‡ç¯€æ—¥å…§å®¹**: è‡ªå‹•æ ¹æ“šç•¶å‰æ—¥æœŸç”Ÿæˆæ‡‰æ™¯æ–™ç†èˆ‡æ´»å‹•

## 11.2 æç¤ºè©æ¨¡æ¿é¡å‹
-   **éš¨æ©Ÿé£ŸææŒ‘æˆ°**: ç”Ÿæˆéš¨æ©Ÿé£Ÿæçµ„åˆåŠé…æ–¹é›£åº¦
-   **ä¸»é¡Œä»»å‹™**: ç¯€æ—¥ã€å­£ç¯€æˆ–ç‰¹æ®Šå ´åˆç›¸é—œçš„æ–™ç†ä»»å‹™
-   **å€åŸŸç‰¹è‰²èœ**: ä¸åŒåœ‹å®¶æˆ–åœ°å€çš„ç‰¹è‰²æ–™ç†æŒ‘æˆ°
-   **é£Ÿæé™åˆ¶æŒ‘æˆ°**: ç‰¹å®šé£Ÿæé¡å‹(å¦‚ç´”ç´ ã€ç„¡éº©è³ª)çš„å‰µæ„æ–™ç†
-   **é€Ÿåº¦æŒ‘æˆ°**: çŸ­æ™‚é–“å…§å®Œæˆçš„ç°¡æ˜“æ–™ç†ä»»å‹™

## 11.3 å¯¦ç¾æ¶æ§‹
```javascript
// AI å…§å®¹ç”Ÿæˆç³»çµ±æ¶æ§‹
{
  "system": "Google AI API Integration",
  "components": [
    {
      "name": "æç¤ºè©æ¨¡æ¿åº«",
      "description": "å„²å­˜å„é¡å‹é è¨­æç¤ºè©æ¨¡æ¿"
    },
    {
      "name": "ä¸Šä¸‹æ–‡è™•ç†å™¨",
      "description": "åˆ†æéŠæˆ²ç‹€æ…‹èˆ‡ç©å®¶æ•¸æ“š"
    },
    {
      "name": "APIé©é…å±¤",
      "description": "è™•ç†èˆ‡Google AIçš„é€šè¨Š"
    },
    {
      "name": "å…§å®¹æ ¼å¼åŒ–å™¨",
      "description": "å°‡AIå›æ‡‰è½‰æ›ç‚ºéŠæˆ²å¯ç”¨æ ¼å¼"
    }
  ],
  "dataFlow": "ä¸Šä¸‹æ–‡è™•ç†å™¨ â†’ æç¤ºè©æ¨¡æ¿åº« â†’ APIé©é…å±¤ â†’ Google AI â†’ å…§å®¹æ ¼å¼åŒ–å™¨ â†’ éŠæˆ²ç³»çµ±"
}
```

## 11.4 å…§å®¹ç”Ÿæˆæµç¨‹
1.  **è§¸ç™¼æ¢ä»¶**: ç©å®¶é–‹å§‹æ–°éŠæˆ²ã€æ¯æ—¥æŒ‘æˆ°æ›´æ–°æˆ–ç®¡ç†å“¡æ‰‹å‹•è§¸ç™¼
2.  **ä¸Šä¸‹æ–‡æ”¶é›†**: ç³»çµ±æ”¶é›†ç©å®¶ç­‰ç´šã€åå¥½ã€éŠæˆ²æ­·å²ç­‰æ•¸æ“š
3.  **æç¤ºè©é¸æ“‡**: ç³»çµ±é¸æ“‡æˆ–éš¨æ©ŸæŠ½å–é©åˆçš„æç¤ºè©æ¨¡æ¿
4.  **å‹•æ…‹å¡«å……**: ä»¥æ”¶é›†çš„ä¸Šä¸‹æ–‡æ•¸æ“šå¡«å……æç¤ºè©è®Šæ•¸
5.  **APIè«‹æ±‚**: ç™¼é€å®Œæ•´æç¤ºè©è‡³Google AI API
6.  **å›æ‡‰è™•ç†**: è§£æAIå›æ‡‰ï¼Œæ ¼å¼åŒ–ç‚ºéŠæˆ²å¯ç”¨çš„JSONçµæ§‹ (æ­¤æ­¥é©Ÿå°‡çµæœè½‰æ›ç‚º `cook_items` å’Œ `cook_recipes_v2` è¡¨çš„æ ¼å¼)
7.  **ä»»å‹™éƒ¨ç½²**: å°‡ç”Ÿæˆçš„ä»»å‹™éƒ¨ç½²è‡³éŠæˆ²ç³»çµ±

## 11.5 ç®¡ç†å¾Œå°åŠŸèƒ½
-   **æç¤ºè©æ¨¡æ¿ç·¨è¼¯å™¨**: å¯è¦–åŒ–ç·¨è¼¯èˆ‡æ¸¬è©¦AIæç¤ºè©
-   **ç”Ÿæˆæ­·å²ç´€éŒ„**: æŸ¥çœ‹ä¹‹å‰ç”Ÿæˆçš„å…§å®¹èˆ‡æ•ˆæœæ•¸æ“š
-   **æ‰‹å‹•å¯©æ ¸é¸é …**: å°AIç”Ÿæˆçš„å…§å®¹é€²è¡Œäººå·¥å¯©æ ¸
-   **å…§å®¹éæ¿¾æ©Ÿåˆ¶**: ç¢ºä¿ç”Ÿæˆå…§å®¹ç¬¦åˆéŠæˆ²é¢¨æ ¼èˆ‡é©é½¡æ¨™æº–
-   **æ•ˆèƒ½åˆ†æ**: åˆ†æä¸åŒæç¤ºè©æ¨¡æ¿çš„ç©å®¶äº’å‹•æ•¸æ“š

## 11.6 è‡ªå‹•åŒ–æ’ç¨‹
-   **æ¯æ—¥ä»»å‹™æ›´æ–°**: è‡ªå‹•ç”Ÿæˆæ¯æ—¥ç‰¹åˆ¥æŒ‘æˆ°
-   **é€±æœ«æ´»å‹•ç”Ÿæˆ**: é€±äº”è‡ªå‹•æº–å‚™é€±æœ«ç‰¹åˆ¥æ´»å‹•å…§å®¹
-   **å­£ç¯€æ€§æ›´æ–°**: æ ¹æ“šç¯€æ°£èˆ‡ç¯€æ—¥è‡ªå‹•æ›´æ–°ç›¸é—œå…§å®¹
-   **é€²éšä»»å‹™éšæ¢¯**: éš¨ç©å®¶ç­‰ç´šæå‡è‡ªå‹•è§£é–æ›´è¤‡é›œçš„æ–™ç†æŒ‘æˆ°

## 11.7 ç©å®¶é«”é©—å„ªåŒ–
-   **ç„¡æ„ŸçŸ¥ç”Ÿæˆ**: ç©å®¶ç„¡éœ€ç­‰å¾…ï¼Œå¾Œå°é ç”Ÿæˆå…§å®¹
-   **å€‹äººåŒ–æ¨è–¦**: æ ¹æ“šç©å®¶å–œå¥½æ¨è–¦é©åˆçš„æ–™ç†ä»»å‹™
-   **æˆå°±æ•´åˆ**: é€£çµAIç”Ÿæˆçš„æŒ‘æˆ°èˆ‡æœƒå“¡æˆå°±ç³»çµ±
-   **é›£åº¦è‡ªé©æ‡‰**: æ ¹æ“šç©å®¶è¡¨ç¾è‡ªå‹•èª¿æ•´ç”Ÿæˆå…§å®¹é›£åº¦

## 11.8 AIé—œå¡ç”Ÿæˆç³»çµ±å…·é«”å¯¦ç¾

### 11.8.1 é—œå¡ç”Ÿæˆæµç¨‹
1.  **é—œå¡æ¨¡æ¿è¨­è¨ˆ**:
    -   è¨­è¨ˆåŸºç¤é—œå¡çµæ§‹æ¨¡æ¿ï¼ŒåŒ…å«è®Šé‡ä½”ä½ç¬¦
    -   å®šç¾©é›£åº¦åƒæ•¸èˆ‡é£Ÿæçµ„åˆè¦å‰‡
    -   å»ºç«‹é£Ÿè­œçµæ§‹åŒ–æ ¼å¼ (èˆ‡ `cook_recipes_v2` å’Œ `cook_items` çµæ§‹å…¼å®¹)

2.  **é—œéµå­—ç²å–æ©Ÿåˆ¶**:
    -   **ç³»çµ±è‡ªå‹•ç²å–**: é€šéGoogle AIç”Ÿæˆé—œéµå­—
    -   **æƒ…å¢ƒé—œéµå­—**: åŸºæ–¼ç¯€æ—¥ã€å­£ç¯€ã€åœ°å€ç”Ÿæˆä¸»é¡Œ
    -   **ç©å®¶æ•¸æ“šè§¸ç™¼**: åˆ†æç©å®¶å–œå¥½ç”Ÿæˆå€‹æ€§åŒ–é—œéµå­—
    -   **å³æ™‚ç†±é»æ•´åˆ**: æ¥å…¥ç†±é–€è©±é¡ŒAPIç²å–æ™‚ä¸‹æµè¡Œå…ƒç´ 

3.  **é—œå¡ç”Ÿæˆæµç¨‹**:
   ```javascript
   // é—œå¡ç”Ÿæˆæµç¨‹ç¤ºä¾‹
   async function generateGameLevel() {
     // 1. ç²å–é—œéµå­—
     const keywords = await fetchKeywordsFromAI({
       difficulty: currentPlayerLevel,
       theme: getCurrentSeason(),
       playerPreferences: getPlayerPreferredIngredients(),
       previousCompletedLevels: getPlayerHistory()
     });
     
     // 2. é¸æ“‡åˆé©çš„é—œå¡æ¨¡æ¿
     const levelTemplate = selectLevelTemplate(keywords.difficulty);
     
      // 3. å¡«å……æ¨¡æ¿èˆ‡é£Ÿæ (å°‡çµæœæ ¼å¼åŒ–ç‚º cook_recipes_v2 å’Œ cook_items çµæ§‹)
     const filledLevel = populateTemplate(levelTemplate, {
       mainIngredients: keywords.ingredients,
       cookingMethods: keywords.methods,
       challengeType: keywords.challenge,
       timeLimit: calculateTimeLimit(keywords.difficulty, playerSkillLevel)
     });
     
     // 4. é©—è­‰é—œå¡å¯è¡Œæ€§
     const isValid = validateLevel(filledLevel);
     if (!isValid) {
       return generateGameLevel(); // é‡è©¦ç”Ÿæˆ
     }
     
      // 5. å­˜å„²é—œå¡è¨­è¨ˆ (å­˜å…¥ cook_ai_levelsï¼Œå…¶ä¸­åŒ…å« cook_items å’Œ cook_recipes_v2 æ‰€éœ€çš„å…§å®¹)
     saveLevelToDatabase(filledLevel);
     return filledLevel;
   }
   ```

### 11.8.2 AIæç¤ºè©è¨­è¨ˆç¯„ä¾‹
æ­¤ç¯„ä¾‹çš„è¼¸å‡ºå°‡è¢«è§£æä¸¦è½‰æ›ç‚º `cook_items` å’Œ `cook_recipes_v2` è³‡æ–™è¡¨çš„å…·é«”è¨˜éŒ„ã€‚

```
æç¤ºè©æ¨¡æ¿:
ç”Ÿæˆä¸€å€‹{difficulty}é›£åº¦çš„å»šæˆ¿æ–™ç†æŒ‘æˆ°ã€‚
éœ€è¦åŒ…å«ä»¥ä¸‹å…ƒç´ :
1. ä¸»è¦é£Ÿæ: è«‹æä¾›3-{ingredientCount}ç¨®é©åˆæ­é…çš„ä¸»è¦é£ŸæåŠå®ƒå€‘çš„ASCIIç¬¦è™Ÿã€‚
2. çƒ¹é£ªæ–¹æ³•: è«‹æä¾›2-3ç¨®é©åˆé€™äº›é£Ÿæçš„çƒ¹é£ªæ–¹æ³•åŠå…¶ç”¢å‡ºçš„ASCIIç¬¦è™Ÿã€‚
3. æ–™ç†åç¨±: ç‚ºé€™é“èœå‰µå»ºä¸€å€‹å¸å¼•äººçš„åç¨±ã€‚
4. æŒ‘æˆ°è¦ç´ : å¢åŠ 1å€‹æœ‰è¶£çš„æ™‚é–“æˆ–æŠ€å·§æŒ‘æˆ°å…ƒç´ ã€‚
5. æœ€çµ‚åˆæˆæ­¥é©Ÿ: æè¿°é€™é“æ–™ç†æ˜¯å¦‚ä½•å¾2å€‹å­çµ„ä»¶åˆæˆçš„ï¼Œä¸¦æä¾›æ‰€æœ‰ä¸­é–“ä»¶çš„ASCIIç¬¦è™Ÿã€‚
6. é›£åº¦è©•åˆ†: 1-10çš„è©•åˆ†åŠåŸå› ã€‚

è¼¸å‡ºæ ¼å¼:
{
  "dish_name": "æ–™ç†åç¨±",
  "main_ingredients": [{"name": "é£Ÿæ1", "symbol": "[ç¬¦è™Ÿ1]"}, {"name": "é£Ÿæ2", "symbol": "[ç¬¦è™Ÿ2]"}],
  "cooking_steps": [{"input": "é£Ÿæç¬¦è™Ÿ", "method": "çƒ¹é£ªæ–¹æ³•", "output": "ç”¢å‡ºç¬¦è™Ÿ"}],
  "assembly_steps": [{"result": "æœ€çµ‚æ–™ç†ç¬¦è™Ÿ", "component1": "çµ„ä»¶1ç¬¦è™Ÿ", "component2": "çµ„ä»¶2ç¬¦è™Ÿ"}],
  "challenge": "æŒ‘æˆ°æè¿°",
  "difficulty_score": æ•¸å­—,
  "difficulty_reason": "é›£åº¦åŸå› "
}
```

### 11.8.3 é—œéµå­—è™•ç†èˆ‡è½‰æ›
1.  **èªç¾©åˆ†æ**:
    -   åˆ†æAIè¿”å›çš„é£Ÿæé—œéµå­—ï¼Œç¢ºä¿éŠæˆ²å…§æœ‰å°æ‡‰åœ–ç¤º (ä¸¦æ˜ å°„åˆ° `cook_items.item_id`)
    -   å°‡é€šç”¨çƒ¹é£ªæ–¹æ³•æ˜ å°„åˆ°éŠæˆ²æ”¯æŒçš„æ“ä½œæŒ‡ä»¤ (ä¸¦æ˜ å°„åˆ° `cook_recipes_v2.cook_station`)

2.  **é›£åº¦èª¿æ•´ç®—æ³•**:
   ```javascript
   function adjustDifficulty(aiSuggestion, playerLevel) {
     // åŸºæ–¼ç©å®¶ç­‰ç´šèª¿æ•´AIå»ºè­°çš„é›£åº¦
     const baseTimeLimit = aiSuggestion.difficulty_score * 30; // ç§’
     const playerFactor = Math.max(0.5, 1 - (playerLevel * 0.02));
     
     return {
       timeLimit: Math.round(baseTimeLimit * playerFactor),
       ingredientCount: Math.min(aiSuggestion.main_ingredients.length, playerLevel/5 + 3),
       extraChallenges: playerLevel > 15 ? aiSuggestion.challenge : null
     };
   }
   ```

### 11.8.4 é—œå¡å…ƒç´ æ˜ å°„è¡¨ (é€™äº›æ˜ å°„é—œä¿‚å°‡ç”¨æ–¼å°‡AIç”Ÿæˆçš„æ–‡æœ¬è½‰æ›ç‚º `cook_items` ä¸­çš„å…·é«” `item_id`)
```json
{
  "ingredients_mapping": {
    "ç‰›è‚‰é¤…": "beef_patty_raw",
    "é›èƒ¸è‚‰": "chicken_breast_raw",
    "æ´‹è”¥": "onion_raw",
    "è˜‘è‡": "mushroom_raw",
    "ç•ªèŒ„": "tomato_raw",
    "èµ·å¸ç‰‡": "cheese_slice_raw",
    "éºµåŒ…ç‰‡": "bread_slice_raw",
    "é®®è¦": "shrimp_raw",
    "é¦¬éˆ´è–¯": "potato_raw",
    "é›è›‹": "egg_raw",
    "ç‰›å¥¶": "milk_raw",
    "éºµç²‰": "flour_raw",
    "å¥¶æ²¹": "butter_raw",
    "é†¬æ–™ç“¶": "sauce_bottle_raw",
    "ç”Ÿç±³": "rice_raw",
    "ç¾©å¤§åˆ©éºµ": "pasta_raw"
  },
  "cooking_methods_mapping": {
    "ç…": "pan_fry",
    "çƒ¤": "bake",
    "ç‚¸": "deep_fry",
    "ç…®": "boil"
  },
  "result_item_mapping": {
    "çƒ¤ç‰›è‚‰é¤…": "beef_patty_cooked",
    "é¦™ç…é›æŸ³": "chicken_breast_cooked",
    "ç‚¸è±¬æ’": "pork_loin_cooked",
    "é¦™ç…é­šæ’": "fish_fillet_cooked",
    "ç‚’è¦ä»": "shrimp_cooked",
    "è·åŒ…è›‹": "fried_egg_cooked",
    "ç‚’è›‹": "scrambled_egg_cooked",
    "ç‚¸è–¯æ¢": "fries_cooked",
    "çƒ¤éºµåŒ…ç‰‡": "bread_sliced_toasted",
    "ç±³é£¯": "rice_cooked",
    "ç†Ÿç¾©å¤§åˆ©éºµ": "pasta_cooked",
    "å¥¶æ²¹è˜‘è‡": "mushroom_butter_cooked",
    "é¬†é¤…": "pancake_cooked",
    "åŸºç¤ç•ªèŒ„é†¬": "tomato_sauce_base",
    "éºµç³°": "dough_processed",
    "é¤…çš®": "crust_baked",
    "ç†Ÿé¦¬éˆ´è–¯": "potato_cooked",
    "ç‚¸æ´‹è”¥åœˆ": "onion_rings_cooked",
    "èåŒ–èµ·å¸": "cheese_melted",
    "ç™½é†¬": "white_sauce_base",
    "æ°´ç…®è¦": "shrimp_boiled",
    "ç”°åœ’æ²™æ‹‰": "garden_salad_assembled",
    "æ„å¼è‚‰é†¬": "meat_sauce_assembled",
    "ç…§ç‡’é›": "teriyaki_chicken_cooked"
    // ... å…¶ä»–ç”¢å‡ºç‰©å“æ˜ å°„
  },
  "challenge_mapping": {
    "æ™‚é–“å£“åŠ›": "æ¸›å°‘30%æ™‚é–“",
    "å®Œç¾æ“ºç›¤": "éœ€é”åˆ°95%å“è³ª",
    "ç¯€ç´„ä½¿ç”¨": "ä½¿ç”¨æœ€å°‘çš„é£Ÿæ",
    "é€£çºŒæ“ä½œ": "3ç§’å…§å®Œæˆé€£çºŒå‹•ä½œ"
  }
}
```

### 11.8.5 é—œå¡é è¦½èˆ‡æ¸¬è©¦
```
// AIç”Ÿæˆçš„é—œå¡é è¦½ç¯„ä¾‹:
+--------------------------+
| è¨‚å–®: è˜‘è‡èµ·å¸ç‰›æ’      |
| é£Ÿæ: [ç‰›][è‡][èµ·][é¦™]   |
| æ–¹æ³•: ç…ã€çƒ¤            |
| æŒ‘æˆ°: å®Œç¾ç«å€™(3ç§’åˆ¤æ–·)  |
| æ™‚é–“: 120ç§’             |
| é›£åº¦: 7/10              |
| é ä¼°å®Œæˆç‡: 62%         |
+--------------------------+

// ç³»çµ±è‡ªå‹•æ¸¬è©¦é—œå¡å¯è¡Œæ€§...
// æ¨¡æ“¬ç©å®¶æœ€ä½³æ“ä½œè·¯å¾‘...
// è¨ˆç®—é æœŸå®Œæˆæ™‚é–“: 103ç§’
// é—œå¡è©•ä¼°çµæœ: é€šéï¼é—œå¡å·²åŠ å…¥è³‡æ–™åº«
```

## 11.9 é—œå¡é©é…èˆ‡å‹•æ…‹èª¿æ•´

### 11.9.1 ç©å®¶è³‡æ–™æ”¶é›†ç³»çµ±
-   **éŠæˆ²è¡¨ç¾è¿½è¹¤**: è¨˜éŒ„å®Œæˆæ™‚é–“ã€éŒ¯èª¤ç‡ã€æ“ä½œé »ç‡
-   **åå¥½åˆ†æ**: åˆ†æç©å®¶åå¥½çš„é£Ÿæã€æ–™ç†é¡å‹ã€æŒ‘æˆ°æ¨¡å¼
-   **å›°é›£é»æª¢æ¸¬**: è­˜åˆ¥ç©å®¶åœ¨ç‰¹å®šæ“ä½œæˆ–é£Ÿæä¸Šçš„å›°é›£

### 11.9.2 é—œå¡é›£åº¦è‡ªé©æ‡‰
```javascript
function recommendNextLevel(playerData) {
  // åˆ†æç©å®¶æœ€è¿‘10å ´éŠæˆ²è¡¨ç¾
  const recentPerformance = playerData.recentGames.slice(-10);
  const completionRate = recentPerformance.filter(game => game.completed).length / 10;
  const avgScore = recentPerformance.reduce((sum, game) => sum + game.score, 0) / 10;
  
  // å‹•æ…‹èª¿æ•´ä¸‹ä¸€é—œå¡é›£åº¦
  if (completionRate > 0.8 && avgScore > 85) {
    // è¡¨ç¾å„ªç§€ï¼Œæä¾›æ›´å…·æŒ‘æˆ°æ€§çš„é—œå¡
    return requestAILevel({
      difficultyTarget: playerData.currentDifficulty + 1,
      emphasize: playerData.strengths, // åŸºæ–¼ç©å®¶å„ªå‹¢
      includeNew: true // å¼•å…¥æ–°å…ƒç´ 
    });
  } else if (completionRate < 0.4) {
    // è¡¨ç¾ä¸ä½³ï¼Œæä¾›æ›´å‹å¥½çš„é—œå¡
    return requestAILevel({
      difficultyTarget: Math.max(1, playerData.currentDifficulty - 1),
      emphasize: playerData.weaknesses, // å¼·åŒ–ç©å®¶å¼±é …
      includeNew: false // ä¸å¼•å…¥æ–°å…ƒç´ 
    });
  } else {
    // è¡¨ç¾ä¸­ç­‰ï¼Œæä¾›å¹³è¡¡é—œå¡
    return requestAILevel({
      difficultyTarget: playerData.currentDifficulty,
      emphasize: getMixedElements(playerData),
      includeNew: Math.random() > 0.7 // 30%æ©Ÿç‡å¼•å…¥æ–°å…ƒç´ 
    });
  }
}
```

### 11.9.3 å…§å®¹ç”Ÿæˆç•Œé¢ (ç®¡ç†å¾Œå°)

ç®¡ç†å“¡å¯ä½¿ç”¨çš„AIé—œå¡ç”Ÿæˆç•Œé¢:

```
+---------------------------------------------------------------+
| æ–™ç†æ€¥å…ˆé‹’ - AIé—œå¡ç”Ÿæˆå™¨                                     |
+------------------------+--------------------------------------+
| é—œå¡åŸºæœ¬è¨­ç½®           | é—œéµå­—èˆ‡æç¤ºè©                       |
|                        |                                      |
| é›£åº¦ç­‰ç´š: [â–¼ é¸æ“‡]     | ä¸»é¡Œé—œéµå­—:                          |
| ç›®æ¨™ç©å®¶ç­‰ç´š: [____]   | [________________________]           |
| é—œå¡é¡å‹: [â–¼ é¸æ“‡]     |                                      |
| é£Ÿææ•¸é‡: [â–¼ é¸æ“‡]     | ç”Ÿæˆæ–¹å¼:                           |
|                        | â—‹ å…¨è‡ªå‹•  â—‹ åŠè‡ªå‹•  â—‹ æ‰‹å‹•æŒ‡å®š      |
| ç‰¹æ®Šé™åˆ¶:              |                                      |
| â–¡ æ™‚é–“æŒ‘æˆ°            | AIæç¤ºè©æ¨¡æ¿:                        |
| â–¡ å®Œç¾å“è³ªè¦æ±‚        | [                                   ]|
| â–¡ ç‰¹æ®Šæ“ä½œåºåˆ—        | [                                   ]|
| â–¡ ç¨€æœ‰é£Ÿæ            | [                                   ]|
|                        | [                                   ]|
+------------------------+--------------------------------------+
| é è¦½çµæœ:                                                     |
|                                                               |
| [ç”Ÿæˆé—œå¡]  [å„²å­˜é—œå¡]  [æ¸¬è©¦å¯è¡Œæ€§]  [èª¿æ•´é›£åº¦]              |
+---------------------------------------------------------------+
```

### 11.9.4 é—œå¡ç”ŸæˆAPIèª¿ç”¨ç¤ºä¾‹
```javascript
// å¾Œç«¯APIç¤ºä¾‹
app.post('/api/generate-level', async (req, res) => {
  try {
    const {
      difficulty,
      playerLevel,
      levelType,
      theme,
      constraints
    } = req.body;
    
    // æ§‹å»ºAIæç¤ºè©
    const prompt = buildLevelGenerationPrompt({
      difficulty,
      playerLevel,
      levelType,
      theme,
      constraints
    });
    
    // èª¿ç”¨Google AI API
    const aiResponse = await callGoogleAI(prompt);
    
    // è§£æAIå›æ‡‰ (å°‡å…¶è½‰æ›ç‚º cook_items å’Œ cook_recipes_v2 æ ¼å¼)
    const parsedLevel = parseLevelFromAIResponse(aiResponse);
    
    // é©—è­‰ç”Ÿæˆçš„é—œå¡
    const validationResult = validateGeneratedLevel(parsedLevel);
    
    if (validationResult.valid) {
      // å°‡ç”Ÿæˆçš„ items å’Œ recipes å­˜å…¥å„è‡ªçš„è³‡æ–™è¡¨
      await saveGeneratedItems(parsedLevel.items);
      await saveGeneratedRecipes(parsedLevel.recipes);
      
      // æ ¼å¼åŒ–ç‚ºéŠæˆ²å¯ç”¨æ ¼å¼
      const gameReadyLevel = formatForGameEngine(parsedLevel);
      res.json({
        success: true,
        level: gameReadyLevel,
        rawAiResponse: aiResponse // ä¾›é–‹ç™¼åƒè€ƒ
      });
    } else {
      throw new Error(`é—œå¡é©—è­‰å¤±æ•—: ${validationResult.reason}`);
    }
  } catch (error) {
    console.error('é—œå¡ç”ŸæˆéŒ¯èª¤:', error);
    res.status(500).json({
      success: false,
      error: error.message
    });
  }
});
```

# 12. éŠæˆ²å…§å®¹èˆ‡é—œå¡è¨­è¨ˆ

## 12.1 éŠæˆ²æµç¨‹æ¦‚è¦½

### 12.1.1 é€²å…¥æµç¨‹
1.  **å•Ÿå‹•éŠæˆ²**: ç©å®¶é»æ“ŠAPPåœ–æ¨™æˆ–é–‹å•Ÿç¶²é 
2.  **è¼‰å…¥ç•«é¢**: é¡¯ç¤ºBBSé¢¨æ ¼çš„è¼‰å…¥å‹•ç•«èˆ‡éŠæˆ²æ¨™èªŒ
3.  **ç™»å…¥ç•«é¢**: å‡ºç¾æœƒå“¡ç™»å…¥ä»‹é¢
4.  **èº«åˆ†é©—è­‰**: å®Œæˆæœƒå“¡ç™»å…¥æˆ–ä¸€éµç™»å…¥(ç”Ÿç‰©è­˜åˆ¥)
5.  **ä¸»é¸å–®**: é€²å…¥éŠæˆ²å¤§å»³ä¸»é¸å–®

### 12.1.2 éŠæˆ²å¤§å»³
1.  **æ¯æ—¥ä»»å‹™**: é¡¯ç¤ºæ¯æ—¥æŒ‘æˆ°èˆ‡çå‹µ
2.  **å€‹äººæª”æ¡ˆ**: é¡¯ç¤ºç©å®¶ç­‰ç´šã€ç©åˆ†èˆ‡æˆå°±
3.  **æˆ¿é–“é¸æ“‡**: å¯ç€è¦½é–‹æ”¾ä¸­çš„éŠæˆ²æˆ¿é–“
4.  **å¿«é€ŸåŠ å…¥**: è‡ªå‹•é…å°åŒç­‰ç´šç©å®¶çš„æˆ¿é–“
5.  **å‰µå»ºæˆ¿é–“**: é«˜ç´šæœƒå“¡å¯å‰µå»ºè‡ªå®šç¾©è¦å‰‡æˆ¿é–“

### 12.1.3 éŠæˆ²é€²è¡Œ
1.  **é…å°å®Œæˆ**: å››åç©å®¶é½Šå…¨å¾Œé–‹å§‹å€’æ•¸
2.  **è§’è‰²é¸æ“‡**: ç©å®¶é¸æ“‡åå¥½çš„å·¥ä½œç«™(åˆ‡èœã€çƒ¹é£ªã€çµ„è£ã€è£ç›¤)
3.  **æ•™å­¸æç¤º**: æ–°æ‰‹ç©å®¶é¡¯ç¤ºåŸºæœ¬æ“ä½œæ•™å­¸
4.  **é—œå¡é–‹å§‹**: é¡¯ç¤ºé¦–æ‰¹è¨‚å–®èˆ‡å€’æ•¸è¨ˆæ™‚å™¨
5.  **éŠæˆ²å¾ªç’°**: å”ä½œå®Œæˆæ–™ç†è¨‚å–®ç›´åˆ°æ™‚é–“çµæŸ
6.  **çµç®—ç•«é¢**: é¡¯ç¤ºåœ˜éšŠå¾—åˆ†ã€å€‹äººè¡¨ç¾èˆ‡çå‹µ

### 12.1.4 é›¢é–‹æµç¨‹
1.  **çµç®—ç¢ºèª**: ç©å®¶ç¢ºèªç²å¾—çš„ç©åˆ†èˆ‡æˆå°±
2.  **ç¹¼çºŒé¸é …**: å¯é¸æ“‡ç¹¼çºŒéŠæˆ²æˆ–è¿”å›å¤§å»³
3.  **åé¥‹æç¤º**: ç°¡çŸ­éŠæˆ²é«”é©—èª¿æŸ¥(æ¯5æ¬¡éŠæˆ²é¡¯ç¤ºä¸€æ¬¡)
4.  **é›¢ç·šè¨­å®š**: å¯è¨­å®šé›¢ç·šé€šçŸ¥èˆ‡ä¸‹æ¬¡ç™»å…¥æé†’
5.  **é€€å‡ºéŠæˆ²**: è¿”å›ä¸»ç•«é¢ï¼Œä¿å­˜éŠæˆ²é€²åº¦

## 12.2 é—œå¡è¨­è¨ˆèˆ‡é›£åº¦æ›²ç·š

**é‡è¦æç¤º**: ä»¥ä¸‹æ‰€æœ‰é£Ÿæã€é…æ–¹ã€è¨‚å–®ç¯„ä¾‹å‡**ä¸å†æ˜¯å¾Œç«¯ç¡¬ç·¨ç¢¼**ï¼Œè€Œæ˜¯ç”±**è³‡æ–™åº« (`cook_items` èˆ‡ `cook_recipes_v2`) é©…å‹•**ï¼Œä¸¦å¯ç”± Google AI ç³»çµ±å‹•æ…‹ç”Ÿæˆã€‚é€™äº›ç¯„ä¾‹å±•ç¤ºäº†éŠæˆ²å…§å®¹çš„è¨­è¨ˆç†å¿µï¼Œå¯¦éš›éŠæˆ²æœƒå¾è³‡æ–™åº«ä¸­è®€å–ã€‚

### 12.2.1 åˆç´šé—œå¡ (æ–°æ‰‹æ‘)
-   **é—œå¡1-5**: å–®ä¸€é¡å‹ç°¡æ˜“æ–™ç†ï¼Œå¯¬é¬†æ™‚é–“é™åˆ¶
-   **ä¸»è¦ç›®æ¨™**: ç†Ÿæ‚‰åŸºæœ¬æ“ä½œèˆ‡å”ä½œæ©Ÿåˆ¶
-   **è¨‚å–®ç¤ºä¾‹**: ç°¡æ˜“æ¼¢å ¡ã€åŸºæœ¬æ²™æ‹‰ã€å–®ä¸€é£²æ–™
-   **é™æ™‚**: 5åˆ†é˜ï¼Œå¤±èª¤å®¹éŒ¯ç‡é«˜
-   **çå‹µ**: åŸºç¤ç©åˆ†ã€æ–°æ‰‹æˆå°±

```
åˆç´šé—œå¡è¨‚å–®ç¤ºä¾‹:
+--------------------------+
| è¨‚å–®: åŸºæœ¬æ¼¢å ¡          |
| éœ€æ±‚: [åŒ…][â‰£][â‰‹][åŒ…]    |
| æ­¥é©Ÿ: 1.çƒ¤éºµåŒ… 2.ç…è‚‰   |
|      3.åˆ‡ç”Ÿèœ 4.çµ„åˆ    |
| æ™‚é–“: 90ç§’              |
| çå‹µ: 50ç©åˆ†            |
+--------------------------+
```

### 12.2.2 ä¸­ç´šé—œå¡ (æŠ€èƒ½æˆé•·)
-   **é—œå¡6-15**: å¤šå…ƒæ–™ç†çµ„åˆï¼Œéœ€åˆ‡æ›å·¥ä½œç«™
-   **ä¸»è¦ç›®æ¨™**: åŸ¹é¤Šåœ˜éšŠå”ä½œèˆ‡æ™‚é–“ç®¡ç†
-   **è¨‚å–®ç¤ºä¾‹**: è¤‡åˆæ¼¢å ¡ã€æ²™æ‹‰æ‹¼ç›¤ã€å¥—é¤çµ„åˆ
-   **é™æ™‚**: 8åˆ†é˜ï¼Œé©ä¸­æ™‚é–“å£“åŠ›
-   **çå‹µ**: é€²éšç©åˆ†ã€å°ˆæ¥­æŠ€èƒ½é»æ•¸

```
ä¸­ç´šé—œå¡è¨‚å–®ç¤ºä¾‹:
+--------------------------+
| è¨‚å–®: è±ªè¯èŠå£«æ¼¢å ¡å¥—é¤  |
| éœ€æ±‚: [åŒ…][â‰£][â‰‹][èµ·][åŒ…] |
|      +[è–¯][å¯]          |
| æ­¥é©Ÿ: 1-6.è£½ä½œèŠå£«æ¼¢å ¡  |
|      7.æ²¹ç‚¸è–¯æ¢ 8.å€’é£²æ–™|
| æ™‚é–“: 120ç§’             |
| çå‹µ: 120ç©åˆ†+10æŠ€èƒ½é»  |
+--------------------------+
```

### 12.2.3 é«˜ç´šé—œå¡ (å°ˆæ¥­æŒ‘æˆ°)
-   **é—œå¡16-30**: è¤‡é›œèœå¼ï¼Œç²¾ç¢ºæ™‚é–“æ§åˆ¶
-   **ä¸»è¦ç›®æ¨™**: æå‡æ•ˆç‡èˆ‡ç²¾ç¢ºåº¦
-   **è¨‚å–®ç¤ºä¾‹**: å¤šå±¤æ–™ç†ã€ç‰¹æ®Šçƒ¹é£ªæ–¹æ³•ã€å¤šè¨‚å–®åŒæ™‚è™•ç†
-   **é™æ™‚**: 10åˆ†é˜ï¼Œé«˜åº¦æ™‚é–“å£“åŠ›
-   **çå‹µ**: é«˜ç´šç©åˆ†ã€ç¨€æœ‰å»šå…·ã€å°ˆå±¬é ­éŠœ

```
é«˜ç´šé—œå¡è¨‚å–®ç¤ºä¾‹:
+--------------------------+
| è¨‚å–®: è±ªè¯è‡ªåŠ©é¤       |
| åŒæ™‚è™•ç†:              |
| 1. ç‰›æ’é…è˜‘è‡é†¬        |
| 2. æµ·é®®ç‡‰é£¯            |
| 3. æ°´æœæ²™æ‹‰å¡”          |
| 4. ç‰¹èª¿é£²å“            |
| æ™‚é–“: 240ç§’            |
| çå‹µ: 300ç©åˆ†+ç¨€æœ‰é“å…·  |
+--------------------------+
```

### 12.2.4 å°ˆå®¶é—œå¡ (å¤§å¸«æŒ‘æˆ°)
-   **é—œå¡31+**: å‰µæ„èœå¼ã€æ¥µé™æŒ‘æˆ°
-   **ä¸»è¦ç›®æ¨™**: æ¥µè‡´é…åˆèˆ‡ç­–ç•¥é‹ç”¨
-   **è¨‚å–®ç¤ºä¾‹**: ä¸»å»šç‰¹é¤ã€ç¯€æ—¥æ–™ç†ã€éš¨æ©Ÿé£ŸææŒ‘æˆ°
-   **é™æ™‚**: 15åˆ†é˜ï¼Œæ¥µé™æŒ‘æˆ°
-   **çå‹µ**: å‚³å¥‡ç©åˆ†ã€ç¨å®¶è£é£¾ã€å¤§å¸«é ­éŠœ

## 12.3 éŠæˆ²æ¨¡å¼è©³è§£

### 12.3.1 ç¶“å…¸æ¨¡å¼
-   **ç‰¹é»**: æ¨™æº–4äººå”ä½œï¼Œå›ºå®šé›£åº¦æ›²ç·š
-   **é—œå¡çµæ§‹**: ä¾åºè§£é–ï¼Œé›£åº¦æ¼¸å¢
-   **è¨ˆåˆ†æ–¹å¼**: æˆåŠŸè¨‚å–®æ•¸ Ã— å“è³ªè©•åˆ†
-   **é©åˆç©å®¶**: æ‰€æœ‰ç©å®¶ï¼Œå°¤å…¶æ˜¯æ–°æ‰‹

### 12.3.2 æŒ‘æˆ°æ¨¡å¼
-   **ç‰¹é»**: éš¨æ©Ÿè¨‚å–®ï¼Œæ™‚é–“å£“åŠ›å¤§
-   **é—œå¡çµæ§‹**: æ³¢æ¬¡å‹è¨‚å–®ï¼Œè¶Šå¾Œè¶Šé›£
-   **è¨ˆåˆ†æ–¹å¼**: é€Ÿåº¦åŠ æˆ Ã— å®Œæˆåº¦ Ã— é›£åº¦ä¿‚æ•¸
-   **é©åˆç©å®¶**: ä¸­é«˜ç´šç©å®¶ï¼Œå°‹æ±‚åˆºæ¿€

### 12.3.3 å‰µæ„æ¨¡å¼
-   **ç‰¹é»**: é™å®šé£Ÿæï¼Œè‡ªç”±ç™¼æ®å‰µæ„
-   **é—œå¡çµæ§‹**: çµ¦äºˆç´ æï¼Œç©å®¶è‡ªè¡Œè¨­è¨ˆèœè‰²
-   **è¨ˆåˆ†æ–¹å¼**: å‰µæ„åº¦ Ã— å®Œæ•´åº¦ Ã— åœ˜éšŠå”ä½œè©•åˆ†
-   **é©åˆç©å®¶**: æœ‰å‰µæ„çš„è³‡æ·±ç©å®¶

### 12.3.4 è³½å­£æ´»å‹•
-   **ç‰¹é»**: é™æ™‚æ´»å‹•ï¼Œç‰¹æ®Šè¦å‰‡èˆ‡çå‹µ
-   **é—œå¡çµæ§‹**: ä¸»é¡Œç³»åˆ—ä»»å‹™ï¼Œä¾‹å¦‚ã€Œæ˜¥ç¯€ç‰¹è¼¯ã€
-   **è¨ˆåˆ†æ–¹å¼**: å¸¸è¦å¾—åˆ† + ç‰¹æ®Šä»»å‹™åŠ åˆ†
-   **é©åˆç©å®¶**: æ‰€æœ‰ç©å®¶ï¼Œç‰¹åˆ¥æ˜¯æ”¶è—å®¶

## 12.4 å ´æ™¯èˆ‡ä¸»é¡Œè¨­è¨ˆ

### 12.4.1 åŸºæœ¬å ´æ™¯
-   **å°å‹é¤å»³**: åˆå§‹å ´æ™¯ï¼ŒåŸºç¤è¨­å‚™
-   **å·¥ä½œç«™æ’åˆ—**: ç·šæ€§æ’åˆ—ï¼Œé©åˆæ–°æ‰‹å”ä½œ
-   **è¦–è¦ºé¢¨æ ¼**: ç°¡æ½”æ˜äº®çš„BBSé¢¨æ ¼åœ–æ¡ˆ

### 12.4.2 é€²éšå ´æ™¯
-   **å¤§å‹é¤å»³**: è§£é–å ´æ™¯ï¼Œæ›´å¤šå·¥ä½œå°
-   **å·¥ä½œç«™æ’åˆ—**: ç’°å½¢æˆ–Tå‹æ’åˆ—ï¼Œéœ€è¦æ›´ç²¾å¯†å”ä½œ
-   **è¦–è¦ºé¢¨æ ¼**: æ›´è¤‡é›œçš„ASCIIåœ–æ¡ˆï¼Œæ›´å¤šé¡è‰²è®ŠåŒ–

### 12.4.3 ä¸»é¡Œå ´æ™¯
-   **ç¯€æ—¥å»šæˆ¿**: æ‡‰æ™¯ç¯€æ—¥è£é£¾èˆ‡ç‰¹æ®Šè¨‚å–®
-   **æˆ¶å¤–BBQ**: ç‰¹æ®Šçƒ¹é£ªæ–¹æ³•èˆ‡é£Ÿæ
-   **è±ªè¯éŠè¼ª**: é«˜ç´šæ–™ç†éœ€æ±‚ï¼ŒVIPå®¢æˆ¶è¨‚å–®
-   **å¤ªç©ºç«™**: æœªä¾†é¢¨æ ¼ï¼Œç‰¹æ®Šæ“ä½œæ©Ÿåˆ¶

## 12.5 å…·é«”éŠæˆ²å°å±€ç¤ºä¾‹

### 12.5.1 ç©å®¶é€²å…¥éŠæˆ²

```
+--------------------------+
|   æ–™ç†æ€¥å…ˆé‹’ v1.0        |
|   æ­¡è¿å›ä¾†ï¼Œ@å¤§å»šç‹‚äºº    |
|   [VIPæœƒå“¡ Lv.23]        |
+--------------------------+
```

### 12.5.2 æˆ¿é–“é…å°æˆåŠŸ

```
+--------------------------+
|  æˆ¿é–“#2481 é…å°æˆåŠŸ!    |
|                         |
|  @å¤§å»šç‹‚äºº   Lv.23      |
|  @æ–™ç†é­”æ³•å¸« Lv.19      |
|  @æ±äº¬å°ç•¶å®¶ Lv.21      |
|  @ç¾©éºµå¥³ç¥   Lv.20      |
|                         |
|  æ¨¡å¼: ç¶“å…¸æ¨¡å¼         |
|  é›£åº¦: ä¸­ç´š             |
|                         |
|  éŠæˆ²å°‡åœ¨ 5 ç§’å¾Œé–‹å§‹... |
+--------------------------+
```

### 12.5.3 å·¥ä½œç«™é¸æ“‡

```
+--------------------------+
|   é¸æ“‡ä½ çš„å·¥ä½œç«™:       |
|                         |
|   1. [åˆ‡] å‰è™•ç†ç«™      |
|      æ“…é•·: @æ–™ç†é­”æ³•å¸«   |
|                         |
|   2. [ç«] çƒ¹é£ªç«™        |
|      æ“…é•·: @å¤§å»šç‹‚äºº     |
|                         |
|   3. [=] çµ„è£ç«™         |
|      ç„¡äººé¸æ“‡            |
|                         |
|   4. (:) è£ç›¤ç«™         |
|      æ“…é•·: @æ±äº¬å°ç•¶å®¶   |
|                         |
|   é¸æ“‡å€’æ•¸: 10ç§’        |
+--------------------------+
```

### 12.5.4 éŠæˆ²é€²è¡Œä¸­

```
+--------------------------+
| @å¤§å»šç‹‚äºº      å‰©é¤˜: 7:32|
+--------------------------+
| ç•¶å‰è¨‚å–®:               |
| è±ªè¯ç‰›è‚‰æ¼¢å ¡ [â–ˆâ–ˆâ–‘â–‘â–‘] 40%|
| è˜‘è‡æ¿ƒæ¹¯     [â–ˆâ–ˆâ–ˆâ–‘â–‘] 60%|
+--------------------------+
| å·¥ä½œç«™: [ç«] çƒ¹é£ªç«™     |
|                         |
| [è‚‰]åœ¨çƒ¹é£ª... [===>  ] 68%|
| [è‡][æ´‹][é¦™è‰]ç­‰å¾…è™•ç†  |
+--------------------------+
| åœ˜éšŠç‹€æ³:               |
| @æ–™ç†é­”æ³•å¸«: æ­£åœ¨åˆ‡é¦™è‰  |
| @æ±äº¬å°ç•¶å®¶: æ­£åœ¨è£è˜‘è‡æ¹¯|
| @ç¾©éºµå¥³ç¥: æ­£åœ¨çµ„åˆæ¼¢å ¡ |
+--------------------------+
| [ç…] [çƒ¤] [ç‡‰] [ç‚’]     |
| [æ€¥éœ€é¦™è‰!][æ¹¯å¿«å¥½äº†!]  |
+--------------------------+
```

### 12.5.5 è¨‚å–®å®Œæˆ

```
+--------------------------+
| è¨‚å–®å®Œæˆ!               |
| è±ªè¯ç‰›è‚‰æ¼¢å ¡            |
|                         |
| å“è³ªè©•åˆ†: A (94åˆ†)      |
| æ™‚é–“: 78ç§’ (æ¨™æº–: 90ç§’) |
| é€Ÿåº¦çå‹µ: +15åˆ†         |
|                         |
| ç²å¾—: 125ç©åˆ†           |
| åœ˜éšŠå”ä½œ: å„ªç§€ (+20ç©åˆ†)|
|                         |
| ä¸‹ä¸€è¨‚å–®æº–å‚™ä¸­...        |
+--------------------------+
```

### 12.5.6 éŠæˆ²çµç®—

```
+--------------------------+
| éŠæˆ²çµæŸ!               |
|                         |
| åœ˜éšŠæˆç¸¾:               |
| å®Œæˆè¨‚å–®: 12/15         |
| ç¸½å¾—åˆ†: 1240åˆ†          |
| åœ˜éšŠè©•ç´š: A             |
|                         |
| å€‹äººè¡¨ç¾:               |
| @å¤§å»šç‹‚äºº: 355åˆ† (æœ€ä½³çƒ¹é£ª)|
| @æ–™ç†é­”æ³•å¸«: 320åˆ†       |
| @æ±äº¬å°ç•¶å®¶: 345åˆ†       |
| @ç¾©éºµå¥³ç¥: 220åˆ†        |
|                         |
| [å†ä¾†ä¸€å±€] [è¿”å›å¤§å»³]    |
+--------------------------+
```

### 12.5.7 çå‹µèˆ‡è§£é–

```
+--------------------------+
| æ­å–œ! ç²å¾—çå‹µ:         |
|                         |
| +355 æœƒå“¡ç©åˆ†           |
| +2 æŠ€èƒ½é»æ•¸             |
| è§£é–æˆå°±: ã€Œçƒ¹é£ªå¤§å¸«ã€   |
| è§£é–æ–°è£å‚™: ã€Œå¤§å»šå¸½ã€   |
|                         |
| ç­‰ç´šæå‡!               |
| Lv.23 â†’ Lv.24           |
| è§£é–æ–°é—œå¡: ã€Œæµ·é®®ç››å®´ã€ |
|                         |
| [ç¢ºèª]                  |
+--------------------------+
```

## 12.6 é€²éšéŠæˆ²ç­–ç•¥èˆ‡äº’å‹•

### 12.6.1 è§’è‰²æŠ€èƒ½çµ„åˆ
-   **å‰è™•ç†å°ˆå®¶ + çƒ¹é£ªé”äºº**: å¿«é€Ÿæº–å‚™èˆ‡çƒ¹é£ªæµç¨‹
-   **çµ„è£å¤§å¸« + è£ç›¤è—è¡“å®¶**: é«˜å“è³ªæˆå“å‘ˆç¾
-   **å…¨èƒ½å‹é…ç½®**: æ¯å€‹å·¥ä½œç«™åˆ†é…ä¸åŒç‰¹é•·ç©å®¶

### 12.6.2 é£Ÿæç­–ç•¥
-   **é è™•ç†ç­–ç•¥**: æå‰æº–å‚™å¸¸ç”¨é£Ÿæ
-   **æ‰¹é‡è™•ç†**: åŒé¡é£Ÿæä¸€æ¬¡è™•ç†å¤šä»½
-   **é—œéµè·¯å¾‘**: è­˜åˆ¥ä¸¦å„ªå…ˆè™•ç†é™åˆ¶æ€§é£Ÿæ

### 12.6.3 æºé€šæ¨¡å¼
-   **æ¨™æº–å‘¼å«**: ä½¿ç”¨é è¨­çŸ­èªå¿«é€Ÿæºé€š
-   **å„ªå…ˆæ¨™è¨˜**: æ¨™è¨˜ç·Šæ€¥éœ€æ±‚çš„é£Ÿææˆ–æ­¥é©Ÿ
-   **é€²åº¦å ±å‘Š**: å®šæœŸåˆ†äº«å„ç«™é€²åº¦æƒ…æ³

# 13. éŠæˆ²æ ¸å¿ƒè¨­è¨ˆï¼šé£Ÿæã€é…æ–¹èˆ‡è¨‚å–® (è³‡æ–™åº«é©…å‹•å…§å®¹ç¯„ä¾‹)

æœ¬ç« ç¯€æä¾›éŠæˆ²ä¸­é£Ÿæã€åŠ å·¥æµç¨‹ã€åˆæˆé…æ–¹èˆ‡å…·é«”è¨‚å–®ç¯„ä¾‹çš„è¨­è¨ˆç´°ç¯€ã€‚é€™äº›å…§å®¹ç¾åœ¨**ç”±è³‡æ–™åº« (`cook_items` å’Œ `cook_recipes_v2`) é©…å‹•**ï¼Œä¸å†ç¡¬ç·¨ç¢¼æ–¼å¾Œç«¯ç¨‹å¼ç¢¼ä¸­ã€‚é€™å¤§å¤§æé«˜äº†éŠæˆ²çš„å¯é…ç½®æ€§å’Œå¯æ“´å±•æ€§ã€‚

## 13.1 åŸºç¤é£Ÿæåˆ—è¡¨ (å…±20ç¨®)

é€™äº›æ˜¯ç©å®¶å¯ä»¥ç›´æ¥å¾ã€Œé£Ÿæç«™ã€å–å¾—çš„åŸºç¤å–®ä½ï¼Œå®ƒå€‘çš„å®šç¾©å„²å­˜åœ¨ `cook_items` è³‡æ–™è¡¨ä¸­ï¼Œ`item_type` ç‚º `raw_ingredient`ã€‚

| # | ä¸­æ–‡åç¨± | è‹±æ–‡åç¨± | ASCII åœ–ç¤º | èªªæ˜ |
|---|----------|----------|------------|------|
| 1 | ç‰›è‚‰é¤… | Beef Patty | `[ç‰›]` | æ¼¢å ¡çš„ä¸»è¦è›‹ç™½è³ªä¾†æºã€‚ |
| 2 | é›èƒ¸è‚‰ | Chicken Breast | `[é›]` | å¯åˆ‡å¡Šæˆ–æ•´å¡Šçƒ¹é£ªã€‚ |
| 3 | è±¬é‡Œè‚Œ | Pork Loin | `[è±¬]` | å¸¸ç”¨æ–¼è£½ä½œè±¬æ’ã€‚ |
| 4 | é­šæ’ | Fish Fillet | `[é­š]` | è¼•é£Ÿæˆ–ç‚¸é­šè–¯æ¢çš„é¸æ“‡ã€‚ |
| 5 | é›è›‹ | Egg | `[è›‹]` | å¯ç…ã€å¯ç‚’ï¼Œä¹Ÿå¯ä½œç‚ºéºµç³ŠåŸæ–™ã€‚ |
| 6 | ç”Ÿèœ | Lettuce | `[èœ]` | æ²™æ‹‰å’Œæ¼¢å ¡çš„åŸºç¤è”¬èœã€‚ |
| 7 | ç•ªèŒ„ | Tomato | `[èŒ„]` | å¯åˆ‡ç‰‡ç”¨æ–¼æ¼¢å ¡æˆ–åšæˆé†¬æ–™ã€‚ |
| 8 | æ´‹è”¥ | Onion | `[è”¥]` | å¯åˆ‡åœˆæˆ–åˆ‡ä¸ï¼Œå¢åŠ é¢¨å‘³ã€‚ |
| 9 | è˜‘è‡ | Mushroom | `[è‡]` | å¸¸ç”¨æ–¼é†¬æ–™æˆ–é…èœã€‚ |
| 10 | é¦¬éˆ´è–¯ | Potato | `[è–¯]` | è£½ä½œè–¯æ¢æˆ–è–¯æ³¥çš„ä¸»è¦åŸæ–™ã€‚ |
| 11 | é’æ¤’ | Bell Pepper | `[æ¤’]` | å¯åˆ‡çµ²ç”¨æ–¼æ‹Œç‚’ã€‚ |
| 12 | éºµåŒ…ç‰‡ | Bread Slice | `[éºµ]` | è£½ä½œä¸‰æ˜æ²»å’Œæ¼¢å ¡çš„åŸºç¤ã€‚ |
| 13 | ç”Ÿç±³ | Raw Rice | `[ç±³]` | ç…®ç†Ÿå¾Œæˆç‚ºç±³é£¯ã€‚ |
| 14 | ç¾©å¤§åˆ©éºµ | Dry Pasta | `[ç®¡]` | ç…®ç†Ÿå¾Œæ­é…é†¬æ–™ã€‚ |
| 15 | èµ·å¸ç‰‡ | Cheese Slice | `[èµ·]` | å¸¸ç”¨æ–¼æ¼¢å ¡æˆ–ç„—çƒ¤ã€‚ |
| 16 | å¥¶æ²¹ | Butter | `[æ²¹]` | çƒ¹é£ªæ™‚å¢åŠ é¦™æ°£ã€‚ |
| 17 | ç‰›å¥¶ | Milk | `[å¥¶]` | å¯èˆ‡é›è›‹ã€éºµç²‰æ··åˆã€‚ |
| 18 | é†¬æ–™ç“¶ | Sauce Bottle | `[é†¬]` | æä¾›ç•ªèŒ„é†¬ã€ç¾ä¹ƒæ»‹ç­‰æœ€çµ‚èª¿å‘³ã€‚ |
| 19 | éºµç²‰ | Flour | `[ç²‰]` | è£½ä½œéºµç³Šæˆ–éºµç³°çš„åŸºç¤ã€‚ |
| 20 | é®®è¦ | Shrimp | `[è¦]` | å¯ç”¨æ–¼ç¾©å¤§åˆ©éºµæˆ–å¿«ç‚’ã€‚ |

## 13.2 åŠ å·¥èˆ‡çƒ¹é£ªé…æ–¹

æ­¤éšæ®µæè¿°äº†åŸºç¤é£Ÿæåœ¨ã€Œçƒ¹é£ªç«™ã€ç¶“éè™•ç†å¾Œçš„çµæœã€‚é€™äº›è¦å‰‡å„²å­˜åœ¨ `cook_recipes_v2` è³‡æ–™è¡¨ä¸­ï¼Œ`recipe_type` ç‚º `cooking`ã€‚

### 13.2.1 çƒ¹é£ªç«™ä¸»è¦ç”¢å‡ºç¯„ä¾‹

| è¼¸å…¥é£Ÿæ (ASCII) | å‹•ä½œ | ç”¢å‡ºæˆå“ (ASCII) | å°æ‡‰çš„ `cook_recipes_v2` ç¯„ä¾‹ (`result_item_id` ä¾†è‡ª `cook_items`) |
|:-------------------|:-----|:-------------------|:--------------------------------------------------------------------------------|
| `ç‰›è‚‰é¤… [ç‰›]` | çƒ¤ | `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` | `recipe_type: 'cooking', ingredients: [{item_id: 'beef_patty_raw'}], cook_station: 'bake', result_item_id: 'beef_patty_cooked'` |
| `é›èƒ¸è‚‰ [é›]` | ç… | `é¦™ç…é›æŸ³ [é›=]` | `recipe_type: 'cooking', ingredients: [{item_id: 'chicken_breast_raw'}], cook_station: 'pan_fry', result_item_id: 'chicken_breast_cooked'` |
| `è±¬é‡Œè‚Œ [è±¬]` | ç‚¸ | `ç‚¸è±¬æ’ [è±¬=]` | `recipe_type: 'cooking', ingredients: [{item_id: 'pork_loin_raw'}], cook_station: 'deep_fry', result_item_id: 'pork_loin_cooked'` |
| `é­šæ’ [é­š]` | ç… | `é¦™ç…é­šæ’ [é­š=]` | `recipe_type: 'cooking', ingredients: [{item_id: 'fish_fillet_raw'}], cook_station: 'pan_fry', result_item_id: 'fish_fillet_cooked'` |
| `é®®è¦ [è¦]` | ç… | `ç‚’è¦ä» [è¦=]` | `recipe_type: 'cooking', ingredients: [{item_id: 'shrimp_raw'}], cook_station: 'pan_fry', result_item_id: 'shrimp_cooked'` |
| `é›è›‹ [è›‹]` | ç… | `è·åŒ…è›‹ [è›‹=]` | `recipe_type: 'cooking', ingredients: [{item_id: 'egg_raw'}], cook_station: 'pan_fry', result_item_id: 'fried_egg_cooked'` |
| `é›è›‹ [è›‹]` + `ç‰›å¥¶ [å¥¶]` | ç… | `ç‚’è›‹ [ç‚’è›‹]` | `recipe_type: 'cooking', ingredients: [{item_id: 'egg_raw'}, {item_id: 'milk_raw'}], cook_station: 'pan_fry', result_item_id: 'scrambled_egg_cooked'` |
| `é¦¬éˆ´è–¯ [è–¯]` | ç‚¸ | `ç‚¸è–¯æ¢ [è–¯=]` | `recipe_type: 'cooking', ingredients: [{item_id: 'potato_raw'}], cook_station: 'deep_fry', result_item_id: 'fries_cooked'` |
| `éºµåŒ…ç‰‡ [éºµ]` | çƒ¤ | `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` | `recipe_type: 'cooking', ingredients: [{item_id: 'bread_slice_raw'}], cook_station: 'bake', result_item_id: 'bread_sliced_toasted'` |
| `ç”Ÿç±³ [ç±³]` | ç…® | `ç±³é£¯ [é£¯]` | `recipe_type: 'cooking', ingredients: [{item_id: 'rice_raw'}], cook_station: 'boil', result_item_id: 'rice_cooked'` |
| `ç¾©å¤§åˆ©éºµ [ç®¡]` | ç…® | `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]` | `recipe_type: 'cooking', ingredients: [{item_id: 'pasta_raw'}], cook_station: 'boil', result_item_id: 'pasta_cooked'` |
| `è˜‘è‡ [è‡]` + `å¥¶æ²¹ [æ²¹]` | ç… | `å¥¶æ²¹è˜‘è‡ [è‡=]` | `recipe_type: 'cooking', ingredients: [{item_id: 'mushroom_raw'}, {item_id: 'butter_raw'}], cook_station: 'pan_fry', result_item_id: 'mushroom_butter_cooked'` |
| `éºµç²‰ [ç²‰]` + `é›è›‹ [è›‹]` + `ç‰›å¥¶ [å¥¶]` | ç… | `é¬†é¤… [é¬†é¤…]` | `recipe_type: 'cooking', ingredients: [{item_id: 'flour_raw'}, {item_id: 'egg_raw'}, {item_id: 'milk_raw'}], cook_station: 'pan_fry', result_item_id: 'pancake_cooked'` |

### 13.2.2 çƒ¹é£ªæ–¹æ³•å…¨è¦½ (Comprehensive Cooking Matrix)

æ­¤è¡¨æ ¼è©³ç´°èªªæ˜äº†æ¯ç¨®åŸºç¤é£Ÿæï¼Œåœ¨ç¶“éå››ç¨®ä¸»è¦çƒ¹é£ªæ–¹æ³•ï¼ˆçƒ¤ã€ç…ã€ç‚¸ã€ç…®ï¼‰è™•ç†å¾Œï¼Œåˆ†åˆ¥æœƒè½‰è®Šæˆä»€éº¼çµæœã€‚æ¨™ç¤ºç‚º `æ¯€å£ [x]` çš„é …ç›®ä»£è¡¨è©²æ“ä½œä¸åˆé‚è¼¯ï¼Œæœƒå°è‡´é£Ÿææµªè²»ã€‚**ç²—é«”**è¡¨ç¤ºè©²é£Ÿææœ€å¸¸è¦‹æˆ–æœ€æ¨è–¦çš„çƒ¹é£ªæ–¹å¼ã€‚é€™äº›è¦å‰‡åŒæ¨£å®šç¾©æ–¼ `cook_recipes_v2`ã€‚

| åŸºç¤é£Ÿæ (ASCII) | çƒ¤ (Grill/Bake) | ç… (Pan-fry) | ç‚¸ (Deep-fry) | ç…® (Boil) |
|:-------------------|:-------------------------|:--------------------------|:----------------------|:----------------------|
| 1. ç‰›è‚‰é¤… `[ç‰›]` | **çƒ¤ç‰›è‚‰é¤… `[ç‰›=]`** | ç…ç‰›è‚‰é¤… `[ç‰›~]` | ç‚¸ç‰›è‚‰é¤… `[ç‰›+]` | æ¯€å£ `[x]` |
| 2. é›èƒ¸è‚‰ `[é›]` | çƒ¤é›èƒ¸ `[é›=]` | **é¦™ç…é›èƒ¸ `[é›=]`** | ç‚¸é›å¡Š `[é›å¡Š]` | æ°´ç…®é›èƒ¸ `[é›æ¹¯]` |
| 3. è±¬é‡Œè‚Œ `[è±¬]` | çƒ¤è±¬æ’ `[è±¬=]` | ç…è±¬æ’ `[è±¬=]` | **ç‚¸è±¬æ’ `[è±¬=]`** | æ¯€å£ `[x]` |
| 4. é­šæ’ `[é­š]` | çƒ¤é­šæ’ `[é­š=]` | **é¦™ç…é­šæ’ `[é­š=]`** | ç‚¸é­šæ’ `[é­šå¡Š]` | æ°´ç…®é­šç‰‡ `[é­šæ¹¯]` |
| 5. é›è›‹ `[è›‹]` | çƒ¤é›è›‹ `[è›‹+]` | **è·åŒ…è›‹ `[è›‹=]`** | ç‚¸è›‹ `[ç‚¸è›‹]` | æ°´ç…®è›‹ `[æ°´ç…®è›‹]` |
| 6. ç”Ÿèœ `[èœ]` | æ¯€å£ `[x]` | æ¸…ç‚’ç”Ÿèœ `[èœ~]` | æ¯€å£ `[x]` | **ç‡™ç”Ÿèœ `[èœæ¹¯]`** |
| 7. ç•ªèŒ„ `[èŒ„]` | çƒ¤ç•ªèŒ„ `[èŒ„=]` | ç‚’ç•ªèŒ„ `[èŒ„é†¬]` | æ¯€å£ `[x]` | **ç•ªèŒ„æ¹¯åº• `[èŒ„æ¹¯]`** |
| 8. æ´‹è”¥ `[è”¥]` | çƒ¤æ´‹è”¥ `[è”¥=]` | **ç‚’æ´‹è”¥ `[è”¥=]`** | ç‚¸æ´‹è”¥åœˆ `[ç‚¸æ´‹è”¥]` | æ¯€å£ `[x]` |
| 9. è˜‘è‡ `[è‡]` | çƒ¤è˜‘è‡ `[è‡=]` | **å¥¶æ²¹è˜‘è‡ `[è‡=]`** | ç‚¸è˜‘è‡ `[ç‚¸è‡]` | è˜‘è‡æ¹¯ `[è‡æ¹¯]` |
| 10. é¦¬éˆ´è–¯ `[è–¯]` | **çƒ¤é¦¬éˆ´è–¯ `[çƒ¤è–¯]`** | ç…è–¯ç‰‡ `[è–¯ç‰‡]` | **ç‚¸è–¯æ¢ `[è–¯=]`** | **ç†Ÿé¦¬éˆ´è–¯ `[ç†Ÿè–¯]`** |
| 11. é’æ¤’ `[æ¤’]` | çƒ¤é’æ¤’ `[æ¤’=]` | **ç‚’é’æ¤’ `[æ¤’=]`** | æ¯€å£ `[x]` | æ¯€å£ `[x]` |
| 12. éºµåŒ…ç‰‡ `[éºµ]` | **çƒ¤éºµåŒ…ç‰‡ `[éºµ=]`** | ç…åå¸ `[éºµ=]` | ç‚¸åå¸ `[ç‚¸éºµåŒ…]` | æ¯€å£ `[x]` |
| 13. ç”Ÿç±³ `[ç±³]` | æ¯€å£ `[x]` | æ¯€å£ `[x]` | æ¯€å£ `[x]` | **ç±³é£¯ `[é£¯]`** |
| 14. ç¾©å¤§åˆ©éºµ `[ç®¡]`| æ¯€å£ `[x]` | æ¯€å£ `[x]` | æ¯€å£ `[x]` | **ç†Ÿç¾©å¤§åˆ©éºµ `[éºµæ¢]`**|
| 15. èµ·å¸ç‰‡ `[èµ·]` | **èåŒ–èµ·å¸ `[èèµ·]`** | èåŒ–èµ·å¸ `[èèµ·]` | æ¯€å£ `[x]` | æ¯€å£ `[x]` |
| 16. å¥¶æ²¹ `[æ²¹]` | èåŒ–å¥¶æ²¹ `[èæ²¹]` | **èåŒ–å¥¶æ²¹ `[èæ²¹]`** | ç„¦åŒ–çš„æ²¹ `[x]` | æ¯€å£ `[x]` |
| 17. ç‰›å¥¶ `[å¥¶]` | æ¯€å£ `[x]` | æº«ç‰›å¥¶ `[ç†±å¥¶]` | æ¯€å£ `[x]` | **ç†±ç‰›å¥¶ `[ç†±å¥¶]`** |
| 18. é†¬æ–™ç“¶ `[é†¬]` | æ¯€å£ `[x]` | æ¯€å£ `[x]` | æ¯€å£ `[x]` | æ¯€å£ `[x]` |
| 19. éºµç²‰ `[ç²‰]` | æ¯€å£ `[x]` | æ¯€å£ `[x]` | æ¯€å£ `[x]` | **éºµç³Š `[éºµç³Š]`** |
| 20. é®®è¦ `[è¦]` | çƒ¤è¦ `[è¦=]` | **ç‚’è¦ä» `[è¦=]`** | ç‚¸è¦ `[ç‚¸è¦]` | **æ°´ç…®è¦ `[è¦=]`** |

### 13.2.3 é€²éšçƒ¹é£ªèˆ‡é£Ÿæè®Šèº« (Advanced Cooking & Ingredient Transformation)

æ­¤ç« ç¯€è©³è¿°æ›´è¤‡é›œçš„çƒ¹é£ªéç¨‹ï¼Œå…¶ä¸­é£Ÿææœƒç™¼ç”Ÿé¡¯è‘—è³ªè®Šï¼Œå‰µé€ å‡ºç”¨æ–¼é«˜éšé£Ÿè­œçš„å…¨æ–°é£Ÿæã€‚é€™äº›åŒæ¨£å„²å­˜åœ¨ `cook_recipes_v2`ã€‚

| è¼¸å…¥é£Ÿæ (ASCII) | å‹•ä½œ | ç”¢å‡ºæˆå“ (ASCII) | èªªæ˜ |
|:-------------------|:-----|:-------------------|:-------------------------------------------|
| `ç•ªèŒ„ [èŒ„]` + `æ´‹è”¥ [è”¥]` | ç…® | `åŸºç¤ç•ªèŒ„é†¬ [ç´…é†¬]` | ç¾©å¤§åˆ©éºµå’Œæœªä¾†æŠ«è–©çš„åŸºç¤é†¬æ–™ã€‚ |
| `éºµç²‰ [ç²‰]` + `å¥¶æ²¹ [æ²¹]` | ç…® | `éºµç³° [éºµç³°]` | å¯ç”¨æ–¼è£½ä½œéºµåŒ…ã€æŠ«è–©é¤…çš®ç­‰ã€‚ï¼ˆæ­¤è™•ç…®ä»£è¡¨åŠ ç†±æ··åˆï¼‰|
| `éºµç³° [éºµç³°]` | çƒ¤ | `é¤…çš® [é¤…çš®]` | æœªä¾†æŠ«è–©æˆ–æ²é¤…çš„åŸºç¤ã€‚ |
| `é¦¬éˆ´è–¯ [è–¯]` | ç…® | `ç†Ÿé¦¬éˆ´è–¯ [ç†Ÿè–¯]` | è£½ä½œè–¯æ³¥çš„å‰ç½®æ­¥é©Ÿã€‚ |
| `æ´‹è”¥ [è”¥]` + `éºµç²‰ [ç²‰]` | ç‚¸ | `ç‚¸æ´‹è”¥åœˆ [ç‚¸æ´‹è”¥]` | ä¸€é“å—æ­¡è¿çš„å‰¯é¤ã€‚ |
| `èµ·å¸ç‰‡ [èµ·]` | ç… | `èåŒ–èµ·å¸ [èèµ·]` | å¯ç”¨æ–¼è£½ä½œèµ·å¸é†¬æˆ–æ·‹åœ¨å…¶ä»–æ–™ç†ä¸Šã€‚ |
| `å¥¶æ²¹ [æ²¹]` + `éºµç²‰ [ç²‰]` + `ç‰›å¥¶ [å¥¶]` | ç…® | `ç™½é†¬ [ç™½é†¬]` | å¥¶æ²¹è˜‘è‡éºµæˆ–ç„—çƒ¤çš„åŸºç¤é†¬æ–™ã€‚ |

### 13.2.4 çƒ¹é£ªç‹€æ…‹ç³»çµ± (Cooking State System)

ç‚ºäº†å¢åŠ çƒ¹é£ªéç¨‹çš„æŠ€å·§èˆ‡æŒ‘æˆ°æ€§ï¼Œè¨±å¤šé£Ÿæçš„çƒ¹é£ªçµæœæœƒä¾æ“šã€Œæ™‚é–“ã€è€Œç”¢ç”Ÿä¸åŒç‹€æ…‹ã€‚é€™éœ€è¦ç©å®¶æ›´ç²¾æº–åœ°æŒæ¡æ™‚æ©Ÿã€‚`cook_items` ä¸­çš„ `properties_json` å¯ä»¥å®šç¾©é€™äº›ç‹€æ…‹åŠå…¶å°æ‡‰çš„è¨ˆåˆ†æ•ˆæœã€‚

*   **ç‹€æ…‹ç¯„ä¾‹ (ä»¥ç‰›è‚‰é¤…ç‚ºä¾‹):**
    1.  **ç”Ÿ (Raw)**: `ç‰›è‚‰é¤… [ç‰›]` - åˆå§‹ç‹€æ…‹ã€‚
    2.  **åŠç†Ÿ (Undercooked)**: `åŠç†Ÿç‰›è‚‰é¤… [ç‰›~]` - çƒ¹é£ªæ™‚é–“ä¸è¶³ã€‚å¯ç”¨ï¼Œä½†æœƒæ‰£åˆ†ã€‚
    3.  **å®Œç¾ (Perfectly Cooked)**: `å®Œç¾çƒ¤ç‰›è‚‰é¤… [ç‰›*]` - åœ¨ç²¾æº–çš„æ™‚é–“å…§å®Œæˆçƒ¹é£ªã€‚èƒ½ç²å¾—é¡å¤–åˆ†æ•¸åŠ æˆã€‚
    4.  **æ­£å¸¸ (Cooked)**: `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` - åœ¨æ­£å¸¸æ™‚é–“ç¯„åœå…§å®Œæˆã€‚æ¨™æº–åˆ†æ•¸ã€‚
    5.  **éç†Ÿ (Overcooked)**: `éç†Ÿç‰›è‚‰é¤… [ç‰›+]` - çƒ¹é£ªæ™‚é–“ç¨é•·ã€‚å¯ç”¨ï¼Œè¼•å¾®æ‰£åˆ†ã€‚
    6.  **çƒ¤ç„¦ (Burnt)**: `çƒ¤ç„¦ç‰© [x]` - çƒ¹é£ªæ™‚é–“éé•·ã€‚ä¸å¯ç”¨ï¼Œå¿…é ˆä¸Ÿæ£„ï¼Œæµªè²»é£Ÿæã€‚

*   **é€šç”¨ç‹€æ…‹æ¨™ç¤ºå»ºè­°:**
    *   `~`: åŠç†Ÿ (Undercooked)
    *   `*`: å®Œç¾ (Perfect)
    *   `=`: æ­£å¸¸ (Cooked)
    *   `+`: éç†Ÿ (Overcooked)
    *   `x`: çƒ¤ç„¦ (Burnt)

## 13.3 æœ€çµ‚çµ„è£èˆ‡å‡ºé¤ (Final Assembly & Serving)

æ­¤ç« ç¯€æ˜¯éŠæˆ²çš„æ ¸å¿ƒï¼Œå®šç¾©äº†ç©å®¶å¦‚ä½•å°‡çƒ¹é£ªå¥½çš„é£Ÿæï¼Œé€éä¸€å€‹å…¨æ–°çš„ã€æ›´å…·äº’å‹•æ€§çš„ã€Œå‡ºé¤ç›¤ã€æ©Ÿåˆ¶ï¼Œçµ„è£æˆæœ€çµ‚çš„æ–™ç†ã€‚é€™äº›çµ„åˆè¦å‰‡å„²å­˜åœ¨ `cook_recipes_v2` è³‡æ–™è¡¨ä¸­ï¼Œ`recipe_type` ç‚º `assembly`ã€‚

### 13.3.1 ã€Œå‡ºé¤ç›¤ã€æ©Ÿåˆ¶ (The "Serving Plate" Mechanic)

ç•¶ä¸€å€‹è¨‚å–®ï¼ˆä¾‹å¦‚ï¼š`è±ªè¯ç‰›è‚‰æ¼¢å ¡`ï¼‰å‡ºç¾æ™‚ï¼ŒéŠæˆ²çš„æ ¸å¿ƒå€åŸŸæœƒå‡ºç¾ä¸€å€‹å°æ‡‰çš„ã€Œå‡ºé¤ç›¤ã€ã€‚é€™å€‹ç›¤å­ç›´è§€åœ°é¡¯ç¤ºäº†å®Œæˆé€™é“èœæ‰€éœ€çš„**æœ€çµ‚åˆæˆæ­¥é©Ÿ**ã€‚

*   **æ©Ÿåˆ¶æµç¨‹**:
    1.  **é¡¯ç¤ºé¡Œç›®**: ç›¤å­æœƒé¡¯ç¤ºå¦‚ `[èµ·å¸æ¼¢å ¡] + [çƒ¤éºµåŒ…ç‰‡] â†’ [è±ªè¯ç‰›è‚‰æ¼¢å ¡]` çš„ç©ºæ ¼ã€‚æ‰€éœ€ç‰©å“é¡å‹ (`item_type`) å®šç¾©æ–¼ `cook_recipes_v2` çš„ `ingredients_json` æ¬„ä½ã€‚
    2.  **ç©å®¶æ”¾ç½®**: ä»»ä½•ç©å®¶éƒ½å¯ä»¥å¾è‡ªå·±çš„ç‰©å“æ¬„ä¸­ï¼Œå°‡æ­£ç¢ºçš„ç‰©å“ï¼ˆä¾‹å¦‚ `èµ·å¸æ¼¢å ¡ [å ¡+]`ï¼‰æ‹–æ”¾åˆ°å°æ‡‰çš„ç©ºæ ¼ä¸Šã€‚
    3.  **å”ä½œå®Œæˆ**: åœ˜éšŠæˆå“¡éœ€è¦å”ä½œï¼Œå°‡æ‰€æœ‰å¿…éœ€çš„ç‰©å“éƒ½æ”¾åˆ°ç›¤å­ä¸Šã€‚
    4.  **äº¤å·å‡ºé¤**: ç•¶æ‰€æœ‰ç©ºæ ¼éƒ½è¢«å¡«æ»¿å¾Œï¼Œã€Œå‡ºé¤ã€æŒ‰éˆ•æœƒäº®èµ·ã€‚é»æ“Šå¾Œï¼Œç³»çµ±æœƒé©—è­‰çµ„åˆæ˜¯å¦æ­£ç¢ºï¼ˆé€é `findAssemblyRecipe` é€²è¡Œæ ¡é©—ï¼‰ã€‚
    5.  **çµæœ**:
        *   **æ­£ç¢º**: ç²å¾—åˆ†æ•¸ (`base_points` + æ™‚é–“çå‹µ)ï¼Œå®Œæˆè¨‚å–®ã€‚
        *   **éŒ¯èª¤**: ç›¤å­ä¸Šçš„æ‰€æœ‰ç‰©å“è¢«ä¸Ÿæ£„ï¼Œä¸¦æ‰£é™¤åˆ†æ•¸ã€‚

*   **è¨‚å–®è¦å‰‡ (Order Rules)**
    *   **å–®ä¸€è¨‚å–®æµç¨‹ (Single Order Flow)**: åœ¨ä»»ä½•æ™‚å€™ï¼Œåœ˜éšŠéƒ½åªèƒ½å°ˆæ³¨æ–¼**ä¸€é“**è¨‚å–®ã€‚åªæœ‰åœ¨ç•¶å‰è¨‚å–®è¢«æˆåŠŸé€å‡ºæˆ–è¢«æ”¾æ£„å¾Œï¼Œç³»çµ±æ‰æœƒç”Ÿæˆä¸‹ä¸€å¼µæ–°è¨‚å–®ã€‚
    *   **æ”¾æ£„è¨‚å–®é¸é … (Abandon Order Option)**: éŠæˆ²ä¸­æä¾›ã€Œæ”¾æ£„è¨‚å–®ã€çš„åŠŸèƒ½ã€‚ç©å®¶å¯ä»¥é¸æ“‡æ”¾æ£„ç•¶å‰çš„å›°é›£è¨‚å–®ï¼Œä½†æœƒç«‹å³**æ‰£é™¤ä¸€å®šåˆ†æ•¸**ä½œç‚ºæ‡²ç½°ã€‚æ”¾æ£„å¾Œï¼Œç•¶å‰çš„å‡ºé¤ç›¤æœƒè¢«æ¸…ç©ºï¼Œä¸¦ç«‹å³ç”Ÿæˆä¸€å¼µæ–°çš„è¨‚å–®ã€‚

*   **ä»‹é¢æ¨¡æ“¬**:
    ```
    +-------------------------------------------------+
    |  è¨‚å–®: è±ªè¯ç‰›è‚‰æ¼¢å ¡ [å ¡*]       [æ”¾æ£„è¨‚å–® X]  |
    |                                                 |
    |  [å ¡+]      +      [éºµ=]      ->      [ å‡ºé¤ ]   |
    | (å¯æ”¾ç½®å€åŸŸ) (å¯æ”¾ç½®å€åŸŸ)          (é»æ“Šæäº¤)   |
    +-------------------------------------------------+
    ```

### 13.3.2 éšå±¤å¼çµ„è£é…æ–¹ (Tiered Assembly Recipes)

é€™æ˜¯ã€Œå‡ºé¤ç›¤ã€æ©Ÿåˆ¶èƒŒå¾Œçš„è¦å‰‡ã€‚æ‰€æœ‰æ–™ç†éƒ½å¿…é ˆéµå¾ªã€Œ2x2ã€çš„åˆæˆè¦å‰‡ï¼Œé€éé€æ­¥åˆæˆã€ŒåŠæˆå“ã€ï¼Œæœ€çµ‚å¾—åˆ°ã€Œæœ€çµ‚æ–™ç†ã€ã€‚é€™äº›é…æ–¹å…¨éƒ¨å„²å­˜åœ¨ `cook_recipes_v2`ï¼Œ`recipe_type` ç‚º `assembly`ã€‚

#### A. åŠæˆå“é…æ–¹ (Semi-finished Goods Recipes)

é€™äº›ç‰©å“ç„¡æ³•ç›´æ¥ä¸Šèœï¼Œä½†å»æ˜¯æ§‹æˆè¤‡é›œæ–™ç†çš„é—œéµä¸­é–“ä»¶ã€‚

| ç”¢å‡ºåŠæˆå“ (ASCII) | æ‰€éœ€ææ–™ 1 (ASCII) | æ‰€éœ€ææ–™ 2 (ASCII) | å°æ‡‰ `cook_recipes_v2` ç¯„ä¾‹ (`result_item_id` ä¾†è‡ª `cook_items`) |
|:-------------------|:-------------------|:-------------------|:------------------------------------------------------------------------------------------------------------------------------------------------|
| `æ¼¢å ¡åº•åº§ [å ¡åº•]` | `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` | `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'beef_patty_cooked'}, {item_id: 'bread_sliced_toasted'}], result_item_id: 'burger_base'` |
| `é›è‚‰æ¼¢å ¡åº•åº§ [é›å ¡åº•]` | `é¦™ç…é›æŸ³ [é›=]` | `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'chicken_breast_cooked'}, {item_id: 'bread_sliced_toasted'}], result_item_id: 'chicken_burger_base'` |
| `ç”Ÿèœæ¼¢å ¡åº• [èœå ¡åº•]` | `æ¼¢å ¡åº•åº§ [å ¡åº•]` | `ç”Ÿèœ [èœ]` | `recipe_type: 'assembly', ingredients: [{item_id: 'burger_base'}, {item_id: 'lettuce_raw'}], result_item_id: 'lettuce_burger_base'` |
| `èµ·å¸æ¼¢å ¡ [å ¡+]` | `ç”Ÿèœæ¼¢å ¡åº• [èœå ¡åº•]` | `èµ·å¸ç‰‡ [èµ·]` | `recipe_type: 'assembly', ingredients: [{item_id: 'lettuce_burger_base'}, {item_id: 'cheese_slice_raw'}], result_item_id: 'cheeseburger_semi'` |
| `ç•ªèŒ„é†¬ç¾©å¤§åˆ©éºµ [ç´…éºµ]`| `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]` | `åŸºç¤ç•ªèŒ„é†¬ [ç´…é†¬]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pasta_cooked'}, {item_id: 'tomato_sauce_base'}], result_item_id: 'pasta_red_sauce'` |
| `ç™½é†¬ç¾©å¤§åˆ©éºµ [ç™½éºµ]` | `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]` | `ç™½é†¬ [ç™½é†¬]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pasta_cooked'}, {item_id: 'white_sauce_base'}], result_item_id: 'pasta_white_sauce'` |
| `é¦¬éˆ´è–¯æ³¥ [è–¯æ³¥]` | `ç†Ÿé¦¬éˆ´è–¯ [ç†Ÿè–¯]` | `ç‰›å¥¶ [å¥¶]` | `recipe_type: 'assembly', ingredients: [{item_id: 'potato_cooked'}, {item_id: 'milk_raw'}], result_item_id: 'mashed_potato'` |
| `è›‹ä¸‰æ˜æ²»åº• [è›‹æ˜æ²»]` | `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` | `è·åŒ…è›‹ [è›‹=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'bread_sliced_toasted'}, {item_id: 'fried_egg_cooked'}], result_item_id: 'egg_sandwich_base'` |
| `è±¬æ’è›‹ä¸‰æ˜æ²» [è±¬æ˜æ²»]` | `è›‹ä¸‰æ˜æ²»åº• [è›‹æ˜æ²»]` | `ç‚¸è±¬æ’ [è±¬=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'egg_sandwich_base'}, {item_id: 'pork_loin_cooked'}], result_item_id: 'pork_egg_sandwich'` |
| `é¬†é¤…ç‚’è›‹ç›¤ [é¬†ç‚’ç›¤]` | `é¬†é¤… [é¬†é¤…]` | `ç‚’è›‹ [ç‚’è›‹]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pancake_cooked'}, {item_id: 'scrambled_egg_cooked'}], result_item_id: 'pancake_scrambled_plate'` |
| `ç”°åœ’æ²™æ‹‰ [æ²™æ‹‰]` | `ç”Ÿèœ [èœ]` | `ç•ªèŒ„ [èŒ„]` | `recipe_type: 'assembly', ingredients: [{item_id: 'lettuce_raw'}, {item_id: 'tomato_raw'}], result_item_id: 'garden_salad_assembled'` |
| `æ„å¼è‚‰é†¬ [è‚‰é†¬]` | `åŸºç¤ç•ªèŒ„é†¬ [ç´…é†¬]` | `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'tomato_sauce_base'}, {item_id: 'beef_patty_cooked'}], result_item_id: 'meat_sauce_assembled'` |
| `è›‹ç‚’é£¯åº• [é£¯åº•]` | `ç±³é£¯ [é£¯]` | `ç‚’è›‹ [ç‚’è›‹]` | `recipe_type: 'assembly', ingredients: [{item_id: 'rice_cooked'}, {item_id: 'scrambled_egg_cooked'}], result_item_id: 'egg_fried_rice_base'` |
| `é›™å±¤ç‰›è‚‰å ¡ [é›™å±¤å ¡]` | `æ¼¢å ¡åº•åº§ [å ¡åº•]` | `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'burger_base'}, {item_id: 'beef_patty_cooked'}], result_item_id: 'double_beef_burger_semi'` |
| `éºµåŒ…å¤¾é­šæ’ [éºµå¤¾é­š]` | `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` | `ç‚¸é­šæ’ [é­šå¡Š]` | `recipe_type: 'assembly', ingredients: [{item_id: 'bread_sliced_toasted'}, {item_id: 'fish_fillet_fried'}], result_item_id: 'fish_sandwich_base'` |
| `ç•ªèŒ„é†¬é¤…çš® [ç´…é¤…çš®]` | `é¤…çš® [é¤…çš®]` | `åŸºç¤ç•ªèŒ„é†¬ [ç´…é†¬]` | `recipe_type: 'assembly', ingredients: [{item_id: 'crust_baked'}, {item_id: 'tomato_sauce_base'}], result_item_id: 'pizza_crust_sauce'` |

#### B. æœ€çµ‚æ–™ç†é…æ–¹ (Final Dish Recipes)

é€™äº›æ˜¯å¯ä»¥æäº¤çµ¦å®¢äººçš„æœ€çµ‚æˆå“ã€‚å®ƒå€‘çš„ `base_points` å±¬æ€§å®šç¾©åœ¨ `cook_items` è³‡æ–™è¡¨ä¸­ã€‚

| åˆ†é¡ | æœ€çµ‚æ–™ç† (ASCII) | æ‰€éœ€ææ–™ 1 (ASCII) | æ‰€éœ€ææ–™ 2 (ASCII) | å°æ‡‰ `cook_recipes_v2` ç¯„ä¾‹ |
|:-----|:-------------------|:-------------------|:-------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------|
| **æ¼¢å ¡é¡** | `è±ªè¯ç‰›è‚‰æ¼¢å ¡ [å ¡*]` | `èµ·å¸æ¼¢å ¡ [å ¡+]` | `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'cheeseburger_semi'}, {item_id: 'bread_sliced_toasted'}], result_item_id: 'deluxe_beef_burger'` |
| | `é›è‚‰å ¡ [é›å ¡]` | `é›è‚‰æ¼¢å ¡åº•åº§ [é›å ¡åº•]`| `ç”Ÿèœ [èœ]` | `recipe_type: 'assembly', ingredients: [{item_id: 'chicken_burger_base'}, {item_id: 'lettuce_raw'}], result_item_id: 'chicken_burger_final'` |
| **ä¸»é¤é¡** | `ç•ªèŒ„è¦ä»ç¾©å¤§åˆ©éºµ [è¦éºµ]` | `ç•ªèŒ„é†¬ç¾©å¤§åˆ©éºµ [ç´…éºµ]`| `ç‚’è¦ä» [è¦=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pasta_red_sauce'}, {item_id: 'shrimp_cooked'}], result_item_id: 'pasta_shrimp_tomato'` |
| | `å¥¶æ²¹è˜‘è‡é›è‚‰éºµ [é›éºµ]` | `ç™½é†¬ç¾©å¤§åˆ©éºµ [ç™½éºµ]` | `å¥¶æ²¹è˜‘è‡ [è‡=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pasta_white_sauce'}, {item_id: 'mushroom_butter_cooked'}], result_item_id: 'pasta_chicken_mushroom_cream'` |
| | `è±¬æ’é£¯ [è±¬/é£¯]` | `ç‚¸è±¬æ’ [è±¬=]` | `ç±³é£¯ [é£¯]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pork_loin_cooked'}, {item_id: 'rice_cooked'}], result_item_id: 'pork_cutlet_rice'` |
| | `ç‚¸é­šè–¯æ¢ [é­šè–¯]` | `é¦™ç…é­šæ’ [é­š=]` | `ç‚¸è–¯æ¢ [è–¯=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'fish_fillet_cooked'}, {item_id: 'fries_cooked'}], result_item_id: 'fish_and_chips'` |
| | `é¦¬éˆ´è–¯æ³¥ä¸»é¤ [è–¯æ³¥é¤]` | `é¦¬éˆ´è–¯æ³¥ [è–¯æ³¥]` | `é¦™ç…é›æŸ³ [é›=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'mashed_potato'}, {item_id: 'chicken_breast_cooked'}], result_item_id: 'mashed_potato_chicken_plate'` |
| **è¼•é£Ÿ/æ—©é¤**| `ç•ªèŒ„ç‚’è›‹ [èŒ„è›‹]` | `ç‚’è›‹ [ç‚’è›‹]` | `ç‚’ç•ªèŒ„ [èŒ„é†¬]` | `recipe_type: 'assembly', ingredients: [{item_id: 'scrambled_egg_cooked'}, {item_id: 'tomato_cooked_sauce'}], result_item_id: 'tomato_scrambled_egg'` |
| | `ç«è…¿è›‹ä¸‰æ˜æ²» [ä¸‰æ˜æ²»]` | `è·åŒ…è›‹ [è›‹=]` | `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'fried_egg_cooked'}, {item_id: 'bread_sliced_toasted'}], result_item_id: 'ham_egg_sandwich'` |
| | `å¥¶æ²¹é¬†é¤… [é¬†é¤…+]` | `é¬†é¤… [é¬†é¤…]` | `å¥¶æ²¹ [æ²¹]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pancake_cooked'}, {item_id: 'butter_raw'}], result_item_id: 'butter_pancake'` |
| **æ²™æ‹‰é¡** | `é›è‚‰æ²™æ‹‰ [é›æ²™æ‹‰]` | `ç”°åœ’æ²™æ‹‰ [æ²™æ‹‰]` | `é¦™ç…é›æŸ³ [é›=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'garden_salad_assembled'}, {item_id: 'chicken_breast_cooked'}], result_item_id: 'chicken_salad_final'` |
| | `é®®è¦æ²™æ‹‰ [è¦æ²™æ‹‰]` | `ç”°åœ’æ²™æ‹‰ [æ²™æ‹‰]` | `æ°´ç…®è¦ [è¦=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'garden_salad_assembled'}, {item_id: 'shrimp_boiled'}], result_item_id: 'shrimp_salad_final'` |
| **ç¶œåˆé¡** | `é›™å±¤èµ·å¸ç‰›è‚‰å ¡ [é›™å±¤å ¡*]` | `èµ·å¸æ¼¢å ¡ [å ¡+]` | `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'cheeseburger_semi'}, {item_id: 'beef_patty_cooked'}], result_item_id: 'double_cheese_beef_burger'` |
| | `è±ªè¯ç¸½åŒ¯ä¸‰æ˜æ²» [ç¸½åŒ¯]` | `è±¬æ’è›‹ä¸‰æ˜æ²» [è±¬æ˜æ²»]` | `ç”Ÿèœ [èœ]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pork_egg_sandwich'}, {item_id: 'lettuce_raw'}], result_item_id: 'deluxe_club_sandwich'` |
| | `ç‚¸é­šè–¯æ¢å¥—é¤ [é­šè–¯å¥—é¤]` | `ç‚¸é­šæ’ [é­šå¡Š]` | `ç‚¸è–¯æ¢ [è–¯=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'fish_fillet_fried'}, {item_id: 'fries_cooked'}], result_item_id: 'fish_and_chips_combo'` |
| | `æ—©é¤å…¨é¤ [æ—©å…¨é¤]` | `é¬†é¤…ç‚’è›‹ç›¤ [é¬†ç‚’ç›¤]` | `é¦™ç…é›æŸ³ [é›=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pancake_scrambled_plate'}, {item_id: 'chicken_breast_cooked'}], result_item_id: 'full_breakfast_plate'` |
| | `è±¬æ’é£¯å¥—é¤ [è±¬å¥—é¤]` | `è±¬æ’é£¯ [è±¬/é£¯]` | `ç”°åœ’æ²™æ‹‰ [æ²™æ‹‰]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pork_cutlet_rice'}, {item_id: 'garden_salad_assembled'}], result_item_id: 'pork_cutlet_rice_combo'` |
| | `èå²©èµ·å¸é¦¬éˆ´è–¯æ³¥ [èå²©è–¯æ³¥]` | `é¦¬éˆ´è–¯æ³¥ [è–¯æ³¥]` | `èåŒ–èµ·å¸ [èèµ·]` | `recipe_type: 'assembly', ingredients: [{item_id: 'mashed_potato'}, {item_id: 'cheese_melted'}], result_item_id: 'lava_cheese_mashed_potato'` |
| | `æ´‹è”¥ç‚’è±¬è‚‰ [è”¥è±¬]` | `ç‚¸è±¬æ’ [è±¬=]` | `ç‚’æ´‹è”¥ [è”¥=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pork_loin_cooked'}, {item_id: 'onion_cooked'}], result_item_id: 'pork_onion_stirfry'` |
| | `é›è‚‰ç‚’é£¯ [é›ç‚’é£¯]` | `è›‹ç‚’é£¯åº• [é£¯åº•]` | `é¦™ç…é›æŸ³ [é›=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'egg_fried_rice_base'}, {item_id: 'chicken_breast_cooked'}], result_item_id: 'chicken_fried_rice'` |
| | `è‚‰é†¬ç¾©å¤§åˆ©éºµ [è‚‰é†¬éºµ]` | `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]` | `æ„å¼è‚‰é†¬ [è‚‰é†¬]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pasta_cooked'}, {item_id: 'meat_sauce_assembled'}], result_item_id: 'pasta_bolognese'` |
| | `éµæ¿ç‰›è‚‰ [éµæ¿ç‰›]` | `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` | `ç‚’æ´‹è”¥ [è”¥=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'beef_patty_cooked'}, {item_id: 'onion_cooked'}], result_item_id: 'sizzling_beef_plate'` |
| | `ç‚¸è¦è–¯æ¢æ‹¼ç›¤ [è¦è–¯ç›¤]` | `ç‚¸è¦ [ç‚¸è¦]` | `ç‚¸è–¯æ¢ [è–¯=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'shrimp_fried'}, {item_id: 'fries_cooked'}], result_item_id: 'shrimp_fries_platter'` |
| | `èµ·å¸è›‹æ² [èµ·å¸æ²]` | `è·åŒ…è›‹ [è›‹=]` | `èµ·å¸ç‰‡ [èµ·]` | `recipe_type: 'assembly', ingredients: [{item_id: 'fried_egg_cooked'}, {item_id: 'cheese_slice_raw'}], result_item_id: 'cheese_omelette'` |
| | `ç…§ç‡’é›è‚‰é£¯ [ç…§ç‡’é›é£¯]` | `ç…§ç‡’é› [ç…§ç‡’é›]` | `ç±³é£¯ [é£¯]` | `recipe_type: 'assembly', ingredients: [{item_id: 'teriyaki_chicken_cooked'}, {item_id: 'rice_cooked'}], result_item_id: 'teriyaki_chicken_rice'` |
| | `è±ªè¯æµ·é®®ç‚’é£¯ [æµ·é®®é£¯*]` | `è¦ä»ç‚’é£¯ [è¦ç‚’é£¯]` | `é¦™ç…é­šæ’ [é­š=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'shrimp_fried_rice'}, {item_id: 'fish_fillet_cooked'}], result_item_id: 'deluxe_seafood_fried_rice'` |
| | `é­šæ’è›‹ä¸‰æ˜æ²» [é­šè›‹æ²»]` | `éºµåŒ…å¤¾é­šæ’ [éºµå¤¾é­š]` | `è·åŒ…è›‹ [è›‹=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'fish_sandwich_base'}, {item_id: 'fried_egg_cooked'}], result_item_id: 'fish_egg_sandwich'` |
| | `ç°¡æ˜“æŠ«è–© [æŠ«è–©]` | `ç•ªèŒ„é†¬é¤…çš® [ç´…é¤…çš®]` | `èåŒ–èµ·å¸ [èèµ·]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pizza_crust_sauce'}, {item_id: 'cheese_melted'}], result_item_id: 'simple_pizza'` |
| | `è˜‘è‡éµæ¿éºµ [è˜‘è‡éµæ¿éºµ]` | `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]` | `å¥¶æ²¹è˜‘è‡ [è‡=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'pasta_cooked'}, {item_id: 'mushroom_butter_cooked'}], result_item_id: 'mushroom_hotplate_noodles'` |
| | `å…¨è‚‰æ¼¢å ¡ [å…¨è‚‰å ¡]` | `é›™å±¤ç‰›è‚‰å ¡ [é›™å±¤å ¡]` | `ç‚¸è±¬æ’ [è±¬=]` | `recipe_type: 'assembly', ingredients: [{item_id: 'double_beef_burger_semi'}, {item_id: 'pork_loin_cooked'}], result_item_id: 'all_meat_burger'` |

## 13.4 ç¯„ä¾‹è¨‚å–®èˆ‡è§£æ³•è·¯å¾‘ (Sample Orders & Solution Paths)

æœ¬ç« ç¯€æä¾›23å€‹å…·é«”çš„éŠæˆ²è¨‚å–®ç¯„ä¾‹ï¼Œä¸¦è©³ç´°æ‹†è§£å…¶å”¯ä¸€çš„ã€Œè§£æ³•è·¯å¾‘ã€ã€‚é€™äº›ç¯„ä¾‹å±•ç¤ºäº†ç©å®¶å¾åŸºç¤é£Ÿæåˆ°æœ€çµ‚æ–™ç†æ‰€éœ€ç¶“æ­·çš„å®Œæ•´çƒ¹é£ªèˆ‡çµ„è£æµç¨‹ã€‚**è«‹æ³¨æ„ï¼Œé€™äº›è§£æ³•è·¯å¾‘æ˜¯åŸºæ–¼ `cook_items` å’Œ `cook_recipes_v2` çš„å®šç¾©ä¾†å¯¦ç¾çš„ã€‚**

---

### **è¨‚å–® 1: ç¶“å…¸æ¼¢å ¡ `[æ¼¢å ¡]` (é›£åº¦: â˜…â˜†â˜†â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[æ¼¢å ¡åº•åº§] + [ç”Ÿèœ] â†’ [ç¶“å…¸æ¼¢å ¡]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `ç‰›è‚‰é¤… [ç‰›]` â†’ `(çƒ¤)` â†’ `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` (å°æ‡‰ `cook_recipes_v2` cooking recipe: `beef_patty_cooked`)
        -   `éºµåŒ…ç‰‡ [éºµ]` â†’ `(çƒ¤)` â†’ `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` (å°æ‡‰ `cook_recipes_v2` cooking recipe: `bread_sliced_toasted`)
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` + `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` â†’ `æ¼¢å ¡åº•åº§ [å ¡åº•]` (å°æ‡‰ `cook_recipes_v2` assembly recipe: `burger_base`)
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `æ¼¢å ¡åº•åº§ [å ¡åº•]` + `ç”Ÿèœ [èœ]` â†’ `ç¶“å…¸æ¼¢å ¡ [æ¼¢å ¡]` (å°æ‡‰ `cook_recipes_v2` assembly recipe: `classic_burger_final`)

---

### **è¨‚å–® 2: é›™å±¤èµ·å¸ç‰›è‚‰å ¡ `[é›™å±¤å ¡*]` (é›£åº¦: â˜…â˜…â˜…â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[èµ·å¸æ¼¢å ¡] + [çƒ¤ç‰›è‚‰é¤…] â†’ [é›™å±¤èµ·å¸ç‰›è‚‰å ¡]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `ç‰›è‚‰é¤… [ç‰›]` x2 â†’ `(çƒ¤)` â†’ `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` x2
        -   `éºµåŒ…ç‰‡ [éºµ]` x2 â†’ `(çƒ¤)` â†’ `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` x2
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` + `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` â†’ `æ¼¢å ¡åº•åº§ [å ¡åº•]`
        -   `æ¼¢å ¡åº•åº§ [å ¡åº•]` + `ç”Ÿèœ [èœ]` â†’ `ç”Ÿèœæ¼¢å ¡åº• [èœå ¡åº•]`
        -   `ç”Ÿèœæ¼¢å ¡åº• [èœå ¡åº•]` + `èµ·å¸ç‰‡ [èµ·]` â†’ `èµ·å¸æ¼¢å ¡ [å ¡+]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `èµ·å¸æ¼¢å ¡ [å ¡+]` + `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` â†’ `é›™å±¤èµ·å¸ç‰›è‚‰å ¡ [é›™å±¤å ¡*]`

---

### **è¨‚å–® 3: ç•ªèŒ„ç‚’è›‹ `[èŒ„è›‹]` (é›£åº¦: â˜…â˜†â˜†â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[ç‚’è›‹] + [ç‚’ç•ªèŒ„] â†’ [ç•ªèŒ„ç‚’è›‹]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `é›è›‹ [è›‹]` + `ç‰›å¥¶ [å¥¶]` â†’ `(ç…)` â†’ `ç‚’è›‹ [ç‚’è›‹]`
        -   `ç•ªèŒ„ [èŒ„]` â†’ `(ç…)` â†’ `ç‚’ç•ªèŒ„ [èŒ„é†¬]`
    2.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `ç‚’è›‹ [ç‚’è›‹]` + `ç‚’ç•ªèŒ„ [èŒ„é†¬]` â†’ `ç•ªèŒ„ç‚’è›‹ [èŒ„è›‹]`

---

### **è¨‚å–® 4: å¥¶æ²¹è˜‘è‡é›è‚‰éºµ `[é›éºµ]` (é›£åº¦: â˜…â˜…â˜…â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[ç™½é†¬ç¾©å¤§åˆ©éºµ] + [å¥¶æ²¹è˜‘è‡] â†’ [å¥¶æ²¹è˜‘è‡é›è‚‰éºµ]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `ç¾©å¤§åˆ©éºµ [ç®¡]` â†’ `(ç…®)` â†’ `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]`
        -   `å¥¶æ²¹ [æ²¹]` + `éºµç²‰ [ç²‰]` + `ç‰›å¥¶ [å¥¶]` â†’ `(ç…®)` â†’ `ç™½é†¬ [ç™½é†¬]`
        -   `è˜‘è‡ [è‡]` + `å¥¶æ²¹ [æ²¹]` â†’ `(ç…)` â†’ `å¥¶æ²¹è˜‘è‡ [è‡=]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]` + `ç™½é†¬ [ç™½é†¬]` â†’ `ç™½é†¬ç¾©å¤§åˆ©éºµ [ç™½éºµ]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `ç™½é†¬ç¾©å¤§åˆ©éºµ [ç™½éºµ]` + `å¥¶æ²¹è˜‘è‡ [è‡=]` â†’ `å¥¶æ²¹è˜‘è‡é›è‚‰éºµ [é›éºµ]`

---

### **è¨‚å–® 5: è±ªè¯ç¸½åŒ¯ä¸‰æ˜æ²» `[ç¸½åŒ¯]` (é›£åº¦: â˜…â˜…â˜…â˜…â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[è±¬æ’è›‹ä¸‰æ˜æ²»] + [ç”Ÿèœ] â†’ [è±ªè¯ç¸½åŒ¯ä¸‰æ˜æ²»]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `éºµåŒ…ç‰‡ [éºµ]` x2 â†’ `(çƒ¤)` â†’ `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` x2
        -   `é›è›‹ [è›‹]` â†’ `(ç…)` â†’ `è·åŒ…è›‹ [è›‹=]`
        -   `è±¬é‡Œè‚Œ [è±¬]` â†’ `(ç‚¸)` â†’ `ç‚¸è±¬æ’ [è±¬=]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` + `è·åŒ…è›‹ [è›‹=]` â†’ `è›‹ä¸‰æ˜æ²»åº• [è›‹æ˜æ²»]`
        -   `è›‹ä¸‰æ˜æ²»åº• [è›‹æ˜æ²»]` + `ç‚¸è±¬æ’ [è±¬=]` â†’ `è±¬æ’è›‹ä¸‰æ˜æ²» [è±¬æ˜æ²»]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `è±¬æ’è›‹ä¸‰æ˜æ²» [è±¬æ˜æ²»]` + `ç”Ÿèœ [èœ]` â†’ `è±ªè¯ç¸½åŒ¯ä¸‰æ˜æ²» [ç¸½åŒ¯]`

---

### **è¨‚å–® 6: ç‚¸é­šè–¯æ¢å¥—é¤ `[é­šè–¯å¥—é¤]` (é›£åº¦: â˜…â˜…â˜†â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[ç‚¸é­šæ’] + [ç‚¸è–¯æ¢] â†’ [ç‚¸é­šè–¯æ¢å¥—é¤]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `é­šæ’ [é­š]` â†’ `(ç‚¸)` â†’ `ç‚¸é­šæ’ [é­šå¡Š]`
        -   `é¦¬éˆ´è–¯ [è–¯]` â†’ `(ç‚¸)` â†’ `ç‚¸è–¯æ¢ [è–¯=]`
    2.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `ç‚¸é­šæ’ [é­šå¡Š]` + `ç‚¸è–¯æ¢ [è–¯=]` â†’ `ç‚¸é­šè–¯æ¢å¥—é¤ [é­šè–¯å¥—é¤]`

---

### **è¨‚å–® 7: æµ·é™¸ç¾©å¤§åˆ©éºµ `[æµ·é™¸éºµ]` (é›£åº¦: â˜…â˜…â˜…â˜…â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[ç•ªèŒ„è¦ä»éºµ] + [é¦™ç…é­šæ’] â†’ [æµ·é™¸ç¾©å¤§åˆ©éºµ]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `ç¾©å¤§åˆ©éºµ [ç®¡]` â†’ `(ç…®)` â†’ `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]`
        -   `ç•ªèŒ„ [èŒ„]` + `æ´‹è”¥ [è”¥]` â†’ `(ç…®)` â†’ `åŸºç¤ç•ªèŒ„é†¬ [ç´…é†¬]`
        -   `é®®è¦ [è¦]` â†’ `(ç…)` â†’ `ç‚’è¦ä» [è¦=]`
        -   `é­šæ’ [é­š]` â†’ `(ç…)` â†’ `é¦™ç…é­šæ’ [é­š=]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]` + `åŸºç¤ç•ªèŒ„é†¬ [ç´…é†¬]` â†’ `ç•ªèŒ„é†¬ç¾©å¤§åˆ©éºµ [ç´…éºµ]`
        -   `ç•ªèŒ„é†¬ç¾©å¤§åˆ©éºµ [ç´…éºµ]` + `ç‚’è¦ä» [è¦=]` â†’ `ç•ªèŒ„è¦ä»éºµ [è¦éºµ]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `ç•ªèŒ„è¦ä»éºµ [è¦éºµ]` + `é¦™ç…é­šæ’ [é­š=]` â†’ `æµ·é™¸ç¾©å¤§åˆ©éºµ [æµ·é™¸éºµ]`

---

### **è¨‚å–® 8: æ—©é¤å…¨é¤ `[æ—©å…¨é¤]` (é›£åº¦: â˜…â˜…â˜…â˜…â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[é¬†é¤…ç‚’è›‹ç›¤] + [é¦™ç…é›æŸ³] â†’ [æ—©é¤å…¨é¤]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `éºµç²‰[ç²‰]`+`é›è›‹[è›‹]`+`ç‰›å¥¶[å¥¶]`â†’`(ç…)`â†’ `é¬†é¤…[é¬†é¤…]`
        -   `é›è›‹[è›‹]`+`ç‰›å¥¶[å¥¶]`â†’`(ç…)`â†’ `ç‚’è›‹[ç‚’è›‹]`
        -   `é›èƒ¸è‚‰[é›]`â†’`(ç…)`â†’ `é¦™ç…é›æŸ³[é›=]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `é¬†é¤… [é¬†é¤…]` + `ç‚’è›‹ [ç‚’è›‹]` â†’ `é¬†é¤…ç‚’è›‹ç›¤ [é¬†ç‚’ç›¤]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `é¬†é¤…ç‚’è›‹ç›¤ [é¬†ç‚’ç›¤]` + `é¦™ç…é›æŸ³ [é›=]` â†’ `æ—©é¤å…¨é¤ [æ—©å…¨é¤]`

---

### **è¨‚å–® 9: è±¬æ’é£¯å¥—é¤ `[è±¬å¥—é¤]` (é›£åº¦: â˜…â˜…â˜†â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[è±¬æ’é£¯] + [ç”°åœ’æ²™æ‹‰] â†’ [è±¬æ’é£¯å¥—é¤]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `è±¬é‡Œè‚Œ [è±¬]` â†’ `(ç‚¸)` â†’ `ç‚¸è±¬æ’ [è±¬=]`
        -   `ç”Ÿç±³ [ç±³]` â†’ `(ç…®)` â†’ `ç±³é£¯ [é£¯]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `ç‚¸è±¬æ’ [è±¬=]` + `ç±³é£¯ [é£¯]` â†’ `è±¬æ’é£¯ [è±¬/é£¯]`
        -   `ç”Ÿèœ [èœ]` + `ç•ªèŒ„ [èŒ„]` â†’ `ç”°åœ’æ²™æ‹‰ [æ²™æ‹‰]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `è±¬æ’é£¯ [è±¬/é£¯]` + `ç”°åœ’æ²™æ‹‰ [æ²™æ‹‰]` â†’ `è±¬æ’é£¯å¥—é¤ [è±¬å¥—é¤]`

---

### **è¨‚å–® 10: èå²©èµ·å¸é¦¬éˆ´è–¯æ³¥ `[èå²©è–¯æ³¥]` (é›£åº¦: â˜…â˜…â˜…â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[é¦¬éˆ´è–¯æ³¥] + [èåŒ–èµ·å¸] â†’ [èå²©èµ·å¸é¦¬éˆ´è–¯æ³¥]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `é¦¬éˆ´è–¯ [è–¯]` â†’ `(ç…®)` â†’ `ç†Ÿé¦¬éˆ´è–¯ [ç†Ÿè–¯]`
        -   `èµ·å¸ç‰‡ [èµ·]` â†’ `(ç…)` â†’ `èåŒ–èµ·å¸ [èèµ·]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `ç†Ÿé¦¬éˆ´è–¯ [ç†Ÿè–¯]` + `ç‰›å¥¶ [å¥¶]` â†’ `é¦¬éˆ´è–¯æ³¥ [è–¯æ³¥]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `é¦¬éˆ´è–¯æ³¥ [è–¯æ³¥]` + `èåŒ–èµ·å¸ [èèµ·]` â†’ `èå²©èµ·å¸é¦¬éˆ´è–¯æ³¥ [èå²©è–¯æ³¥]`

---

### **è¨‚å–® 11: æ´‹è”¥ç‚’è±¬è‚‰ `[è”¥è±¬]` (é›£åº¦: â˜…â˜…â˜†â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[ç‚¸è±¬æ’] + [ç‚’æ´‹è”¥] â†’ [æ´‹è”¥ç‚’è±¬è‚‰]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `è±¬é‡Œè‚Œ [è±¬]` â†’ `(ç‚¸)` â†’ `ç‚¸è±¬æ’ [è±¬=]`
        -   `æ´‹è”¥ [è”¥]` â†’ `(ç…)` â†’ `ç‚’æ´‹è”¥ [è”¥=]`
    2.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `ç‚¸è±¬æ’ [è±¬=]` + `ç‚’æ´‹è”¥ [è”¥=]` â†’ `æ´‹è”¥ç‚’è±¬è‚‰ [è”¥è±¬]`

---

### **è¨‚å–® 12: é›è‚‰ç‚’é£¯ `[é›ç‚’é£¯]` (é›£åº¦: â˜…â˜…â˜…â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[è›‹ç‚’é£¯åº•] + [é¦™ç…é›æŸ³] â†’ [é›è‚‰ç‚’é£¯]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `ç”Ÿç±³ [ç±³]` â†’ `(ç…®)` â†’ `ç±³é£¯ [é£¯]`
        -   `é›è›‹ [è›‹]` â†’ `(ç…)` â†’ `ç‚’è›‹ [ç‚’è›‹]`
        -   `é›èƒ¸è‚‰ [é›]` â†’ `(ç…)` â†’ `é¦™ç…é›æŸ³ [é›=]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `ç±³é£¯ [é£¯]` + `ç‚’è›‹ [ç‚’è›‹]` â†’ `è›‹ç‚’é£¯åº• [é£¯åº•]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `è›‹ç‚’é£¯åº• [é£¯åº•]` + `é¦™ç…é›æŸ³ [é›=]` â†’ `é›è‚‰ç‚’é£¯ [é›ç‚’é£¯]`

---

### **è¨‚å–® 13: è‚‰é†¬ç¾©å¤§åˆ©éºµ `[è‚‰é†¬éºµ]` (é›£åº¦: â˜…â˜…â˜…â˜…â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[ç†Ÿç¾©å¤§åˆ©éºµ] + [æ„å¼è‚‰é†¬] â†’ [è‚‰é†¬ç¾©å¤§åˆ©éºµ]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `ç¾©å¤§åˆ©éºµ [ç®¡]` â†’ `(ç…®)` â†’ `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]`
        -   `ç•ªèŒ„ [èŒ„]` + `æ´‹è”¥ [è”¥]` â†’ `(ç…®)` â†’ `åŸºç¤ç•ªèŒ„é†¬ [ç´…é†¬]`
        -   `ç‰›è‚‰é¤… [ç‰›]` â†’ `(çƒ¤)` â†’ `çƒ¤ç‰›è‚‰é¤… [ç‰›=]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `åŸºç¤ç•ªèŒ„é†¬ [ç´…é†¬]` + `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` â†’ `æ„å¼è‚‰é†¬ [è‚‰é†¬]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]` + `æ„å¼è‚‰é†¬ [è‚‰é†¬]` â†’ `è‚‰é†¬ç¾©å¤§åˆ©éºµ [è‚‰é†¬éºµ]`

---

### **è¨‚å–® 14: éµæ¿ç‰›è‚‰ `[éµæ¿ç‰›]` (é›£åº¦: â˜…â˜…â˜†â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[çƒ¤ç‰›è‚‰é¤…] + [ç‚’æ´‹è”¥] â†’ [éµæ¿ç‰›è‚‰]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `ç‰›è‚‰é¤… [ç‰›]` â†’ `(çƒ¤)` â†’ `çƒ¤ç‰›è‚‰é¤… [ç‰›=]`
        -   `æ´‹è”¥ [è”¥]` â†’ `(ç…)` â†’ `ç‚’æ´‹è”¥ [è”¥=]`
    2.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` + `ç‚’æ´‹è”¥ [è”¥=]` â†’ `éµæ¿ç‰›è‚‰ [éµæ¿ç‰›]`

---

### **è¨‚å–® 15: ç‚¸è¦è–¯æ¢æ‹¼ç›¤ `[è¦è–¯ç›¤]` (é›£åº¦: â˜…â˜…â˜†â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[ç‚¸è¦] + [ç‚¸è–¯æ¢] â†’ [ç‚¸è¦è–¯æ¢æ‹¼ç›¤]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `é®®è¦ [è¦]` â†’ `(ç‚¸)` â†’ `ç‚¸è¦ [ç‚¸è¦]`
        -   `é¦¬éˆ´è–¯ [è–¯]` â†’ `(ç‚¸)` â†’ `ç‚¸è–¯æ¢ [è–¯=]`
    2.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `ç‚¸è¦ [ç‚¸è¦]` + `ç‚¸è–¯æ¢ [è–¯=]` â†’ `ç‚¸è¦è–¯æ¢æ‹¼ç›¤ [è¦è–¯ç›¤]`

---

### **è¨‚å–® 16: èµ·å¸è›‹æ² `[èµ·å¸æ²]` (é›£åº¦: â˜…â˜†â˜†â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[è·åŒ…è›‹] + [èµ·å¸ç‰‡] â†’ [èµ·å¸è›‹æ²]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `é›è›‹ [è›‹]` â†’ `(ç…)` â†’ `è·åŒ…è›‹ [è›‹=]`
    2.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `è·åŒ…è›‹ [è›‹=]` + `èµ·å¸ç‰‡ [èµ·]` â†’ `èµ·å¸è›‹æ² [èµ·å¸æ²]`

---

### **è¨‚å–® 17: ç…§ç‡’é›è‚‰é£¯ `[ç…§ç‡’é›é£¯]` (é›£åº¦: â˜…â˜…â˜…â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[ç…§ç‡’é›] + [ç±³é£¯] â†’ [ç…§ç‡’é›è‚‰é£¯]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `é›èƒ¸è‚‰ [é›]` â†’ `(ç…)` â†’ `é¦™ç…é›æŸ³ [é›=]`
        -   `ç”Ÿç±³ [ç±³]` â†’ `(ç…®)` â†’ `ç±³é£¯ [é£¯]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `é¦™ç…é›æŸ³ [é›=]` + `é†¬æ–™ç“¶ [é†¬]` â†’ `ç…§ç‡’é› [ç…§ç‡’é›]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `ç…§ç‡’é› [ç…§ç‡’é›]` + `ç±³é£¯ [é£¯]` â†’ `ç…§ç‡’é›è‚‰é£¯ [ç…§ç‡’é›é£¯]`

---

### **è¨‚å–® 18: è±ªè¯æµ·é®®ç‚’é£¯ `[æµ·é®®é£¯*]` (é›£åº¦: â˜…â˜…â˜…â˜…â˜…)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[è¦ä»ç‚’é£¯] + [é¦™ç…é­šæ’] â†’ [è±ªè¯æµ·é®®ç‚’é£¯]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `ç”Ÿç±³ [ç±³]` â†’ `(ç…®)` â†’ `ç±³é£¯ [é£¯]`
        -   `é›è›‹ [è›‹]` â†’ `(ç…)` â†’ `ç‚’è›‹ [ç‚’è›‹]`
        -   `é®®è¦ [è¦]` â†’ `(ç…)` â†’ `ç‚’è¦ä» [è¦=]`
        -   `é­šæ’ [é­š]` â†’ `(ç…)` â†’ `é¦™ç…é­šæ’ [é­š=]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `ç±³é£¯ [é£¯]` + `ç‚’è›‹ [ç‚’è›‹]` â†’ `è›‹ç‚’é£¯åº• [é£¯åº•]`
        -   `è›‹ç‚’é£¯åº• [é£¯åº•]` + `ç‚’è¦ä» [è¦=]` â†’ `è¦ä»ç‚’é£¯ [è¦ç‚’é£¯]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `è¦ä»ç‚’é£¯ [è¦ç‚’é£¯]` + `é¦™ç…é­šæ’ [é­š=]` â†’ `è±ªè¯æµ·é®®ç‚’é£¯ [æµ·é®®é£¯*]`

---

### **è¨‚å–® 19: é­šæ’è›‹ä¸‰æ˜æ²» `[é­šè›‹æ²»]` (é›£åº¦: â˜…â˜…â˜…â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[éºµåŒ…å¤¾é­šæ’] + [è·åŒ…è›‹] â†’ [é­šæ’è›‹ä¸‰æ˜æ²»]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `é­šæ’ [é­š]` â†’ `(ç‚¸)` â†’ `ç‚¸é­šæ’ [é­šå¡Š]`
        -   `éºµåŒ…ç‰‡ [éºµ]` â†’ `(çƒ¤)` â†’ `çƒ¤éºµåŒ…ç‰‡ [éºµ=]`
        -   `é›è›‹ [è›‹]` â†’ `(ç…)` â†’ `è·åŒ…è›‹ [è›‹=]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` + `ç‚¸é­šæ’ [é­šå¡Š]` â†’ `éºµåŒ…å¤¾é­šæ’ [éºµå¤¾é­š]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `éºµåŒ…å¤¾é­šæ’ [éºµå¤¾é­š]` + `è·åŒ…è›‹ [è›‹=]` â†’ `é­šæ’è›‹ä¸‰æ˜æ²» [é­šè›‹æ²»]`

---

### **è¨‚å–® 20: ç°¡æ˜“æŠ«è–© `[æŠ«è–©]` (é›£åº¦: â˜…â˜…â˜…â˜…â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[ç•ªèŒ„é†¬é¤…çš®] + [èåŒ–èµ·å¸] â†’ [ç°¡æ˜“æŠ«è–©]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `éºµç²‰ [ç²‰]` + `å¥¶æ²¹ [æ²¹]` â†’ `(ç…®)` â†’ `éºµç³° [éºµç³°]`
        -   `éºµç³° [éºµç³°]` â†’ `(çƒ¤)` â†’ `é¤…çš® [é¤…çš®]`
        -   `ç•ªèŒ„ [èŒ„]` + `æ´‹è”¥ [è”¥]` â†’ `(ç…®)` â†’ `åŸºç¤ç•ªèŒ„é†¬ [ç´…é†¬]`
        -   `èµ·å¸ç‰‡ [èµ·]` â†’ `(ç…)` â†’ `èåŒ–èµ·å¸ [èèµ·]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `é¤…çš® [é¤…çš®]` + `åŸºç¤ç•ªèŒ„é†¬ [ç´…é†¬]` â†’ `ç•ªèŒ„é†¬é¤…çš® [ç´…é¤…çš®]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `ç•ªèŒ„é†¬é¤…çš® [ç´…é¤…çš®]` + `èåŒ–èµ·å¸ [èèµ·]` â†’ `ç°¡æ˜“æŠ«è–© [æŠ«è–©]`

---

### **è¨‚å–® 21: è˜‘è‡éµæ¿éºµ `[è˜‘è‡éµæ¿éºµ]` (é›£åº¦: â˜…â˜…â˜…â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[ç†Ÿç¾©å¤§åˆ©éºµ] + [å¥¶æ²¹è˜‘è‡] â†’ [è˜‘è‡éµæ¿éºµ]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `ç¾©å¤§åˆ©éºµ [ç®¡]` â†’ `(ç…®)` â†’ `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]`
        -   `è˜‘è‡ [è‡]` + `å¥¶æ²¹ [æ²¹]` â†’ `(ç…)` â†’ `å¥¶æ²¹è˜‘è‡ [è‡=]`
    2.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `ç†Ÿç¾©å¤§åˆ©éºµ [éºµæ¢]` + `å¥¶æ²¹è˜‘è‡ [è‡=]` â†’ `è˜‘è‡éµæ¿éºµ [è˜‘è‡éµæ¿éºµ]`

---

### **è¨‚å–® 22: å…¨è‚‰æ¼¢å ¡ `[å…¨è‚‰å ¡]` (é›£åº¦: â˜…â˜…â˜…â˜…â˜…)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[é›™å±¤ç‰›è‚‰å ¡] + [ç‚¸è±¬æ’] â†’ [å…¨è‚‰æ¼¢å ¡]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `ç‰›è‚‰é¤… [ç‰›]` x2 â†’ `(çƒ¤)` â†’ `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` x2
        -   `éºµåŒ…ç‰‡ [éºµ]` â†’ `(çƒ¤)` â†’ `çƒ¤éºµåŒ…ç‰‡ [éºµ=]`
        -   `è±¬é‡Œè‚Œ [è±¬]` â†’ `(ç‚¸)` â†’ `ç‚¸è±¬æ’ [è±¬=]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` + `çƒ¤éºµåŒ…ç‰‡ [éºµ=]` â†’ `æ¼¢å ¡åº•åº§ [å ¡åº•]`
        -   `æ¼¢å ¡åº•åº§ [å ¡åº•]` + `çƒ¤ç‰›è‚‰é¤… [ç‰›=]` â†’ `é›™å±¤ç‰›è‚‰å ¡ [é›™å±¤å ¡]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `é›™å±¤ç‰›è‚‰å ¡ [é›™å±¤å ¡]` + `ç‚¸è±¬æ’ [è±¬=]` â†’ `å…¨è‚‰æ¼¢å ¡ [å…¨è‚‰å ¡]`

---

### **è¨‚å–® 23: é®®è¦æ²™æ‹‰ `[è¦æ²™æ‹‰]` (é›£åº¦: â˜…â˜…â˜†â˜†â˜†)**
-   **æœ€çµ‚å‡ºé¤ç›¤**: `[ç”°åœ’æ²™æ‹‰] + [æ°´ç…®è¦] â†’ [é®®è¦æ²™æ‹‰]`
-   **è§£æ³•è·¯å¾‘**:
    1.  **çƒ¹é£ªç«™**:
        -   `é®®è¦ [è¦]` â†’ `(ç…®)` â†’ `æ°´ç…®è¦ [è¦=]`
    2.  **çµ„è£ç«™ (åŠæˆå“)**:
        -   `ç”Ÿèœ [èœ]` + `ç•ªèŒ„ [èŒ„]` â†’ `ç”°åœ’æ²™æ‹‰ [æ²™æ‹‰]`
    3.  **çµ„è£ç«™ (æœ€çµ‚æˆå“)**:
        -   `ç”°åœ’æ²™æ‹‰ [æ²™æ‹‰]` + `æ°´ç…®è¦ [è¦=]` â†’ `é®®è¦æ²™æ‹‰ [è¦æ²™æ‹‰]`

---

# 14. ç³»çµ±æ¶æ§‹èˆ‡æŠ€è¡“å¯¦ç¾è¦åŠƒ

## 14.1 ç³»çµ±æ¶æ§‹åœ–

```
+--------------------------------------------------------------------+
|                        å®¢æˆ¶ç«¯ (å‰ç«¯)                                |
+--------------------------------------------------------------------+
|                                                                    |
|  +-------------+    +-------------+    +-------------+             |
|  | ç™»å…¥æ¨¡çµ„    |    | éŠæˆ²æ ¸å¿ƒ    |    | äº’å‹•ç•Œé¢    |             |
|  +-------------+    +-------------+    +-------------+             |
|  | - JWTèªè­‰   |    | - éŠæˆ²é‚è¼¯  |    | - UIå…ƒä»¶    |             |
|  | - ç”Ÿç‰©è­˜åˆ¥  |    | - ç‹€æ…‹ç®¡ç†  |    | - è§¸æ§è™•ç†  |             |
|  | - æœƒå“¡æ•´åˆ  |    | - å‹•ç•«ç³»çµ±  |    | - èŠå¤©ç³»çµ±  |             |
|  +-------------+    +-------------+    +-------------+             |
|                                                                    |
|  +-------------+    +-------------+    +-------------+             |
|  | ç¶²çµ¡æ¨¡çµ„    |    | è³‡æºç®¡ç†    |    | é›¢ç·šç·©å­˜    |             |
|  +-------------+    +-------------+    +-------------+             |
|  | - WebSocket |    | - åœ–åƒè³‡æº  |    | - IndexedDB |             |
|  | - REST API  |    | - éŸ³æ•ˆè³‡æº  |    | - æœ¬åœ°å­˜å„²  |             |
|  | - é‡é€£æ©Ÿåˆ¶  |    | - æ–‡æœ¬è³‡æº  |    | - æ–·é»çºŒç©  |             |
|  +-------------+    +-------------+    +-------------+             |
|                                                                    |
+--------------------------------------------------------------------+
                               |
                               | HTTPS/WSS
                               V
+--------------------------------------------------------------------+
|                        ä¼ºæœå™¨ (å¾Œç«¯)                                |
+--------------------------------------------------------------------+
|                                                                    |
|  +-------------+    +-------------+    +-------------+             |
|  | APIå±¤       |    | æ¥­å‹™é‚è¼¯å±¤  |    | è³‡æ–™å­˜å–å±¤  |             |
|  +-------------+    +-------------+    +-------------+             |
|  | - RESTç«¯é»  |    | - éŠæˆ²è¦å‰‡  |    | - è³‡æ–™æ¨¡å‹  |             |
|  | - WSè™•ç†å™¨  |    | - æœƒå“¡æœå‹™  |    | - ORMæ˜ å°„   |             |
|  | - ç‰ˆæœ¬æ§åˆ¶  |    | - é—œå¡ç”Ÿæˆ  |    | - æŸ¥è©¢å„ªåŒ–  |             |
|  +-------------+    +-------------+    +-------------+             |
|                                                                    |
|  +-------------+    +-------------+    +-------------+             |
|  | å®‰å…¨å±¤      |    | AIæ•´åˆå±¤    |    | ç›£æ§èˆ‡æ—¥èªŒ  |             |
|  +-------------+    +-------------+    +-------------+             |
|  | - èªè­‰æˆæ¬Š  |    | - Google AI |    | - æ€§èƒ½æŒ‡æ¨™  |             |
|  | - è«‹æ±‚é©—è­‰  |    | - æ¨¡æ¿ç®¡ç†  |    | - éŒ¯èª¤è¿½è¹¤  |             |
|  | - è³‡æ–™åŠ å¯†  |    | - è¼¸å‡ºéæ¿¾  |    | - ä½¿ç”¨åˆ†æ  |             |
|  +-------------+    +-------------+    +-------------+             |
|                                                                    |
+--------------------------------------------------------------------+
                               |
                               |
                               V
+--------------------------------------------------------------------+
|                        è³‡æ–™æŒä¹…å±¤                                   |
+--------------------------------------------------------------------+
|                                                                    |
|  +-------------+    +-------------+    +-------------+             |
|  | PostgreSQL  |    | Redis       |    | æª”æ¡ˆå­˜å„²    |             |
|  +-------------+    +-------------+    +-------------+             |
|  | - æœƒå“¡æ•¸æ“š  |    | - æœƒè©±ç·©å­˜  |    | - åœ–ç‰‡è³‡æº  |             |
|  | - éŠæˆ²ç´€éŒ„  |    | - å¯¦æ™‚æ’å  |    | - éŸ³é »è³‡æº  |             |
|  | - é—œå¡æ•¸æ“š  |    | - é…å°ä½‡åˆ—  |    | - éœæ…‹è³‡æº  |             |
|  +-------------+    +-------------+    +-------------+             |
|                                                                    |
+--------------------------------------------------------------------+
```

## 14.2 æ•¸æ“šæµç¨‹åœ–

```
+---------------+     +---------------+     +---------------+
|               |     |               |     |               |
|  ç©å®¶æ“ä½œ     |---->|  ç‹€æ…‹æ›´æ–°     |---->|  ç•Œé¢æ¸²æŸ“     |
|               |     |               |     |               |
+---------------+     +---------------+     +---------------+
       |                     ^                     |
       |                     |                     |
       v                     |                     v
+---------------+     +---------------+     +---------------+
|               |     |               |     |               |
|  WebSocket    |---->|  ä¼ºæœå™¨è™•ç†   |---->|  å»£æ’­ç‹€æ…‹     |
|  ç™¼é€æ“ä½œ     |     |  åŒæ­¥é‚è¼¯     |     |  çµ¦å…¶ä»–ç©å®¶   |
|               |     |               |     |               |
+---------------+     +---------------+     +---------------+
```

## 14.3 PostgreSQLè³‡æ–™åº«çµæ§‹è¨­è¨ˆ

### 14.3.1 é—œè¯å¼è³‡æ–™æ¨¡å‹

```sql
-- æœƒå“¡åŸºæœ¬è³‡è¨Šè¡¨ (å¯¦éš›ä½¿ç”¨ä¸»ç³»çµ±çš„ `box_users` è¡¨)
/*
CREATE TABLE box_users (
  user_id SERIAL PRIMARY KEY,
  username VARCHAR(50) NOT NULL UNIQUE,
  ...
);
*/

-- éŠæˆ²ç©å®¶è³‡æ–™è¡¨
CREATE TABLE cook_players (
  player_id SERIAL PRIMARY KEY,
  user_id INTEGER NOT NULL REFERENCES box_users(user_id) ON DELETE CASCADE UNIQUE,
  username VARCHAR(50) NOT NULL, -- ç‚ºæ–¹ä¾¿æŸ¥è©¢è€Œå†—é¤˜çš„æ¬„ä½
  level INTEGER DEFAULT 1,
  points INTEGER DEFAULT 0,
  achievements JSONB DEFAULT '[]'::jsonb,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
  last_login TIMESTAMP WITH TIME ZONE
);

-- æœƒå“¡è§’è‰²è¡¨
CREATE TABLE cook_roles (
  role_id SERIAL PRIMARY KEY,
  role_name VARCHAR(30) NOT NULL,
  role_description TEXT,
  permission_level INTEGER NOT NULL
);

-- æœƒå“¡è§’è‰²é—œè¯è¡¨ (é—œè¯åˆ°ä¸»ç³»çµ±ç”¨æˆ¶è¡¨)
CREATE TABLE cook_user_roles (
  user_id INTEGER REFERENCES box_users(user_id) ON DELETE CASCADE,
  role_id INTEGER REFERENCES cook_roles(role_id),
  PRIMARY KEY (user_id, role_id)
);

-- æ–™ç†é…æ–¹è¡¨ (å·²æ£„ç”¨, åŠŸèƒ½å·²æ•´åˆåˆ° cook_recipes_v2)
-- CREATE TABLE cook_recipes (...);

-- éŠæˆ²é£Ÿæè¡¨ (å·²æ£„ç”¨, åŠŸèƒ½å·²æ•´åˆåˆ° cook_items)
-- CREATE TABLE cook_ingredients (...);

-- éŠæˆ²ç‰©å“è³‡æ–™è¡¨ (å–ä»£ cook_ingredientsï¼ŒåŒ…å«æ‰€æœ‰éŠæˆ²å…§å¯äº’å‹•ç‰©å“)
CREATE TABLE cook_items (
  item_id VARCHAR(50) PRIMARY KEY, -- ä¾‹å¦‚ 'beef_patty_raw', 'fries_cooked', 'deluxe_beef_burger'
  item_name VARCHAR(100) NOT NULL,
  ascii_symbol VARCHAR(10) NOT NULL,
  item_type VARCHAR(50) NOT NULL, -- ä¾‹å¦‚ 'raw_ingredient', 'cooked_item', 'assembled_dish', 'tool'
  base_points INTEGER DEFAULT 0, -- æœ€çµ‚æ–™ç†ç”¨æ–¼è¨ˆåˆ†
  properties JSONB DEFAULT '{}'::jsonb, -- å„²å­˜é¡å¤–å±¬æ€§ï¼Œå¦‚çƒ¹é£ªæ™‚é–“ã€æ•ˆæœã€ç‹€æ…‹æ¨™ç¤ºç­‰
  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- éŠæˆ²é£Ÿè­œç‰ˆæœ¬2 (å–ä»£ cook_recipesï¼ŒåŒ…å«æ‰€æœ‰çƒ¹é£ªå’Œçµ„åˆé…æ–¹)
CREATE TABLE cook_recipes_v2 (
  recipe_id VARCHAR(255) PRIMARY KEY, -- UUID æˆ–è‡ªå®šç¾© ID
  recipe_name VARCHAR(100) NOT NULL,
  recipe_type VARCHAR(20) NOT NULL, -- 'cooking' æˆ– 'assembly'
  description TEXT,
  difficulty INTEGER CHECK (difficulty BETWEEN 1 AND 10),
  ingredients JSONB NOT NULL, -- å„²å­˜è¼¸å…¥ç‰©å“çš„ ID å’Œæ•¸é‡ï¼Œä¾‹å¦‚: '[{"item_id": "beef_patty_raw", "quantity": 1}, {"item_id": "bread_slice_raw", "quantity": 1}]'
  result_item_id VARCHAR(50) NOT NULL REFERENCES cook_items(item_id) ON DELETE CASCADE, -- çƒ¹é£ªæˆ–çµ„åˆå¾Œçš„ç”¢å‡ºç‰©å“ ID
  cook_station VARCHAR(50), -- åƒ…é™ recipe_type = 'cooking'ï¼ŒæŒ‡å®šæ‰€éœ€å·¥ä½œç«™ (e.g., 'oven', 'stove', 'fryer')
  cook_time_seconds INTEGER, -- åƒ…é™ recipe_type = 'cooking'ï¼Œæ‰€éœ€çƒ¹é£ªæ™‚é–“
  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);


-- æˆå°±è¡¨
CREATE TABLE cook_achievements (
  achievement_id SERIAL PRIMARY KEY,
  achievement_name VARCHAR(100) NOT NULL,
  description TEXT,
  condition_json JSONB NOT NULL, -- ä½¿ç”¨JSONBå„²å­˜è§£é–æ¢ä»¶
  reward_points INTEGER DEFAULT 0
);

-- æœƒå“¡æˆå°±é—œè¯è¡¨
CREATE TABLE cook_user_achievements (
  user_id INTEGER REFERENCES box_users(user_id) ON DELETE CASCADE,
  achievement_id INTEGER REFERENCES cook_achievements(achievement_id),
  unlock_date TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
  display_status BOOLEAN DEFAULT TRUE,
  PRIMARY KEY (user_id, achievement_id)
);

-- éŠæˆ²æˆ¿é–“è¡¨ (å–ä»£åŸæœ‰çš„ sessions å’Œ session_players)
CREATE TABLE cook_game_rooms (
  room_id VARCHAR(255) PRIMARY KEY,
  room_name VARCHAR(100) NOT NULL,
  difficulty VARCHAR(50) DEFAULT 'normal',
  status VARCHAR(20) DEFAULT 'waiting', -- e.g., 'waiting', 'starting', 'playing', 'finished'
  creator_id INTEGER REFERENCES box_users(user_id) ON DELETE SET NULL,
  creator_name VARCHAR(50),
  game_state JSONB NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
/*
-- game_state JSONB çµæ§‹ç¯„ä¾‹:
{
  "players": [
    {
      "id": 1,
      "username": "å»šå¸«A",
      "level": 5,
      "avatar": "/images/avatar.png",
      "ready": true,
      "inventory": [
        {"id": "item1", "type": "beef_cooked", "state": "cooked"},
        null,
        null,
        null,
        null
      ],
      "activeSlot": 0
    }
  ],
  "score": 50,
  "timeRemaining": 180,
  "orders": [
    {
      "id": "order123",
      "recipe_id": "burger_basic", -- ç¾åœ¨æŒ‡å‘ cook_recipes_v2 çš„ recipe_id
      "totalTime": 90,
      "timeRemaining": 75,
      "createdAt": 1629878400000
    }
  ],
  "status": "playing"
}
*/

-- éŠæˆ²å°å±€è¡¨ (å·²æ£„ç”¨, åŠŸèƒ½æ•´åˆè‡³ cook_game_rooms.game_state)
-- CREATE TABLE cook_game_sessions (...);

-- å°å±€ç©å®¶è¡¨ (å·²æ£„ç”¨, åŠŸèƒ½æ•´åˆè‡³ cook_game_rooms.game_state)
-- CREATE TABLE cook_session_players (...);

-- ä½¿ç”¨è€…è£ç½®è³‡è¨Šè¡¨
CREATE TABLE cook_user_devices (
  device_id SERIAL PRIMARY KEY,
  user_id INTEGER REFERENCES box_users(user_id) ON DELETE CASCADE,
  device_type VARCHAR(50),
  screen_size VARCHAR(30),
  last_login_device BOOLEAN DEFAULT FALSE,
  user_agent TEXT,
  last_active TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

-- AIç”Ÿæˆçš„é—œå¡è¡¨
CREATE TABLE cook_ai_levels (
  level_id SERIAL PRIMARY KEY,
  level_name VARCHAR(100) NOT NULL,
  difficulty INTEGER CHECK (difficulty BETWEEN 1 AND 10),
  theme VARCHAR(50),
  content_json JSONB NOT NULL, -- ä½¿ç”¨JSONBå„²å­˜é—œå¡å…§å®¹ (åŒ…å« AI å»ºè­°çš„ cook_items å’Œ cook_recipes_v2 æ•¸æ“š)
  created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
  created_by INTEGER REFERENCES box_users(user_id) ON DELETE SET NULL,
  is_approved BOOLEAN DEFAULT FALSE
);
``` 
# 15. å‰å¾Œç«¯åˆ†é›¢èˆ‡APIè¨­è¨ˆ

## 15.1 RESTful API ç«¯é»è¨­è¨ˆ

| ç«¯é» | æ–¹æ³• | æè¿° | æ¬Šé™éœ€æ±‚ |
|:----------------------------|:-------|:-------------------------------|:---------------|
| /api/auth/login | POST | æœƒå“¡ç™»å…¥ | å…¬é–‹ |
| /api/auth/refresh | POST | æ›´æ–°JWTä»¤ç‰Œ | å·²ç™»å…¥ç”¨æˆ¶ |
| /api/users/profile | GET | ç²å–æœƒå“¡è³‡æ–™ | å·²ç™»å…¥ç”¨æˆ¶ |
| /api/users/achievements | GET | ç²å–æœƒå“¡æˆå°± | å·²ç™»å…¥ç”¨æˆ¶ |
| /api/games/rooms | GET | ç²å–æˆ¿é–“åˆ—è¡¨ | å·²ç™»å…¥ç”¨æˆ¶ |
| /api/games/rooms | POST | å»ºç«‹æ–°éŠæˆ²æˆ¿é–“ | é«˜ç´šæœƒå“¡ |
| /api/games/rooms/:id/join | POST | åŠ å…¥éŠæˆ²æˆ¿é–“ | å·²ç™»å…¥ç”¨æˆ¶ |
| /api/games/:id/history | GET | ç²å–éŠæˆ²æ­·å² | éŠæˆ²åƒèˆ‡è€… |
| /api/recipes | GET | ç²å–é£Ÿè­œåˆ—è¡¨ (**å¾ `cook_recipes_v2` ç²å–**)| å·²ç™»å…¥ç”¨æˆ¶ |
| /api/items | GET | ç²å–ç‰©å“åˆ—è¡¨ (**å¾ `cook_items` ç²å–**)| å·²ç™»å…¥ç”¨æˆ¶ |
| /api/leaderboard | GET | ç²å–æ’è¡Œæ¦œ | å…¬é–‹ |
| /api/ai/generate-level | POST | ç”ŸæˆAIé—œå¡ (**å¯èƒ½åŒ…å«æ–°çš„ `cook_items` å’Œ `cook_recipes_v2` æ•¸æ“š**)| ç®¡ç†å“¡ |
| /api/admin/stats | GET | ç²å–ç³»çµ±çµ±è¨ˆ | ç®¡ç†å“¡ |

## 15.2 WebSocket äº‹ä»¶è¦ç¯„

| äº‹ä»¶é¡å‹ | æ–¹å‘ | è³‡æ–™çµæ§‹ | æè¿° |
|:-------------------|:-----|:-------------------------------------------------|:---------------------------|
| `authenticate` | C â†’ S | `{ "type": "authenticate", "token": "..." }` | ä½¿ç”¨JWTé€²è¡ŒWebSocketé€£æ¥èªè­‰ |
| `auth_success` | S â†’ C | `{ "type": "auth_success", "userData": {...} }` | èªè­‰æˆåŠŸï¼Œè¿”å›ç”¨æˆ¶è³‡æ–™ |
| `join_room` | C â†’ S | `{ "type": "join_room", "roomId": "...", "userId": "..." }` | ç©å®¶è«‹æ±‚åŠ å…¥æˆ¿é–“ |
| `room_joined` | S â†’ C | `{ "type": "room_joined", "roomId": "...", "gameState": {...} }` | ç©å®¶æˆåŠŸåŠ å…¥æˆ¿é–“ï¼Œè¿”å›æˆ¿é–“IDå’ŒéŠæˆ²ç‹€æ…‹ |
| `leave_room` | C â†’ S | `{ "type": "leave_room", "roomId": "..." }` | ç©å®¶è«‹æ±‚é›¢é–‹æˆ¿é–“ |
| `player_ready` | C â†’ S | `{ "type": "player_ready" }` | ç©å®¶è¨­å®šç‚ºæº–å‚™ç‹€æ…‹ |
| `player_unready` | C â†’ S | `{ "type": "player_unready" }` | ç©å®¶å–æ¶ˆæº–å‚™ç‹€æ…‹ |
| `start_game` | C â†’ S | `{ "type": "start_game" }` | æˆ¿ä¸»è«‹æ±‚é–‹å§‹éŠæˆ² |
| `game_started` | S â†’ C | `{ "type": "game_started", "gameState": {...} }` | éŠæˆ²é–‹å§‹ï¼Œç™¼é€åˆå§‹éŠæˆ²ç‹€æ…‹ |
| `game_state` | S â†’ C | `{ "type": "game_state", "gameState": {...} }` | ç™¼é€å®Œæ•´éŠæˆ²ç‹€æ…‹ï¼ˆé‡é€£æ™‚ä½¿ç”¨ï¼‰ |
| `game_state_update` | S â†’ C | `{ "type": "game_state_update", "gameState": {...} }` | ç™¼é€éŠæˆ²ç‹€æ…‹æ›´æ–° |
| `chat_message` | C â†’ S | `{ "type": "chat_message", "message": "..." }` | ç™¼é€èŠå¤©è¨Šæ¯ |
| `chat_message` | S â†’ C | `{ "type": "chat_message", "sender": "...", "text": "...", "avatar": "..." }` | å»£æ’­èŠå¤©è¨Šæ¯ |
| `player_action` | C â†’ S | `{ "type": "player_action", "action": "...", "payload": {}, "roomId": "..." }` | åŸ·è¡ŒéŠæˆ²ä¸­çš„æ ¸å¿ƒæ“ä½œ |
| ` ` - `pick_ingredient` | | `payload: {"ingredientType": "...", "slotIndex": ...}` | å¾é£Ÿæç«™æ‹¿å–é£Ÿæ |
| ` ` - `cook_item` | | `payload: {"slotIndex": ..., "stationType": "..."}` | åœ¨çƒ¹é£ªç«™çƒ¹é£ªç‰©å“ |
| ` ` - `assemble_items`| | `payload: {"ingredientItemTypes": [...], "sourceSlots": [...]}` | åœ¨çµ„è£ç«™çµ„åˆæ–™ç† |
| ` ` - `serve_dish` | | `payload: {"slotIndex": ...}` | åœ¨ä¸Šèœç«™ä¸Šèœ |
| ` ` - `transfer_item`| | `payload: {"fromSlot": ..., "toPlayerId": ..., "toSlot": ...}` | å°‡ç‰©å“å‚³çµ¦å…¶ä»–ç©å®¶ |
| ` ` - `select_slot` | | `payload: {"slotIndex": ...}` | é¸æ“‡åº«å­˜ä¸­çš„ä½œç”¨ä¸­ç‰©å“ |
| `room_info` | S â†’ C | `{ "type": "room_info", "room": { ... } }` | ä¼ºæœå™¨ç™¼é€æˆ¿é–“è©³ç´°è³‡è¨Š |
| `player_list` | S â†’ C | `{ "type": "player_list", "players": [ ... ] }` | å»£æ’­æ›´æ–°å¾Œçš„ç©å®¶åˆ—è¡¨ |
| `player_joined` | S â†’ C | `{ "type": "player_joined", "playerName": "..." }` | å»£æ’­æœ‰æ–°ç©å®¶åŠ å…¥ |
| `player_left` | S â†’ C | `{ "type": "player_left", "playerName": "...", "newCreator": "..." }` | å»£æ’­æœ‰ç©å®¶é›¢é–‹ï¼Œå¯èƒ½å«æ–°æˆ¿ä¸» |
| `game_tick` | S â†’ C | `{ "type": "game_tick", "timeRemaining": ... }` | éŠæˆ²è¨ˆæ™‚å™¨æ›´æ–° |
| `new_order` | S â†’ C | `{ "type": "new_order", "order": { ... } }` | å»£æ’­æ–°è¨‚å–®ç”Ÿæˆ |
| `order_completed` | S â†’ C | `{ "type": "order_completed", "orderId": ..., "points": ..., "newScore": ..., "playerName": "..." }` | å»£æ’­è¨‚å–®å®Œæˆ |
| `ingredient_picked` | S â†’ C | `{ "type": "ingredient_picked", "ingredientType": "..." }` | é€šçŸ¥é£Ÿæå·²è¢«æ‹¿å– |
| `item_cooked` | S â†’ C | `{ "type": "item_cooked", "resultType": "..." }` | é€šçŸ¥ç‰©å“çƒ¹é£ªå®Œæˆ |
| `items_assembled` | S â†’ C | `{ "type": "items_assembled", "resultType": "..." }` | é€šçŸ¥ç‰©å“çµ„åˆå®Œæˆ |
| `item_transferred` | S â†’ C | `{ "type": "item_transferred", "fromPlayerId": "...", "fromPlayerName": "...", "toPlayerName": "..." }` | é€šçŸ¥ç‰©å“å·²å‚³éçµ¦å…¶ä»–ç©å®¶ |
| `error` | S â†’ C | `{ "type": "error", "message": "..." }` | ç™¼é€éŒ¯èª¤è¨Šæ¯ |
| `game_over` | S â†’ C | `{ "type": "game_over", "teamScore": ..., "completedOrders": ..., "personalScore": ..., "rewards": {...} }` | éŠæˆ²çµæŸçµç®— |
| `level_up` | S â†’ C | `{ "type": "level_up", "newLevel": ..., "unlockedItems": [...] }` | ç©å®¶å‡ç´šé€šçŸ¥ |
| `room_list_updated` | S â†’ C | `{ "type": "room_list_updated", "timestamp": ... }` | é€šçŸ¥æˆ¿é–“åˆ—è¡¨å·²æ›´æ–° |
| `user_profile_updated` | S â†’ C | `{ "type": "user_profile_updated", ...updates, "timestamp": ... }` | é€šçŸ¥ç”¨æˆ¶è³‡æ–™å·²æ›´æ–° |

# 16. éƒ¨ç½²èˆ‡ç™¼å¸ƒç­–ç•¥

## 16.1 éƒ¨ç½²æ¶æ§‹
ç³»çµ±éƒ¨ç½²åœ¨åƒRenderé€™æ¨£çš„é›²ç«¯å¹³å°ä¸Šï¼Œä½œç‚ºä¸€å€‹å–®ä¸€çš„Node.jsæœå‹™å¯¦ä¾‹ã€‚
-   **å…¥å£é»**: æ‰€æœ‰ä¾†è‡ªä½¿ç”¨è€…çš„æµé‡ï¼Œç„¡è«–æ˜¯HTTPé‚„æ˜¯WebSocketï¼Œéƒ½é¦–å…ˆç”±è² è¼‰å‡è¡¡å™¨ï¼ˆå¦‚Cloudflareï¼‰æ¥æ”¶ï¼Œç„¶å¾Œè½‰ç™¼åˆ°å–®ä¸€çš„ä¼ºæœå™¨æ‡‰ç”¨ã€‚
-   **æ•´åˆæœå‹™**: ä¼ºæœå™¨å…§éƒ¨ï¼š
    -   **Express.js** è™•ç†æ‰€æœ‰HTTPè«‹æ±‚ï¼Œæ ¹æ“šURLè·¯å¾‘å°‡è«‹æ±‚åˆ†ç™¼çµ¦éœæ…‹æ–‡ä»¶æœå‹™ã€ä¸»ç³»çµ±APIæˆ–éŠæˆ²API (`/cook-api`)ã€‚
    -   **WebSocket.Server** å¯¦ä¾‹ç›£è½æ‰€æœ‰WebSocketå‡ç´šè«‹æ±‚ã€‚å®ƒæª¢æŸ¥è«‹æ±‚çš„URLè·¯å¾‘ (`/ws` æˆ– `/cook-ws`)ï¼Œä¸¦å°‡é€£æ¥äº¤çµ¦ç›¸æ‡‰çš„é‚è¼¯æ¨¡çµ„è™•ç†ã€‚
-   **å¾Œç«¯ä¾è³´**: æ‡‰ç”¨ç¨‹å¼é€£æ¥åˆ°PostgreSQLè³‡æ–™åº«é€²è¡Œæ•¸æ“šæŒä¹…åŒ–ï¼Œä¸¦å¯èƒ½ä½¿ç”¨Redisé€²è¡Œæœƒè©±ç·©å­˜å’Œæ’è¡Œæ¦œç­‰å³æ™‚åŠŸèƒ½ã€‚

```
           [ä½¿ç”¨è€…]
              |
          [Cloudflare]  <-- CDNèˆ‡DDoSé˜²è­·
              |
              |
        [æ•´åˆå¼æœå‹™å™¨]  <-- å–®ä¸€æ‡‰ç”¨éƒ¨ç½²
        /     |     \
       /      |      \
 [éœæ…‹è³‡æº] [ä¸»ç³»çµ±API] [éŠæˆ²API]
       \      |      /
        \     |     /
      [WebSocketæœå‹™]
       /           \
      /             \
[/wsè·¯å¾‘]       [/cook-wsè·¯å¾‘]
      \             /
       \           /
        [Rediså¢é›†]  <-- ç‹€æ…‹ç®¡ç†
              |
        [PostgreSQL]  <-- é—œè¯å¼è³‡æ–™åº«
```

## 16.2 CI/CD æµç¨‹
1.  **ä»£ç¢¼æäº¤**: é–‹ç™¼äººå“¡æäº¤è‡³ç‰ˆæœ¬æ§åˆ¶
2.  **è‡ªå‹•æ¸¬è©¦**: åŸ·è¡Œå–®å…ƒèˆ‡æ•´åˆæ¸¬è©¦
3.  **æ§‹å»ºéšæ®µ**: æ‰“åŒ…å‰ç«¯è³‡æº, æ§‹å»ºå¾Œç«¯æ˜ åƒ
4.  **é ç™¼å¸ƒ**: éƒ¨ç½²è‡³æ¸¬è©¦ç’°å¢ƒé€²è¡Œé©—è­‰
5.  **è‡ªå‹•éƒ¨ç½²**: é€šéæª¢æŸ¥å¾Œéƒ¨ç½²è‡³ç”Ÿç”¢ç’°å¢ƒ
6.  **éƒ¨ç½²ç›£æ§**: ç›£æ§æ–°ç‰ˆæœ¬æ€§èƒ½èˆ‡ç©©å®šæ€§

## 16.3 ç‰ˆæœ¬ç™¼å¸ƒç­–ç•¥
-   **è—ç¶ éƒ¨ç½²**: ç¶­æŒå…©å¥—ç’°å¢ƒç„¡ç¸«åˆ‡æ›
-   **é‡‘çµ²é›€ç™¼å¸ƒ**: å‘å°éƒ¨åˆ†ç”¨æˆ¶æ¨å‡ºæ–°åŠŸèƒ½
-   **åŠŸèƒ½é–‹é—œ**: å¯é ç¨‹æ§åˆ¶åŠŸèƒ½å•Ÿç”¨/é—œé–‰
-   **å›æ»¾æ©Ÿåˆ¶**: å•é¡Œç™¼ç”Ÿæ™‚å¿«é€Ÿå›å¾©èˆŠç‰ˆæœ¬

# 17. é …ç›®æ™‚é–“è¡¨èˆ‡é‡Œç¨‹ç¢‘

## 17.1 é–‹ç™¼éšæ®µèˆ‡æ™‚é–“è¡¨

| éšæ®µ | æ™‚é–“ç¯„åœ | ä¸»è¦ç›®æ¨™ | äº¤ä»˜ç‰© |
|:-------------------|:---------------|:-------------------------------|:-----------------------------|
| éœ€æ±‚åˆ†æèˆ‡è¨­è¨ˆ | ç¬¬1-2é€± | å®Œæˆéœ€æ±‚æ”¶é›†èˆ‡ç³»çµ±è¨­è¨ˆ | éœ€æ±‚æ–‡æª”, ç³»çµ±æ¶æ§‹åœ– |
| æ ¸å¿ƒåŠŸèƒ½é–‹ç™¼ | ç¬¬3-6é€± | å¯¦ç¾åŸºæœ¬éŠæˆ²æ©Ÿåˆ¶èˆ‡ç•Œé¢ | å¯é‹è¡ŒåŸå‹, APIåŸºç¤å¯¦ç¾ |
| æœƒå“¡ç³»çµ±æ•´åˆ | ç¬¬7-8é€± | èˆ‡ä¸»ç³»çµ±æœƒå“¡é«”ç³»æ•´åˆ | å®Œæ•´ç™»å…¥æµç¨‹, æœƒå“¡æ•¸æ“šåŒæ­¥ |
| å…§å®¹è£½ä½œ (**è³‡æ–™åº«åŒ–**) | ç¬¬9-12é€± | å»ºç«‹ `cook_items` èˆ‡ `cook_recipes_v2` è³‡æ–™ï¼Œä¸¦æ›´æ–°éŠæˆ²é‚è¼¯ä»¥å¾è³‡æ–™åº«è®€å– | å®Œæ•´çš„éŠæˆ²ç‰©å“èˆ‡é£Ÿè­œæ•¸æ“š |
| Google AI æ•´åˆ | ç¬¬13-14é€± | å¯¦ç¾AIé—œå¡ç”Ÿæˆç³»çµ± | AIé—œå¡ç”ŸæˆåŠŸèƒ½, æ¨¡æ¿åº« |
| æ¸¬è©¦èˆ‡å„ªåŒ– | ç¬¬15-16é€± | å…¨é¢æ¸¬è©¦èˆ‡æ•ˆèƒ½å„ªåŒ– | æ¸¬è©¦å ±å‘Š, å„ªåŒ–æ¸…å–® |
| ç™¼å¸ƒæº–å‚™ | ç¬¬17-18é€± | æœ€çµ‚èª¿æ•´èˆ‡éƒ¨ç½²æº–å‚™ | ç™¼å¸ƒç‰ˆæœ¬, éƒ¨ç½²æ–‡æª” |

# 18. æœªä¾†æ“´å±•èˆ‡ç¶­è­·è¨ˆåŠƒ

## 18.1 è¨ˆåŠƒåŠŸèƒ½æ“´å±•
-   **è·¨å¹³å°åŸç”Ÿæ‡‰ç”¨**: é–‹ç™¼iOS/AndroidåŸç”Ÿæ‡‰ç”¨
-   **é«˜ç´šç¤¾äº¤åŠŸèƒ½**: å¥½å‹ç³»çµ±, æˆ°éšŠå°æˆ°, éŒ¦æ¨™è³½
-   **è‡ªå®šç¾©å»šæˆ¿**: å¯è‡ªç”±å¸ƒç½®çš„å€‹äººå»šæˆ¿ç©ºé–“
-   **å‰µæ„å·¥ä½œåŠ**: æœƒå“¡å¯å‰µå»ºä¸¦åˆ†äº«è‡ªå·±çš„æ–™ç†é…æ–¹ (åˆ©ç”¨ AI å’Œè³‡æ–™åº«æ©Ÿåˆ¶)
-   **é«˜ç´šAIæ•´åˆ**: æ›´æ·±å…¥çš„AIäº’å‹•èˆ‡ç¨‹åºåŒ–å…§å®¹ç”Ÿæˆ

## 18.2 é•·æœŸç¶­è­·ç­–ç•¥
-   **æ¯é€±å°æ›´æ–°**: ä¿®å¾©å•é¡Œ, èª¿æ•´å¹³è¡¡æ€§
-   **æœˆåº¦å…§å®¹æ›´æ–°**: æ–°é£Ÿæ, æ–°é…æ–¹, æ–°æŒ‘æˆ° (é€éè³‡æ–™åº«æ›´æ–°)
-   **å­£åº¦ä¸»é¡Œæ›´æ–°**: å¤§å‹å…§å®¹åŒ…, æ–°åŠŸèƒ½, æ–°ä¸»é¡Œ
-   **å¹´åº¦å¤§å‹æ›´æ–°**: ç³»çµ±æ€§é‡å¤§æ›´æ–°, æ–°ç©æ³•

## 18.3 ç¤¾ç¾¤èˆ‡ç”¨æˆ¶åé¥‹é«”ç³»
-   **å®˜æ–¹è«–å£‡**: å»ºç«‹å°ˆå±¬ç¤¾å€è¨è«–å€
-   **å…§éŠæˆ²åé¥‹**: éŠæˆ²å…§ç›´æ¥æäº¤æ„è¦‹åŠŸèƒ½
-   **Betaæ¸¬è©¦è¨ˆåŠƒ**: é‚€è«‹æ´»èºæœƒå“¡åƒèˆ‡æ–°åŠŸèƒ½æ¸¬è©¦
-   **æ•¸æ“šåˆ†æ**: å»ºç«‹ç”¨æˆ¶è¡Œç‚ºåˆ†æç³»çµ±, æŒ‡å°é–‹ç™¼æ±ºç­–

# 19. è¿‘æœŸä¿®å¾©èˆ‡èª¿æ•´ç´€éŒ„

### 19.1 ä½¿ç”¨è€…ä»‹é¢ (UI) ä¿®æ­£

-   **çµ±ä¸€çš„ä½¿ç”¨è€…ç‹€æ…‹æ¬„**: åœ¨æ‰€æœ‰éŠæˆ²ç›¸é—œé é¢ (`cook-lobby.html`, `cook-game-room.html`, `cook-game.html`, `cook-result.html`, `cook-help.html`) çš„å·¦ä¸Šè§’æ–°å¢ä¸¦çµ±ä¸€äº†ä½¿ç”¨è€…ç‹€æ…‹é¡¯ç¤ºã€‚æ­¤çµ„ä»¶é¡¯ç¤ºç©å®¶é ­åƒå’Œåç¨±ï¼Œä¸¦æ¡ç”¨äº†é©åˆæ·±è‰²ä¸»é¡Œçš„æ¨£å¼ã€‚
-   **ä¿®æ­£å¤§å»³é é¢æ¨£å¼**: è§£æ±ºäº† `cook-lobby.html` ä¸­ä½¿ç”¨è€…ç‹€æ…‹é¡¯ç¤ºç•°å¸¸ï¼ˆé¡¯ç¤ºç‚ºå¤§åœ–ï¼‰çš„å•é¡Œï¼Œç¢ºä¿å…¶æ¨£å¼èˆ‡å…¶ä»–é é¢ä¸€è‡´ã€‚

### 19.2 æ ¸å¿ƒåŠŸèƒ½èˆ‡æµç¨‹ä¿®å¾©

-   **éŠæˆ²æˆ¿é–“è¼‰å…¥å•é¡Œ**: è§£æ±ºäº† `cook-game-room.html` é é¢å¡åœ¨ã€Œè¼‰å…¥ä¸­ã€çš„å•é¡Œã€‚ä¿®å¾©æ–¹å¼ç‚ºåœ¨å®¢æˆ¶ç«¯ç™¼é€ `join_room` WebSocket äº‹ä»¶æ™‚ï¼Œæ˜ç¢ºåŒ…å« `userId`ï¼Œç¢ºä¿ä¼ºæœå™¨èƒ½æ­£ç¢ºè­˜åˆ¥ç©å®¶èº«ä»½ä¸¦å›å‚³æˆ¿é–“è³‡æ–™ã€‚
-   **æˆ¿é–“å»ºç«‹èˆ‡åŠ å…¥æµç¨‹**: ä¿®æ­£äº† `cook-lobby.html` ä¸­ã€Œå‰µå»ºæˆ¿é–“ã€æŒ‰éˆ•ç„¡éŸ¿æ‡‰çš„å•é¡Œï¼Œä¸¦å®Œå–„äº†åŠ å…¥æˆ¿é–“çš„æµç¨‹ã€‚

### 19.3 å¾Œç«¯èˆ‡ç¶²è·¯é€šè¨Š

-   **WebSocket é€£ç·šå•é¡Œ**: ä¿®æ­£äº†å…ˆå‰ WebSocket é€£ç·šç«¯é»éŒ¯èª¤çš„å•é¡Œï¼Œç¢ºä¿æ‰€æœ‰éŠæˆ²é é¢éƒ½é€£æ¥åˆ°æ­£ç¢ºçš„ `/cook-ws` è·¯å¾‘ï¼Œä¸¦åœ¨ `cook-game-room.html` ä¸­å®Œå–„äº†é‡é€£èˆ‡éŒ¯èª¤è™•ç†æ©Ÿåˆ¶ã€‚
-   **èº«ä»½é©—è­‰æµç¨‹**: æ”¹å–„äº†æ©«è·¨ä¸»ç«™èˆ‡éŠæˆ²çš„ `token` è™•ç†é‚è¼¯ï¼Œæ¸›å°‘å›  `token` å¤±æ•ˆæˆ–éºå¤±å°è‡´çš„éé æœŸé é¢è·³è½‰ã€‚

### 19.4 éŠæˆ²æˆ¿é–“ç©©å®šæ€§èˆ‡å¾Œç«¯é‚è¼¯é‡æ§‹

-   **å¾Œç«¯ WebSocket é‚è¼¯é‡æ§‹**:
    -   å…¨é¢é‡å¯«äº† `handleAuthenticatedMessage` å‡½æ•¸ï¼Œç‚º `join_room`, `leave_room`, `player_ready`, `chat_message`, `start_game` ç­‰æ ¸å¿ƒæˆ¿é–“æ“ä½œæä¾›äº†ç©©å®šä¸”å®Œæ•´çš„æ¥­å‹™é‚è¼¯ã€‚
    -   æ–°å¢ `broadcastToRoom` è¼”åŠ©å‡½æ•¸ï¼Œæ¨™æº–åŒ–äº†å‘æˆ¿é–“å…§æ‰€æœ‰ç©å®¶å»£æ’­è¨Šæ¯çš„æµç¨‹ã€‚
    -   æ–°å¢ `handlePlayerLeave` è¼”åŠ©å‡½æ•¸ï¼Œå®Œæ•´è™•ç†ç©å®¶é›¢é–‹æˆ–æ–·ç·šæ™‚çš„å ´æ™¯ï¼ŒåŒ…æ‹¬æˆ¿ä¸»è½‰ç§»å’Œæˆ¿é–“ç‹€æ…‹æ›´æ–°ã€‚
    -   ç¢ºä¿äº†ç©å®¶çš„ WebSocket é€£æ¥å¯¦ä¾‹ (`ws`) èˆ‡å…¶åœ¨æˆ¿é–“å…§çš„ `player` ç‰©ä»¶æ­£ç¢ºç¶å®šï¼Œè§£æ±ºäº†ä¹‹å‰ç„¡æ³•å°ç‰¹å®šç©å®¶ç™¼é€è¨Šæ¯çš„å•é¡Œã€‚

-   **ä¿®æ­£æˆ¿é–“å‰µå»ºé‚è¼¯**:
    -   ä¿®å¾©äº†å‰µå»ºæˆ¿é–“ API ä¸­æˆ¿ä¸» ID ä¸æ­£ç¢ºçš„å•é¡Œ (å°‡ `req.user.id` ä¿®æ­£ç‚º `req.user.userId`)ã€‚
    -   æ“´å……äº†æˆ¿é–“ç‰©ä»¶çš„çµæ§‹ï¼Œæ˜ç¢ºåŠ å…¥ `creatorId` å’Œ `creator` æ¬„ä½ï¼Œä½¿æˆ¿ä¸»è³‡è¨Šæ›´æ¸…æ™°ã€‚

-   **å®¢æˆ¶ç«¯-ä¼ºæœå™¨é€šè¨Šä¿®æ­£**:
    -   è§£æ±ºäº†éŠæˆ²æˆ¿é–“é é¢å›  WebSocket é€£ç·šå¾Œç«‹å³ä¸­æ–·è€Œç„¡é™å¾ªç’°è¼‰å…¥çš„å•é¡Œã€‚
    -   é€éå°å¾Œç«¯é‚è¼¯çš„é‡æ§‹å’Œä¿®æ­£å‰ç«¯ `join_room` äº‹ä»¶çš„ç™¼é€æ ¼å¼ï¼Œç¢ºä¿äº†å®¢æˆ¶ç«¯åŠ å…¥æˆ¿é–“çš„æµç¨‹ç©©å®šå¯é ã€‚

### 19.5 è³‡æ–™åº«æ•´åˆèˆ‡ç”¨æˆ¶è³‡æ–™è™•ç†

-   **ç”¨æˆ¶è³‡æ–™æ•´åˆ**: ä¿®æ­£äº† `/users/profile` API çš„æŸ¥è©¢é‚è¼¯ï¼Œä½¿å…¶æ­£ç¢ºå¾ `cook_players` è¡¨ä¸­ç²å–éŠæˆ²ç›¸é—œè³‡æ–™ï¼ŒåŒ…æ‹¬ `level`, `points`, `achievements` å’Œ `last_login` ç­‰æ¬„ä½ã€‚
-   **è³‡æ–™æ¬„ä½æ˜ å°„**: èª¿æ•´äº†è³‡æ–™æ¬„ä½çš„æ˜ å°„æ–¹å¼ï¼Œç¢ºä¿å‰ç«¯æ¥æ”¶åˆ°çš„è³‡æ–™æ ¼å¼ä¸€è‡´ï¼Œä¸¦ç‚ºéŠæˆ²ç‰¹æœ‰æ¬„ä½æ·»åŠ äº† `player_` å‰ç¶´ä»¥é¿å…èˆ‡ä¸»ç³»çµ±æ¬„ä½è¡çªã€‚
-   **é è¨­å€¼è™•ç†**: ç‚ºé¦–æ¬¡éŠç©çš„ç”¨æˆ¶æä¾›äº†åˆç†çš„é è¨­å€¼ï¼Œå¦‚ `player_level: 1` å’Œ `player_points: 0`ï¼Œç¢ºä¿æ–°ç©å®¶é«”é©—çš„é †æš¢ã€‚

### 19.6 WebSocket é€£æ¥ç®¡ç†

-   **æ´»èºé€£æ¥è¿½è¹¤**: å¯¦ç¾äº† `activeConnections` Map ä¾†è¿½è¹¤ç”¨æˆ¶ ID èˆ‡å…¶ WebSocket é€£æ¥çš„å°æ‡‰é—œä¿‚ï¼Œä¾¿æ–¼ç²¾ç¢ºå®šå‘ç™¼é€æ¶ˆæ¯ã€‚
-   **å¿ƒè·³æ©Ÿåˆ¶å„ªåŒ–**: å®Œå–„äº† WebSocket çš„å¿ƒè·³æª¢æ¸¬æ©Ÿåˆ¶ï¼ŒåŠæ™‚æ¸…ç†æ–·é–‹çš„é€£æ¥ï¼Œæ¸›å°‘æœå‹™å™¨è³‡æºä½”ç”¨ã€‚
-   **éŒ¯èª¤è™•ç†å¢å¼·**: ç‚º WebSocket é€£æ¥æ·»åŠ äº†æ›´å®Œå–„çš„éŒ¯èª¤è™•ç†å’Œæ—¥èªŒè¨˜éŒ„ï¼Œä¾¿æ–¼å•é¡Œæ’æŸ¥ã€‚

### 19.7 ä¸‹ä¸€æ­¥å„ªåŒ–è¨ˆåŠƒ (æ­¤è™•èˆ‡å¾ŒçºŒç¬¬20ç¯€å…§å®¹å¯èƒ½é‡ç–Šï¼Œä»¥ç¬¬20ç¯€ç‚ºæœ€çµ‚ã€è©³ç´°çš„é‡æ§‹èªªæ˜)

-   **éŠæˆ²æ ¸å¿ƒé‚è¼¯å¯¦ç¾**: å®ŒæˆéŠæˆ²é–‹å§‹å¾Œçš„æ ¸å¿ƒç©æ³•é‚è¼¯ï¼ŒåŒ…æ‹¬é£Ÿæè™•ç†ã€çƒ¹é£ªæµç¨‹å’Œç©å®¶å”ä½œæ©Ÿåˆ¶ã€‚
-   **é—œå¡ç”Ÿæˆç³»çµ±**: å¯¦ç¾åŸºæ–¼ Google AI API çš„å‹•æ…‹é—œå¡ç”Ÿæˆç³»çµ±ï¼Œæä¾›ç„¡é™éŠæˆ²å…§å®¹ã€‚
-   **æ€§èƒ½ç›£æ§**: æ·»åŠ ç³»çµ±æ€§èƒ½ç›£æ§ï¼ŒåŠæ™‚ç™¼ç¾ä¸¦è§£æ±ºå¯èƒ½çš„ç“¶é ¸å•é¡Œã€‚
-   **ç”¨æˆ¶é«”é©—å„ªåŒ–**: åŸºæ–¼åˆæœŸç”¨æˆ¶åé¥‹ï¼Œé€²ä¸€æ­¥å„ªåŒ–éŠæˆ²ç•Œé¢å’Œæ“ä½œæµç¨‹ã€‚

### 19.8 å®Œæ•´éŠæˆ²å¾ªç’°èˆ‡æ ¸å¿ƒæ©Ÿåˆ¶å¯¦ç¾

-   **å¾Œç«¯æ ¸å¿ƒé‚è¼¯ (Backend Core Logic)**:
    -   **ç©å®¶å‹•ä½œå¯¦ç¾**: åœ¨ `cook-kitchen-rush.js` ä¸­å¯¦ç¾äº†å®Œæ•´çš„ç©å®¶å‹•ä½œè™•ç†ï¼ŒåŒ…æ‹¬ `pick_ingredient`, `cook_item`, `assemble_items`, `serve_dish`, å’Œ `transfer_item`ã€‚æ‰€æœ‰å‹•ä½œéƒ½èˆ‡è³‡æ–™åº«ä¸­çš„ `game_state` é€²è¡Œäº‹å‹™æ€§åŒæ­¥ï¼Œç¢ºä¿è³‡æ–™ä¸€è‡´æ€§ã€‚
    -   **è¨‚å–®èˆ‡è¨ˆåˆ†ç³»çµ±**: é–‹ç™¼äº† `generateOrder` å‡½æ•¸ï¼Œå¯æ ¹æ“šé è¨­æ¬Šé‡éš¨æ©Ÿç”Ÿæˆä¸åŒé›£åº¦çš„è¨‚å–®ã€‚åŒæ™‚ï¼Œ`calculateOrderPoints` å‡½æ•¸æ ¹æ“šè¨‚å–®å®Œæˆé€Ÿåº¦å’Œæ–™ç†è¤‡é›œåº¦è¨ˆç®—åˆ†æ•¸ã€‚
    -   **é£Ÿè­œé‚è¼¯**: å¯¦ç¾äº† `canAssembleRecipe` å‡½æ•¸ï¼Œç”¨æ–¼æª¢æŸ¥ç©å®¶åº«å­˜ä¸¦åˆ¤æ–·å¯çµ„è£çš„æ–™ç†ã€‚ç›®å‰é£Ÿè­œï¼ˆå¦‚åŸºæœ¬æ¼¢å ¡ã€èµ·å¸æ¼¢å ¡ã€è±ªè¯æ¼¢å ¡ï¼‰ç‚ºç¡¬ç·¨ç¢¼å¯¦ç¾ï¼Œç‚ºæœªä¾†è³‡æ–™åº«é©…å‹•çš„é£Ÿè­œç³»çµ±å¥ å®šåŸºç¤ã€‚
    -   **éŠæˆ²ç‹€æ…‹ç®¡ç†**: éŠæˆ²é–‹å§‹å¾Œï¼Œæ‰€æœ‰éŠæˆ²é€²ç¨‹ï¼ˆå¦‚è¨ˆæ™‚ã€åˆ†æ•¸ã€è¨‚å–®ã€ç©å®¶åº«å­˜ï¼‰éƒ½é›†ä¸­åœ¨ `cook_game_rooms` è¡¨çš„ `game_state` æ¬„ä½ä¸­é€²è¡Œç®¡ç†ã€‚

-   **å‰ç«¯äº’å‹•æµç¨‹ (Frontend Interaction Flow)**:
    -   **å·¥ä½œç«™äº’å‹•**: å‰ç«¯ UI (`cook-game.html`) ç¾å·²æ”¯æŒèˆ‡å„å€‹å·¥ä½œç«™ï¼ˆé£Ÿæç«™ã€çƒ¹é£ªç«™ã€çµ„è£ç«™ã€ä¸Šèœç«™ï¼‰çš„äº’å‹•ï¼Œç©å®¶æ“ä½œæœƒè§¸ç™¼å°æ‡‰çš„ WebSocket `player_action` äº‹ä»¶ã€‚
    -   **å³æ™‚ç‹€æ…‹æ›´æ–°**: å‰ç«¯èƒ½æ¥æ”¶ä¸¦è™•ç†ä¾†è‡ªå¾Œç«¯çš„å„ç¨®ç‹€æ…‹æ›´æ–°ï¼Œå¦‚ `order_completed`, `new_order`, `player_list` ç­‰ï¼Œä¸¦å³æ™‚å‘ˆç¾åœ¨ä»‹é¢ä¸Šã€‚
    -   **å‹•æ…‹æç¤ºç³»çµ±**: å¢å¼·äº†ä»»å‹™æç¤ºåŠŸèƒ½ï¼Œèƒ½æ ¹æ“šç©å®¶ç•¶å‰åº«å­˜å’Œè¨‚å–®éœ€æ±‚ï¼Œæä¾›æ›´ç²¾æº–çš„æ“ä½œæŒ‡å¼•ã€‚

-   **é€£ç·šç©©å®šæ€§å¢å¼·**:
    -   **æ–·ç·šé‡é€£æ©Ÿåˆ¶**: å¯¦ä½œäº†æ–·ç·šç·©è¡æ©Ÿåˆ¶ã€‚ç©å®¶çŸ­æ™‚é–“å…§æ–·ç·šå¾Œï¼ˆ10ç§’å…§ï¼‰å¯é‡æ–°é€£ç·šå›åˆ°éŠæˆ²ä¸­ï¼Œä¸æœƒç«‹åˆ»è¢«è¸¢å‡ºæˆ¿é–“ï¼Œæå‡äº†åœ¨ä¸ç©©å®šç¶²è·¯ç’°å¢ƒä¸‹çš„éŠæˆ²é«”é©—ã€‚

### 19.9 é‡å¤§UI/UXé‡æ§‹èˆ‡æ“ä½œæµç¨‹å„ªåŒ–

-   **æ‰‹æ©Ÿå„ªå…ˆä½ˆå±€ (Mobile-First Layout)**:
    -   `cook-game.html` çš„æ•´é«”ä½ˆå±€å·²å®Œå…¨é‡æ§‹ï¼Œä»¥ä¸€å€‹ç½®ä¸­çš„ã€å‚ç›´æ»¾å‹•çš„ã€Œæ‰‹æ©Ÿæ¨¡æ“¬å™¨ã€è¦–çª—å‘ˆç¾ã€‚é€™ç¢ºä¿äº†æ‰€æœ‰ç©å®¶ï¼ˆç„¡è«–ä½¿ç”¨æ¡Œé¢æˆ–è¡Œå‹•è£ç½®ï¼‰éƒ½èƒ½ç²å¾—ä¸€è‡´ä¸”æœ€ä½³åŒ–çš„éŠæˆ²é«”é©—ã€‚
    -   éŠæˆ²å…ƒç´ è¢«é‡æ–°çµ„ç¹”ï¼šé ‚éƒ¨æ˜¯ç‹€æ…‹æ¬„ï¼ˆè¨ˆæ™‚å™¨ã€åˆ†æ•¸ï¼‰ï¼Œä¸­é–“æ˜¯å¯æ»¾å‹•çš„è¨‚å–®åˆ—è¡¨å’Œä¸»è¦çš„å»šæˆ¿å·¥ä½œå€ï¼Œåº•éƒ¨æ˜¯å›ºå®šçš„ç©å®¶ç‰©å“æ¬„ã€‚

-   **UIå…ƒç´ é‡æ–°è¨­è¨ˆ (UI Element Redesign)**:
    -   **è¨‚å–®åˆ—è¡¨ (Orders)**: å»¢é™¤äº†åŸå…ˆä½”ç”¨å¤§é‡ç©ºé–“çš„å½©è‰²é•·æ¢åœ–è¨­è¨ˆï¼Œæ”¹ç‚ºç·Šæ¹Šã€æ¸…æ™°çš„å¡ç‰‡å¼åˆ—è¡¨ã€‚æ¯å¼µå¡ç‰‡ç›´æ¥é¡¯ç¤ºæ–™ç†åç¨±å’Œæ‰€éœ€çš„é£Ÿæåœ–ç¤ºï¼Œæ›´ç›´è§€æ˜“è®€ã€‚
    -   **å·¥ä½œç«™ (Stations)**: å¾æ°´å¹³æ»¾å‹•æ”¹ç‚ºå›ºå®šçš„å…©åˆ—ç¶²æ ¼ä½ˆå±€ï¼Œæ‰€æœ‰å·¥ä½œç«™ä¸€ç›®äº†ç„¶ï¼Œç„¡éœ€æ»¾å‹•å³å¯è¨ªå•ã€‚

-   **æ“ä½œæµç¨‹å„ªåŒ– (Gameplay Flow Optimization)**:
    -   **è‡ªå‹•é¸æ“‡ç©ºæ§½**: è§£æ±ºäº†ç©å®¶åªèƒ½ä½¿ç”¨ç¬¬ä¸€å€‹ç‰©å“æ§½çš„é—œéµå•é¡Œã€‚ç¾åœ¨ï¼Œæ¯ç•¶ç©å®¶æˆåŠŸæ‹¾å–ä¸€å€‹ç‰©å“å¾Œï¼Œç³»çµ±æœƒ**è‡ªå‹•é¸æ“‡ä¸‹ä¸€å€‹å¯ç”¨çš„ç©ºæ§½ä½**ä½œç‚ºæ–°çš„æ´»å‹•æ§½ã€‚é€™ä½¿å¾—ç©å®¶å¯ä»¥é€£çºŒã€æµæš¢åœ°æ‹¾å–å¤šå€‹ç‰©å“ï¼Œæ¥µå¤§åœ°æå‡äº†éŠæˆ²çš„å¯ç©æ€§å’Œç¯€å¥æ„Ÿã€‚

### 19.10 éŠæˆ²é›£åº¦ç³»çµ±èˆ‡å‹•æ…‹è¨‚å–® (Game Difficulty System & Dynamic Orders)

-   **é£Ÿè­œé›£åº¦å±¬æ€§ (Recipe Difficulty Attribute)**:
    -   `cook_recipes_v2` è³‡æ–™è¡¨å·²æ–°å¢ `difficulty` æ¬„ä½ (æ•´æ•¸ 1-5)ï¼Œç”¨æ–¼æ¨™ç¤ºæ¯å€‹é£Ÿè­œçš„è£½ä½œé›£åº¦ã€‚
    -   æ­¤å±¬æ€§æ˜¯å‹•æ…‹è¨‚å–®ç³»çµ±çš„æ ¸å¿ƒåŸºç¤ã€‚

-   **ç®¡ç†ä»‹é¢å¢å¼· (Admin Interface Enhancement)**:
    -   `cook-admin.html` ç®¡ç†é é¢ç¾å·²æ”¯æŒç·¨è¼¯æ¯å€‹é£Ÿè­œçš„ã€Œé›£åº¦ã€å’Œã€Œæ˜¯å¦å¯è¨‚è³¼ã€ã€‚
    -   ç®¡ç†å“¡å¯ä»¥é€éæ–°çš„å¾Œç«¯ API (`/cook-api/admin/update-recipe`) å³æ™‚èª¿æ•´éŠæˆ²å…§å®¹ï¼Œç„¡éœ€é‡å•Ÿä¼ºæœå™¨ã€‚

-   **å‹•æ…‹è¨‚å–®ç”Ÿæˆ (Dynamic Order Generation)**:
    -   å¾Œç«¯æ ¸å¿ƒé‚è¼¯ `generateOrder` å‡½æ•¸å·²é‡æ§‹ï¼Œç¾åœ¨æœƒæ ¹æ“šéŠæˆ²æˆ¿é–“è¨­å®šçš„é›£åº¦ (`easy`, `normal`, `hard`) ä¾†å‹•æ…‹ç¯©é¸è¨‚å–®ã€‚
    -   **é›£åº¦å°æ‡‰é—œä¿‚**:
        -   `easy` æˆ¿é–“: é¸æ“‡é›£åº¦ 1-2 çš„é£Ÿè­œã€‚
        -   `normal` æˆ¿é–“: é¸æ“‡é›£åº¦ 2-4 çš„é£Ÿè­œã€‚
        -   `hard` æˆ¿é–“: é¸æ“‡é›£åº¦ 3-5 çš„é£Ÿè­œã€‚
    -   æ­¤æ©Ÿåˆ¶ç¢ºä¿äº†ä¸åŒç­‰ç´šçš„ç©å®¶åœ¨å„è‡ªçš„æˆ¿é–“å…§éƒ½èƒ½ç²å¾—é©ç•¶çš„æŒ‘æˆ°ï¼Œæå‡äº†éŠæˆ²çš„å¯ç©æ€§å’Œå…¬å¹³æ€§ã€‚

## æ›´æ–°æ—¥èªŒ

### 2024å¹´3æœˆæ›´æ–°
1.  **åº«å­˜ç³»çµ±å„ªåŒ–**
    -   å°‡ç©å®¶åº«å­˜æ§½ä½å¾5å€‹å¢åŠ åˆ°8å€‹
    -   æ–°çš„4x2ç¶²æ ¼ä½ˆå±€ï¼Œæ›´é©åˆè¤‡é›œé£Ÿè­œçš„è£½ä½œ
    -   ç‰¹åˆ¥å„ªåŒ–äº†éœ€è¦å¤šç¨®é è™•ç†é£Ÿæçš„è±ªè¯æ¼¢å ¡è£½ä½œæµç¨‹

2.  **æ‰‹æ©Ÿç‰ˆé¢çµ±ä¸€åŒ–**
    -   é‡æ–°è¨­è¨ˆéŠæˆ²ç•Œé¢ï¼Œæ¡ç”¨å›ºå®šå¯¬åº¦çš„å‚ç›´ä½ˆå±€
    -   æœ€å¤§å¯¬åº¦é™åˆ¶åœ¨480pxï¼Œç¢ºä¿åœ¨æ‰€æœ‰è¨­å‚™ä¸Šä¿æŒä¸€è‡´çš„é«”é©—
    -   å„ªåŒ–è§¸æ§å€åŸŸå¤§å°ï¼Œæå‡æ“ä½œé«”é©—
    -   æ”¹é€²è¦–è¦ºå±¤ç´šï¼Œä½¿ç”¨æ·±è‰²ä¸»é¡Œæå‡å¯è®€æ€§

# 20. å¾Œç«¯æ ¸å¿ƒé‚è¼¯é‡æ§‹èˆ‡è³‡æ–™åº«é©…å‹•åŒ–

## ç¸½è¦½ (Overview)

æœ¬æ¬¡é‡æ§‹çš„æ ¸å¿ƒç›®æ¨™æ˜¯å°‡ `cook-kitchen-rush.js` ä¸­çš„éŠæˆ²æ ¸å¿ƒé‚è¼¯å¾**ç¡¬ç·¨ç¢¼ (Hardcoded)**è¦å‰‡è½‰è®Šç‚º**è³‡æ–™åº«é©…å‹• (Database-Driven)**ã€‚é€™ä½¿å¾—éŠæˆ²å…§å®¹ï¼ˆå¦‚é£Ÿè­œã€ç‰©å“ã€åˆ†æ•¸ï¼‰çš„æ“´å±•å’Œèª¿æ•´ç„¡éœ€ä¿®æ”¹å¾Œç«¯ç¨‹å¼ç¢¼ï¼Œåƒ…éœ€æ›´æ–°è³‡æ–™åº«å³å¯ï¼Œå¤§å¹…æé«˜äº†å¯ç¶­è­·æ€§å’Œæ“´å±•æ€§ã€‚

æ‰€æœ‰éŠæˆ²ç‹€æ…‹çš„æ ¸å¿ƒçœŸç†ä¾†æº (source of truth) æ˜¯ `cook_game_rooms` è³‡æ–™è¡¨ä¸­çš„ `game_state` (JSONB) æ¬„ä½ã€‚æ‰€æœ‰ç©å®¶å‹•ä½œéƒ½æœƒè®€å–ã€ä¿®æ”¹æ­¤ç‹€æ…‹ï¼Œç„¶å¾Œå¯«å›è³‡æ–™åº«ã€‚

---

## ä¸»è¦è®Šæ›´ (Major Changes)

### 1. è³‡æ–™åº«é©…å‹•çš„éŠæˆ²è¦å‰‡

ç§»é™¤äº†æ‰€æœ‰å¯«æ­»åœ¨ç¨‹å¼ç¢¼ä¸­çš„é£Ÿè­œã€çƒ¹é£ªè¦å‰‡å’Œä¸Šèœé‚è¼¯ï¼Œæ”¹ç‚ºç”±ä»¥ä¸‹ä¸‰å€‹æ–°çš„ç•°æ­¥è¼”åŠ©å‡½æ•¸å¾è³‡æ–™åº«ä¸­æŸ¥è©¢ï¼š

*   `getItemData(itemId)`
    *   **åŠŸèƒ½**: å¾ `cook_items` è³‡æ–™è¡¨æŸ¥è©¢æŒ‡å®š ID çš„ç‰©å“è³‡è¨Šã€‚
    *   **ç”¨é€”**: ç”¨æ–¼ç²å–ç‰©å“çš„åŸºç¤å±¬æ€§ï¼Œä¾‹å¦‚ä¸Šèœæ™‚çš„åˆ†æ•¸ (`base_points`)ã€‚

*   `findCookingRecipe(rawItemId, stationType)`
    *   **åŠŸèƒ½**: æ ¹æ“šç©å®¶ä½¿ç”¨çš„ã€Œç”Ÿé£Ÿæ IDã€å’Œã€Œå·¥ä½œç«™é¡å‹ã€ï¼Œå¾ `cook_recipes_v2` æŸ¥æ‰¾å°æ‡‰çš„çƒ¹é£ªé£Ÿè­œã€‚
    *   **ç”¨é€”**: åœ¨ `cook_item` å‹•ä½œä¸­ä½¿ç”¨ï¼Œä»¥æ±ºå®šçƒ¹é£ªçš„çµæœã€æ‰€éœ€æ™‚é–“ç­‰ã€‚

*   `findAssemblyRecipe(ingredientItemTypes)`
    *   **åŠŸèƒ½**: æ ¹æ“šç©å®¶æä¾›çš„ã€Œé£Ÿæé¡å‹é™£åˆ—ã€ï¼Œå¾ `cook_recipes_v2` æŸ¥æ‰¾åŒ¹é…çš„çµ„åˆé£Ÿè­œã€‚æ­¤å‡½æ•¸æœƒæ ¡é©—é£Ÿæçš„ç¨®é¡èˆ‡æ•¸é‡æ˜¯å¦å®Œå…¨åŒ¹é…ã€‚
    *   **ç”¨é€”**: åœ¨ `assemble_items` å‹•ä½œä¸­ä½¿ç”¨ï¼Œä»¥æ±ºå®šçµ„åˆçš„çµæœã€‚

### 2. éŠæˆ²å‹•ä½œ (Player Actions) é‚è¼¯é‡æ§‹

WebSocket `player_action` çš„è™•ç†é‚è¼¯å·²å…¨é¢æ›´æ–°ï¼Œä»¥ä½¿ç”¨ä¸Šè¿°æ–°çš„è³‡æ–™åº«è¼”åŠ©å‡½æ•¸ã€‚

*   **`cook_item` (çƒ¹é£ªç‰©å“)**
    1.  èª¿ç”¨ `findCookingRecipe` æŸ¥æ‰¾é£Ÿè­œã€‚
    2.  å¦‚æœæ‰¾åˆ°é£Ÿè­œï¼Œå‰‡æ›´æ–°ç©å®¶åœ¨ `game_state` ä¸­çš„ `cooking` ç‹€æ…‹ (åŒ…å«é–‹å§‹æ™‚é–“ã€æ‰€éœ€æ™‚é–“ã€ç”¢å‡ºç‰©å“ç­‰)ã€‚
    3.  éŠæˆ²è¨ˆæ™‚å™¨ (`game_tick`) æœƒæŒçºŒæª¢æŸ¥ä¸¦åœ¨çƒ¹é£ªå®Œæˆå¾Œæ›´æ–°ç©å®¶åº«å­˜ã€‚

*   **`assemble_items` (çµ„åˆç‰©å“)**
    1.  æ¥æ”¶ç©å®¶é¸æ“‡ç”¨æ–¼çµ„åˆçš„å¤šå€‹ç‰©å“ã€‚
    2.  æå–é€™äº›ç‰©å“çš„é¡å‹ (Item Type)ã€‚
    3.  èª¿ç”¨ `findAssemblyRecipe` æŸ¥æ‰¾åŒ¹é…çš„é£Ÿè­œã€‚
    4.  å¦‚æœæ‰¾åˆ°é£Ÿè­œï¼Œå‰‡å¾ç©å®¶åº«å­˜ä¸­ç§»é™¤æ¶ˆè€—çš„é£Ÿæï¼Œä¸¦å°‡çµ„åˆå®Œæˆçš„æ–™ç†åŠ å…¥åº«å­˜ã€‚

*   **`serve_dish` (ä¸Šèœ)**
    1.  é©—è­‰ç©å®¶æäº¤çš„ç‰©å“æ˜¯å¦ç‚ºä¸€å€‹æœ‰æ•ˆçš„è¨‚å–®ã€‚
    2.  èª¿ç”¨ `getItemData` ç²å–è©²æ–™ç†çš„ `base_points` (åŸºç¤åˆ†æ•¸)ã€‚
    3.  **è¨ˆåˆ†é‚è¼¯**: ç›´æ¥åœ¨æ­¤å‹•ä½œä¸­è¨ˆç®—æœ€çµ‚å¾—åˆ†ã€‚åˆ†æ•¸ = `base_points` + `æ™‚é–“çå‹µ` (æ ¹æ“šè¨‚å–®å‰©é¤˜æ™‚é–“çµ¦äºˆåŠ æˆ)ã€‚
    4.  æ›´æ–°åœ˜éšŠç¸½åˆ†å’Œç©å®¶å€‹äººè²¢ç»åˆ†æ•¸ã€‚

### 3. å‹•æ…‹è¨‚å–®èˆ‡è¨ˆåˆ†

*   **`generateOrder` (ç”Ÿæˆæ–°è¨‚å–®)**
    *   æ­¤å‡½æ•¸ç¾åœ¨æœƒå¾ `cook_recipes_v2` ä¸­æŸ¥è©¢ `recipe_type = 'assembly'` çš„æ‰€æœ‰é£Ÿè­œï¼Œä¸¦éš¨æ©Ÿé¸æ“‡ä¸€å€‹ä½œç‚ºæ–°è¨‚å–®ã€‚é€™æ„å‘³è‘—æ‰€æœ‰å¯çµ„åˆçš„æ–™ç†éƒ½æœ‰å¯èƒ½æˆç‚ºéŠæˆ²ä¸­çš„è¨‚å–®ã€‚

*   **è¨ˆåˆ†é‚è¼¯é·ç§»**
    *   åŸæœ‰çš„ `calculateOrderPoints` å‡½æ•¸å·²è¢«å®Œå…¨ç§»é™¤ã€‚
    *   è¨ˆåˆ†é‚è¼¯å·²æ•´åˆè‡³ `serve_dish` å‹•ä½œè™•ç†å™¨ä¸­ï¼Œåˆ†æ•¸ä¾†æºæ–¼è³‡æ–™åº«ä¸­çš„ `cook_items.base_points`ï¼Œä½¿åˆ†æ•¸é«”ç³»æ›´æ˜“æ–¼ç®¡ç†ã€‚

### 4. ç¨‹å¼ç¢¼æ¸…ç† (Code Cleanup)

ä»¥ä¸‹ç¡¬ç·¨ç¢¼çš„è¼”åŠ©å‡½æ•¸å·²è¢«æˆåŠŸç§»é™¤ï¼Œä½¿ç¨‹å¼ç¢¼æ›´ç°¡æ½”ï¼š

*   `isCookable`
*   `getCookedType`
*   `isCompleteDish`
*   `canAssembleRecipe`
*   `calculateOrderPoints`

---

## è³‡æ–™åº«çµæ§‹ä¾è³´ (Database Schema)

é‡æ§‹å¾Œçš„é‚è¼¯é«˜åº¦ä¾è³´ä»¥ä¸‹å…©å€‹è³‡æ–™è¡¨ï¼š

*   `cook_items`
    *   **ä½œç”¨**: å®šç¾©éŠæˆ²ä¸­æ‰€æœ‰ç‰©å“ã€‚
    *   **é‡è¦æ¬„ä½**: `item_id`, `item_type`, `item_name`, `base_points`ã€‚

*   `cook_recipes_v2`
    *   **ä½œç”¨**: å®šç¾©æ‰€æœ‰è£½é€ é£Ÿè­œ (çƒ¹é£ªèˆ‡çµ„åˆ)ã€‚
    *   **é‡è¦æ¬„ä½**: `recipe_id`, `recipe_type` ('cooking' æˆ– 'assembly'), `ingredients` (JSONB), `result_item_id`, `cook_station`, `cook_time_seconds`ã€‚


ä»¥ä¸Šæ˜¯ä¹‹å‰çš„å‚™ä»½ï¼Œæˆ‘éœ€è¦ä½ å†æª¢æŸ¥ä¸¦æ›´æ–°å…§å®¹