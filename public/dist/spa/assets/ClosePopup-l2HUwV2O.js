import{am as Ue,an as ce,a6 as D,c as _,y,g as $,m as O,a0 as C,aa as Se,r as W,w as Xe,n as A,h as F,a as E,b as Pe,X as de,ao as fe,a3 as te,ap as Ye,aq as Je,ar as N,z as Ze,W as et,as as tt,at as nt,au as ot,o as Ce,v as He,V as ne,av as it,a9 as lt,a8 as rt,s as at,aw as st}from"./index-CmMiapgT.js";import{m as ut,r as he,n as ct,b as dt}from"./selection-CtyWBfa2.js";import{u as ft,a as ht}from"./use-dark-CBHtK-Vo.js";const qe=[Element,String],mt=[null,document,document.body,document.scrollingElement,document.documentElement];function ke(e,t){let n=Ue(t);if(n===void 0){if(e==null)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return mt.includes(n)?window:n}function Le(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function Me(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function We(e,t,n=0){const o=arguments[3]===void 0?performance.now():arguments[3],i=Le(e);if(n<=0){i!==t&&J(e,t);return}requestAnimationFrame(c=>{const l=c-o,a=i+(t-i)/Math.max(l,n)*l;J(e,a),a!==t&&We(e,t,n-l,c)})}function $e(e,t,n=0){const o=arguments[3]===void 0?performance.now():arguments[3],i=Me(e);if(n<=0){i!==t&&Z(e,t);return}requestAnimationFrame(c=>{const l=c-o,a=i+(t-i)/Math.max(l,n)*l;Z(e,a),a!==t&&$e(e,t,n-l,c)})}function J(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function Z(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function It(e,t,n){if(n){We(e,t,n);return}J(e,t)}function Ut(e,t,n){if(n){$e(e,t,n);return}Z(e,t)}let R;function vt(){if(R!==void 0)return R;const e=document.createElement("p"),t=document.createElement("div");ce(e,{width:"100%",height:"200px"}),ce(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let o=e.offsetWidth;return n===o&&(o=t.clientWidth),t.remove(),R=n-o,R}function Xt(e,t=!0){return!e||e.nodeType!==Node.ELEMENT_NODE?!1:t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"]))}const{passive:me}=D,gt=["both","horizontal","vertical"],Yt=_({name:"QScrollObserver",props:{axis:{type:String,validator:e=>gt.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:qe},emits:["scroll"],setup(e,{emit:t}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,i,c;y(()=>e.scrollTarget,()=>{s(),a()});function l(){o?.();const m=Math.max(0,Le(i)),g=Me(i),r={top:m-n.position.top,left:g-n.position.left};if(e.axis==="vertical"&&r.top===0||e.axis==="horizontal"&&r.left===0)return;const f=Math.abs(r.top)>=Math.abs(r.left)?r.top<0?"up":"down":r.left<0?"left":"right";n.position={top:m,left:g},n.directionChanged=n.direction!==f,n.delta=r,n.directionChanged===!0&&(n.direction=f,n.inflectionPoint=n.position),t("scroll",{...n})}function a(){i=ke(c,e.scrollTarget),i.addEventListener("scroll",u,me),u(!0)}function s(){i!==void 0&&(i.removeEventListener("scroll",u,me),i=void 0)}function u(m){if(m===!0||e.debounce===0||e.debounce==="0")l();else if(o===null){const[g,r]=e.debounce?[setTimeout(l,e.debounce),clearTimeout]:[requestAnimationFrame(l),cancelAnimationFrame];o=()=>{r(g),o=null}}}const{proxy:d}=$();return y(()=>d.$q.lang.rtl,l),O(()=>{c=d.$el.parentNode,a()}),C(()=>{o?.(),s()}),Object.assign(d,{trigger:u,getPosition:()=>n}),Se}});function pt(){const e=W(!Xe.value);return e.value===!1&&O(()=>{e.value=!0}),{isHydrated:e}}const ze=typeof ResizeObserver<"u",ve=ze===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},Jt=_({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n=null,o,i={width:-1,height:-1};function c(s){s===!0||e.debounce===0||e.debounce==="0"?l():n===null&&(n=setTimeout(l,e.debounce))}function l(){if(n!==null&&(clearTimeout(n),n=null),o){const{offsetWidth:s,offsetHeight:u}=o;(s!==i.width||u!==i.height)&&(i={width:s,height:u},t("resize",i))}}const{proxy:a}=$();if(a.trigger=c,ze===!0){let s;const u=d=>{o=a.$el.parentNode,o?(s=new ResizeObserver(c),s.observe(o),l()):d!==!0&&A(()=>{u(!0)})};return O(()=>{u()}),C(()=>{n!==null&&clearTimeout(n),s!==void 0&&(s.disconnect!==void 0?s.disconnect():o&&s.unobserve(o))}),Se}else{let s=function(){n!==null&&(clearTimeout(n),n=null),m!==void 0&&(m.removeEventListener!==void 0&&m.removeEventListener("resize",c,D.passive),m=void 0)},u=function(){s(),o?.contentDocument&&(m=o.contentDocument.defaultView,m.addEventListener("resize",c,D.passive),l())};const{isHydrated:d}=pt();let m;return O(()=>{A(()=>{o=a.$el,o&&u()})}),C(s),()=>{if(d.value===!0)return F("object",{class:"q--avoid-card-border",style:ve.style,tabindex:-1,type:"text/html",data:ve.url,"aria-hidden":"true",onLoad:u})}}}}),Zt=_({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=E(()=>{const o=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(i=>e[i]===!0).map(i=>`q-btn-group--${i}`).join(" ");return`q-btn-group row no-wrap${o.length!==0?" "+o:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>F("div",{class:n.value},Pe(t.default))}}),bt={target:{type:[Boolean,String,Element],default:!0},noParentEvent:Boolean},wt={...bt,contextMenu:Boolean};function yt({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:o,proxy:i,emit:c}=$(),l=W(null);let a=null;function s(r){return l.value===null?!1:r===void 0||r.touches===void 0||r.touches.length<=1}const u={};n===void 0&&(Object.assign(u,{hide(r){i.hide(r)},toggle(r){i.toggle(r),r.qAnchorHandled=!0},toggleKey(r){te(r,13)===!0&&u.toggle(r)},contextClick(r){i.hide(r),de(r),A(()=>{i.show(r),r.qAnchorHandled=!0})},prevent:de,mobileTouch(r){if(u.mobileCleanup(r),s(r)!==!0)return;i.hide(r),l.value.classList.add("non-selectable");const f=r.target;fe(u,"anchor",[[f,"touchmove","mobileCleanup","passive"],[f,"touchend","mobileCleanup","passive"],[f,"touchcancel","mobileCleanup","passive"],[l.value,"contextmenu","prevent","notPassive"]]),a=setTimeout(()=>{a=null,i.show(r),r.qAnchorHandled=!0},300)},mobileCleanup(r){l.value.classList.remove("non-selectable"),a!==null&&(clearTimeout(a),a=null),e.value===!0&&r!==void 0&&ut()}}),n=function(r=o.contextMenu){if(o.noParentEvent===!0||l.value===null)return;let f;r===!0?i.$q.platform.is.mobile===!0?f=[[l.value,"touchstart","mobileTouch","passive"]]:f=[[l.value,"mousedown","hide","passive"],[l.value,"contextmenu","contextClick","notPassive"]]:f=[[l.value,"click","toggle","passive"],[l.value,"keyup","toggleKey","passive"]],fe(u,"anchor",f)});function d(){Ye(u,"anchor")}function m(r){for(l.value=r;l.value.classList.contains("q-anchor--skip");)l.value=l.value.parentNode;n()}function g(){if(o.target===!1||o.target===""||i.$el.parentNode===null)l.value=null;else if(o.target===!0)m(i.$el.parentNode);else{let r=o.target;if(typeof o.target=="string")try{r=document.querySelector(o.target)}catch{r=void 0}r!=null?(l.value=r.$el||r,n()):(l.value=null,console.error(`Anchor: target "${o.target}" not found`))}}return y(()=>o.contextMenu,r=>{l.value!==null&&(d(),n(r))}),y(()=>o.target,()=>{l.value!==null&&d(),g()}),y(()=>o.noParentEvent,r=>{l.value!==null&&(r===!0?d():n())}),O(()=>{g(),t!==!0&&o.modelValue===!0&&l.value===null&&c("update:modelValue",!1)}),C(()=>{a!==null&&clearTimeout(a),d()}),{anchorEl:l,canShow:s,anchorEvents:u}}function xt(e,t){const n=W(null);let o;function i(a,s){const u=`${s!==void 0?"add":"remove"}EventListener`,d=s!==void 0?s:o;a!==window&&a[u]("scroll",d,D.passive),window[u]("scroll",d,D.passive),o=s}function c(){n.value!==null&&(i(n.value),n.value=null)}const l=y(()=>e.noParentEvent,()=>{n.value!==null&&(c(),t())});return C(l),{localScrollTarget:n,unconfigureScrollTarget:c,changeScrollEvent:i}}const Et={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},Tt=["beforeShow","show","beforeHide","hide"];function St({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:i,processOnMount:c}){const l=$(),{props:a,emit:s,proxy:u}=l;let d;function m(v){e.value===!0?f(v):g(v)}function g(v){if(a.disable===!0||v?.qAnchorHandled===!0||t!==void 0&&t(v)!==!0)return;const p=a["onUpdate:modelValue"]!==void 0;p===!0&&(s("update:modelValue",!0),d=v,A(()=>{d===v&&(d=void 0)})),(a.modelValue===null||p===!1)&&r(v)}function r(v){e.value!==!0&&(e.value=!0,s("beforeShow",v),o!==void 0?o(v):s("show",v))}function f(v){if(a.disable===!0)return;const p=a["onUpdate:modelValue"]!==void 0;p===!0&&(s("update:modelValue",!1),d=v,A(()=>{d===v&&(d=void 0)})),(a.modelValue===null||p===!1)&&H(v)}function H(v){e.value!==!1&&(e.value=!1,s("beforeHide",v),i!==void 0?i(v):s("hide",v))}function T(v){a.disable===!0&&v===!0?a["onUpdate:modelValue"]!==void 0&&s("update:modelValue",!1):v===!0!==e.value&&(v===!0?r:H)(d)}y(()=>a.modelValue,T),n!==void 0&&Je(l)===!0&&y(()=>u.$route.fullPath,()=>{n.value===!0&&e.value===!0&&f()}),O(()=>{T(a.modelValue)});const q={show:g,hide:f,toggle:m};return Object.assign(u,q),q}const B=[];function Pt(e){return B.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function Be(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return N(e)}else if(e.__qPortal===!0){const n=N(e);return n?.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=N(e)}while(e!=null)}function Ct(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=Be(e,t);continue}e.hide(t)}e=N(e)}}const Ht=_({name:"QPortal",setup(e,{slots:t}){return()=>t.default()}});function qt(e){for(e=e.parent;e!=null;){if(e.type.name==="QGlobalDialog")return!0;if(e.type.name==="QDialog"||e.type.name==="QMenu")return!1;e=e.parent}return!1}function kt(e,t,n,o){const i=W(!1),c=W(!1);let l=null;const a={},s=o==="dialog"&&qt(e);function u(m){if(m===!0){he(a),c.value=!0;return}c.value=!1,i.value===!1&&(s===!1&&l===null&&(l=nt(!1,o)),i.value=!0,B.push(e.proxy),ct(a))}function d(m){if(c.value=!1,m!==!0)return;he(a),i.value=!1;const g=B.indexOf(e.proxy);g!==-1&&B.splice(g,1),l!==null&&(ot(l),l=null)}return Ze(()=>{d(!0)}),e.proxy.__qPortal=!0,et(e.proxy,"contentEl",()=>t.value),{showPortal:u,hidePortal:d,portalIsActive:i,portalIsAccessible:c,renderPortal:()=>s===!0?n():i.value===!0?[F(tt,{to:l},F(Ht,n))]:void 0}}const Lt={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function Mt(e,t=()=>{},n=()=>{}){return{transitionProps:E(()=>{const o=`q-transition--${e.transitionShow||t()}`,i=`q-transition--${e.transitionHide||n()}`;return{appear:!0,enterFromClass:`${o}-enter-from`,enterActiveClass:`${o}-enter-active`,enterToClass:`${o}-enter-to`,leaveFromClass:`${i}-leave-from`,leaveActiveClass:`${i}-leave-active`,leaveToClass:`${i}-leave-to`}}),transitionStyle:E(()=>`--q-transition-duration: ${e.transitionDuration}ms`)}}function Wt(){let e;const t=$();function n(){e=void 0}return Ce(n),C(n),{removeTick:n,registerTick(o){e=o,A(()=>{e===o&&(He(t)===!1&&e(),e=void 0)})}}}function $t(){let e=null;const t=$();function n(){e!==null&&(clearTimeout(e),e=null)}return Ce(n),C(n),{removeTimeout:n,registerTimeout(o,i){n(),He(t)===!1&&(e=setTimeout(()=>{e=null,o()},i))}}}const k=[];let V;function zt(e){V=e.keyCode===27}function Bt(){V===!0&&(V=!1)}function Dt(e){V===!0&&(V=!1,te(e,27)===!0&&k[k.length-1](e))}function De(e){window[e]("keydown",zt),window[e]("blur",Bt),window[e]("keyup",Dt),V=!1}function Ot(e){ne.is.desktop===!0&&(k.push(e),k.length===1&&De("addEventListener"))}function ge(e){const t=k.indexOf(e);t!==-1&&(k.splice(t,1),k.length===0&&De("removeEventListener"))}const L=[];function Oe(e){L[L.length-1](e)}function At(e){ne.is.desktop===!0&&(L.push(e),L.length===1&&document.body.addEventListener("focusin",Oe))}function Ft(e){const t=L.indexOf(e);t!==-1&&(L.splice(t,1),L.length===0&&document.body.removeEventListener("focusin",Oe))}const{notPassiveCapture:j}=D,M=[];function K(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=B.length-1;for(;n>=0;){const o=B[n].$;if(o.type.name==="QTooltip"){n--;continue}if(o.type.name!=="QDialog")break;if(o.props.seamless!==!0)return;n--}for(let o=M.length-1;o>=0;o--){const i=M[o];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function Vt(e){M.push(e),M.length===1&&(document.addEventListener("mousedown",K,j),document.addEventListener("touchstart",K,j))}function pe(e){const t=M.findIndex(n=>n===e);t!==-1&&(M.splice(t,1),M.length===0&&(document.removeEventListener("mousedown",K,j),document.removeEventListener("touchstart",K,j)))}let be,we;function ye(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function Qt(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const ee={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{ee[`${e}#ltr`]=e,ee[`${e}#rtl`]=e});function xe(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:ee[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function _t(e,t){let{top:n,left:o,right:i,bottom:c,width:l,height:a}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],o-=t[0],c+=t[1],i+=t[0],l+=t[0],a+=t[1]),{top:n,bottom:c,height:a,left:o,right:i,width:l,middle:o+(i-o)/2,center:n+(c-n)/2}}function Rt(e,t,n){let{top:o,left:i}=e.getBoundingClientRect();return o+=t.top,i+=t.left,n!==void 0&&(o+=n[1],i+=n[0]),{top:o,bottom:o+1,height:1,left:i,right:i+1,width:1,middle:i,center:o}}function Nt(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Ee(e,t,n,o){return{top:e[n.vertical]-t[o.vertical],left:e[n.horizontal]-t[o.horizontal]}}function Ae(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{Ae(e,t+1)},10);return}const{targetEl:n,offset:o,anchorEl:i,anchorOrigin:c,selfOrigin:l,absoluteOffset:a,fit:s,cover:u,maxHeight:d,maxWidth:m}=e;if(ne.is.ios===!0&&window.visualViewport!==void 0){const z=document.body.style,{offsetLeft:w,offsetTop:x}=window.visualViewport;w!==be&&(z.setProperty("--q-pe-left",w+"px"),be=w),x!==we&&(z.setProperty("--q-pe-top",x+"px"),we=x)}const{scrollLeft:g,scrollTop:r}=n,f=a===void 0?_t(i,u===!0?[0,0]:o):Rt(i,a,o);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:m,maxHeight:d,visibility:"visible"});const{offsetWidth:H,offsetHeight:T}=n,{elWidth:q,elHeight:v}=s===!0||u===!0?{elWidth:Math.max(f.width,H),elHeight:u===!0?Math.max(f.height,T):T}:{elWidth:H,elHeight:T};let p={maxWidth:m,maxHeight:d};(s===!0||u===!0)&&(p.minWidth=f.width+"px",u===!0&&(p.minHeight=f.height+"px")),Object.assign(n.style,p);const S=Nt(q,v);let b=Ee(f,S,c,l);if(a===void 0||o===void 0)Y(b,f,S,c,l);else{const{top:z,left:w}=b;Y(b,f,S,c,l);let x=!1;if(b.top!==z){x=!0;const P=2*o[1];f.center=f.top-=P,f.bottom-=P+2}if(b.left!==w){x=!0;const P=2*o[0];f.middle=f.left-=P,f.right-=P+2}x===!0&&(b=Ee(f,S,c,l),Y(b,f,S,c,l))}p={top:b.top+"px",left:b.left+"px"},b.maxHeight!==void 0&&(p.maxHeight=b.maxHeight+"px",f.height>b.maxHeight&&(p.minHeight=p.maxHeight)),b.maxWidth!==void 0&&(p.maxWidth=b.maxWidth+"px",f.width>b.maxWidth&&(p.minWidth=p.maxWidth)),Object.assign(n.style,p),n.scrollTop!==r&&(n.scrollTop=r),n.scrollLeft!==g&&(n.scrollLeft=g)}function Y(e,t,n,o,i){const c=n.bottom,l=n.right,a=vt(),s=window.innerHeight-a,u=document.body.clientWidth;if(e.top<0||e.top+c>s)if(i.vertical==="center")e.top=t[o.vertical]>s/2?Math.max(0,s-c):0,e.maxHeight=Math.min(c,s);else if(t[o.vertical]>s/2){const d=Math.min(s,o.vertical==="center"?t.center:o.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(c,d),e.top=Math.max(0,d-c)}else e.top=Math.max(0,o.vertical==="center"?t.center:o.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(c,s-e.top);if(e.left<0||e.left+l>u)if(e.maxWidth=Math.min(l,u),i.horizontal==="middle")e.left=t[o.horizontal]>u/2?Math.max(0,u-l):0;else if(t[o.horizontal]>u/2){const d=Math.min(u,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(l,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,o.horizontal==="middle"?t.middle:o.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(l,u-e.left)}const en=_({name:"QMenu",inheritAttrs:!1,props:{...wt,...Et,...ft,...Lt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ye},self:{type:String,validator:ye},offset:{type:Array,validator:Qt},scrollTarget:qe,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Tt,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:o}){let i=null,c,l,a;const s=$(),{proxy:u}=s,{$q:d}=u,m=W(null),g=W(!1),r=E(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),f=ht(e,d),{registerTick:H,removeTick:T}=Wt(),{registerTimeout:q}=$t(),{transitionProps:v,transitionStyle:p}=Mt(e),{localScrollTarget:S,changeScrollEvent:b,unconfigureScrollTarget:z}=xt(e,se),{anchorEl:w,canShow:x}=yt({showing:g}),{hide:P}=St({showing:g,canShow:x,handleShow:Re,handleHide:Ne,hideOnRouteChange:r,processOnMount:!0}),{showPortal:oe,hidePortal:ie,renderPortal:Fe}=kt(s,m,Ke,"menu"),G={anchorEl:w,innerRef:m,onClickOutside(h){if(e.persistent!==!0&&g.value===!0)return P(h),(h.type==="touchstart"||h.target.classList.contains("q-dialog__backdrop"))&&at(h),!0}},le=E(()=>xe(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),Ve=E(()=>e.cover===!0?le.value:xe(e.self||"top start",d.lang.rtl)),Qe=E(()=>(e.square===!0?" q-menu--square":"")+(f.value===!0?" q-menu--dark q-dark":"")),_e=E(()=>e.autoClose===!0?{onClick:je}:{}),re=E(()=>g.value===!0&&e.persistent!==!0);y(re,h=>{h===!0?(Ot(U),Vt(G)):(ge(U),pe(G))});function I(){dt(()=>{let h=m.value;h&&h.contains(document.activeElement)!==!0&&(h=h.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||h.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||h.querySelector("[autofocus], [data-autofocus]")||h,h.focus({preventScroll:!0}))})}function Re(h){if(i=e.noRefocus===!1?document.activeElement:null,At(ue),oe(),se(),c=void 0,h!==void 0&&(e.touchPosition||e.contextMenu)){const X=it(h);if(X.left!==void 0){const{top:Ge,left:Ie}=w.value.getBoundingClientRect();c={left:X.left-Ie,top:X.top-Ge}}}l===void 0&&(l=y(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,Q)),e.noFocus!==!0&&document.activeElement.blur(),H(()=>{Q(),e.noFocus!==!0&&I()}),q(()=>{d.platform.is.ios===!0&&(a=e.autoClose,m.value.click()),Q(),oe(!0),n("show",h)},e.transitionDuration)}function Ne(h){T(),ie(),ae(!0),i!==null&&(h===void 0||h.qClickOutside!==!0)&&(((h?.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),q(()=>{ie(!0),n("hide",h)},e.transitionDuration)}function ae(h){c=void 0,l!==void 0&&(l(),l=void 0),(h===!0||g.value===!0)&&(Ft(ue),z(),pe(G),ge(U)),h!==!0&&(i=null)}function se(){(w.value!==null||e.scrollTarget!==void 0)&&(S.value=ke(w.value,e.scrollTarget),b(S.value,Q))}function je(h){a!==!0?(Be(u,h),n("click",h)):a=!1}function ue(h){re.value===!0&&e.noFocus!==!0&&rt(m.value,h.target)!==!0&&I()}function U(h){e.noEscDismiss!==!0&&(n("escapeKey"),P(h))}function Q(){Ae({targetEl:m.value,offset:e.offset,anchorEl:w.value,anchorOrigin:le.value,selfOrigin:Ve.value,absoluteOffset:c,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ke(){return F(lt,v.value,()=>g.value===!0?F("div",{role:"menu",...o,ref:m,tabindex:-1,class:["q-menu q-position-engine scroll"+Qe.value,o.class],style:[o.style,p.value],..._e.value},Pe(t.default)):null)}return C(ae),Object.assign(u,{focus:I,updatePosition:Q}),Fe}});function Te(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const tn=st({name:"close-popup",beforeMount(e,{value:t}){const n={depth:Te(t),handler(o){n.depth!==0&&setTimeout(()=>{const i=Pt(e);i!==void 0&&Ct(i,o,n.depth)})},handlerKey(o){te(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=Te(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});export{tn as C,Yt as Q,Jt as a,en as b,Zt as c,Me as d,Le as e,Tt as f,vt as g,Xt as h,Et as i,$t as j,Wt as k,Mt as l,kt as m,St as n,At as o,Ot as p,ge as q,Ft as r,Ut as s,It as t,Lt as u};
