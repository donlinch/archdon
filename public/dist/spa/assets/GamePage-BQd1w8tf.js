import{c as y,a,h as d,g as q,z as Q,A as I,t as B,B as z,r as f,o as N,q as W,s as j,u as g,x as u,y as h,C as L,D as M}from"./index-DBsz0Jk5.js";import{h as P,a as X}from"./render-dChl5Uk-.js";import{u as Z,a as E}from"./use-size-BPbtSQ5C.js";import{Q as J}from"./QPage-Cvt_cKgM.js";import{api as T}from"./axios-da5i6RcF.js";import{_ as $}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A=y({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const r=a(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>d(e.tag,{class:r.value},P(t.default))}}),p={dark:{type:Boolean,default:null}};function x(e,t){return a(()=>e.dark===null?t.dark.isActive:e.dark)}const V={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},S={xs:2,sm:4,md:8,lg:16,xl:24},Y=y({name:"QSeparator",props:{...p,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=q(),r=x(e,t.proxy.$q),l=a(()=>e.vertical===!0?"vertical":"horizontal"),s=a(()=>` q-separator--${l.value}`),i=a(()=>e.inset!==!1?`${s.value}-${V[e.inset]}`:""),c=a(()=>`q-separator${s.value}${i.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(r.value===!0?" q-separator--dark":"")),v=a(()=>{const o={};if(e.size!==void 0&&(o[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const n=e.spaced===!0?`${S.md}px`:e.spaced in S?`${S[e.spaced]}px`:e.spaced,m=e.vertical===!0?["Left","Right"]:["Top","Bottom"];o[`margin${m[0]}`]=o[`margin${m[1]}`]=n}return o});return()=>d("hr",{class:c.value,style:v.value,"aria-orientation":l.value})}}),U={xs:2,sm:4,md:6,lg:10,xl:14};function _(e,t,r){return{transform:t===!0?`translateX(${r.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const k=y({name:"QLinearProgress",props:{...p,...Z,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:r}=q(),l=x(e,r.$q),s=E(e,U),i=a(()=>e.indeterminate===!0||e.query===!0),c=a(()=>e.reverse!==e.query),v=a(()=>({...s.value!==null?s.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),o=a(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),n=a(()=>_(e.buffer!==void 0?e.buffer:1,c.value,r.$q)),m=a(()=>`with${e.instantFeedback===!0?"out":""}-transition`),H=a(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${m.value} q-linear-progress__track--${l.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),F=a(()=>_(i.value===!0?1:e.value,c.value,r.$q)),C=a(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${m.value} q-linear-progress__model--${i.value===!0?"in":""}determinate`),w=a(()=>({width:`${e.value*100}%`})),D=a(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${m.value}`);return()=>{const b=[d("div",{class:H.value,style:n.value}),d("div",{class:C.value,style:F.value})];return e.stripe===!0&&i.value===!1&&b.push(d("div",{class:D.value,style:w.value})),d("div",{class:o.value,style:v.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},X(t.default,b))}}}),K=y({name:"QCard",props:{...p,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:r}}=q(),l=x(e,r),s=a(()=>"q-card"+(l.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>d(e.tag,{class:s.value},P(t.default))}}),G={__name:"PetDisplay",props:{spriteSheet:{type:String,required:!0},frameWidth:{type:Number,required:!0},frameHeight:{type:Number,required:!0},totalFrames:{type:Number,required:!0},animationDuration:{type:String,default:"1s"}},setup(e){Q(s=>({"4998e4aa":t.totalFrames,"3defb9b8":l.value}));const t=e,r=a(()=>({width:`${t.frameWidth}px`,height:`${t.frameHeight}px`,backgroundImage:`url(${t.spriteSheet})`,animationDuration:t.animationDuration})),l=a(()=>t.frameWidth*t.totalFrames);return(s,i)=>(B(),I("div",{class:"pet-sprite",style:z(r.value)},null,4))}},R=$(G,[["__scopeId","data-v-0e6e9dfc"]]),O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAAAgCAYAAADaInAlAAAAAXNSR0IArs4c6QAABBZJREFUeJztm0+LFEcYxn8106OG6IaI5hBlpGEIQUk8iTclBw8xs4GcsrCHgXjJYchXWPIZ9JCDgnswzDmuBEkgKHgQLyaLIMnAoCwE9qBxVnT/dHfloFVbM9Pd0/+2W9d6YKG7pqp+z9v7zlvdtb1g9U5LFD2h67pSHQ8Gg8Lnfxu9VOWjdK7rutJ/cEP/mAbK1pvipSofSbm1IoH9pUsAeMdOAdBfukQVF/5N8VKVjzRcJ24SyF46FDir8vLzeimSn8VHWfGHVgCVQUmzteiMzsIv0sO7xI9dAv7+9fZUE6bZVrsLgPPonv48T8lLy4/rZ3qqgp/FRxnxRy4B4yZa7W7o5GqtMfrptiKUga/7qdKX5Zefhz9etk0frXY3VVnf6finJsAnX54ZAUWZjJJ37FTkhUmivHzlIWsSFMHPo52OP3YJUPC0arW7ub51eflFecjDN5U3+bIoafxTK0ASjRsdDAai1e7Kh8t3i5g+E991XZmn9ObhmyrDQ574C9sHsHo7NZEA5iZC7fh5Dp34anLQ8fPUQ9qL0G7hu66rK2Cab7/JL0OxS4Dj7MXnVRmTUiKEwN/yeL8hImuHuuEzy3/W0rdb+Fm15/Nv8P1NNp6vjvIPf4wMwF++kYgfF39oAjz5408AXjxb0W37Zk6ysfYX9YbD+n+rr/pdvQzAwS9OZo0xVLuNnzYBy4x/xJQQM/Lx4hzNTk+3ra/1mfmgxfBZnw/3f8TT56v6s2GIAbUZpPRw+S77D7TwAMQmMliPvBCWXz5fnyj4uJqdHutr/SjPwPZjTqvd5c7FBd1+ZPYHAMx53e9u4nmPJi6C5VfDF1FwGTQQtS1tQrc7go2n/4z0/fSz0wDcubigoeNgU27nKp7cjE0+yy+HL0x4vQ6+HzpmRGcWfhvJNAjPtjg1Oz2kHFp+xXznwHsHAXBqAZ6fbFvg9o/nRjItDXhcll8tv7b28gkAXpBuT+jx4pyG/rv4LQDSWNmESHbTa/nV8vU9gJo0jZqdHj99fYLvf3mgx9ZrDn7gxY4BkHI4sgZafjX8icfApEaanR4rvXmWfr7PkcOHmL1yK3bcNvgF4IWmp+WXz5/YCFrpzXN07po+T5qV1y+c1RBzjGq7fuEsAO3LvwPRGWr55fJDdwJXevP6WJkZn9TsY5owoWabltgL8mVsMJZfHn/qn4MVyMzKMHiYkTAJAtK8H2b5O8tP/D5AKFSmu3PdauxBykaqMZa/s/yRBJByKI7OXZPTMmxb4QYkk/9yNHvl1uujYeTzieWXz5+oAMqEOh83IyTUhMBHEkSEYjYrsPnYEyfLL5cfugSYncfNSAH+61UkarNhO9uSB2751fCn3gPEmanJIBScJWjLr4af2ajatFBvqqQF55XlF8P/H2FKxX8iPAWEAAAAAElFTkSuQmCC",ee={class:"text-h6"},te={__name:"GamePage",setup(e){const t=f("載入中..."),r=f(0),l=f(0),s=f(50),i=f(150);let c=null;const v=a(()=>({position:"absolute",top:`${i.value}px`,left:`${s.value}px`,transition:"all 2s ease-in-out"}));return N(async()=>{try{const n=(await T.get("/api/pet/initial-state")).data;t.value=n.name,r.value=n.hunger,l.value=n.mood,console.log("成功從後端獲取寵物資料:",n)}catch(o){console.error("獲取寵物資料失敗:",o),t.value="讀取失敗 :("}c=setInterval(()=>{s.value=Math.random()*300,i.value=150+Math.random()*150},4e3)}),W(()=>{clearInterval(c)}),(o,n)=>(B(),j(J,{class:"q-pa-md game-area"},{default:g(()=>[u(K,{class:"q-mb-md text-center",style:{"max-width":"400px",margin:"0 auto"},flat:"",bordered:""},{default:g(()=>[u(A,null,{default:g(()=>[h("div",ee,L(t.value),1)]),_:1}),u(Y),u(A,null,{default:g(()=>[n[0]||(n[0]=h("div",null,"飢餓度",-1)),u(k,{rounded:"",size:"20px",value:r.value,color:"orange"},null,8,["value"])]),_:1,__:[0]}),u(A,null,{default:g(()=>[n[1]||(n[1]=h("div",null,"心情值",-1)),u(k,{rounded:"",size:"20px",value:l.value,color:"positive"},null,8,["value"])]),_:1,__:[1]})]),_:1}),u(R,{spriteSheet:M(O),frameWidth:32,frameHeight:32,totalFrames:4,style:z(v.value)},null,8,["spriteSheet","style"])]),_:1}))}},ie=$(te,[["__scopeId","data-v-a7346509"]]);export{ie as default};
