import{g as Y,r as V,a as c,E as re,s as ee,_ as ne,h as k,c as te,$ as se,a0 as ue,a1 as oe,a2 as de,a3 as ce,a4 as me,a5 as G,a6 as fe,a7 as ve,a8 as pe,a9 as _e,aa as ge,w as Z,n as he,b as W,ab as be,y as ye,H as J,G as L,J as x,ac as y,L as v,K as A,F as B,P as Ve,Y as Se,Z as xe,ad as Fe,R as Ce,W as H,X as R,Q as De,T as j,V as Ee,D as Pe}from"./index-DYK3U5_v.js";import{h as Ae,Q as ke,T as qe}from"./TouchPan-DO0wDzvO.js";import{Q as ze}from"./QPage-CQePgJIi.js";import{u as Ie}from"./use-quasar-Cu2JO6wp.js";import{P as Oe}from"./PetDisplay-3BJlC776.js";import{_ as Te}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./selection-D3y8JduA.js";function N(e,m,F,h){const n=[];return e.forEach(s=>{h(s)===!0?n.push(s):m.push({failedPropValidation:F,file:s})}),n}function Q(e){e?.dataTransfer&&(e.dataTransfer.dropEffect="copy"),ee(e)}const $e={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Le=["rejected"];function Re({editable:e,dnd:m,getFileInput:F,addFilesToQueue:h}){const{props:n,emit:s,proxy:f}=Y(),S=V(null),p=c(()=>n.accept!==void 0?n.accept.split(",").map(t=>(t=t.trim(),t==="*"?"*/":(t.endsWith("/*")&&(t=t.slice(0,t.length-1)),t.toUpperCase()))):null),C=c(()=>parseInt(n.maxFiles,10)),b=c(()=>parseInt(n.maxTotalSize,10));function q(t){if(e.value)if(t!==Object(t)&&(t={target:null}),t.target?.matches('input[type="file"]')===!0)t.clientX===0&&t.clientY===0&&re(t);else{const a=F();a!==t.target&&a?.click(t)}}function T(t){e.value&&t&&h(null,t)}function I(t,a,l,o){let i=Array.from(a||t.target.files);const _=[],$=()=>{_.length!==0&&s("rejected",_)};if(n.accept!==void 0&&p.value.indexOf("*/")===-1&&(i=N(i,_,"accept",d=>p.value.some(g=>d.type.toUpperCase().startsWith(g)||d.name.toUpperCase().endsWith(g))),i.length===0))return $();if(n.maxFileSize!==void 0){const d=parseInt(n.maxFileSize,10);if(i=N(i,_,"max-file-size",g=>g.size<=d),i.length===0)return $()}if(n.multiple!==!0&&i.length!==0&&(i=[i[0]]),i.forEach(d=>{d.__key=d.webkitRelativePath+d.lastModified+d.name+d.size}),o===!0){const d=l.map(g=>g.__key);i=N(i,_,"duplicate",g=>d.includes(g.__key)===!1)}if(i.length===0)return $();if(n.maxTotalSize!==void 0){let d=o===!0?l.reduce((g,U)=>g+U.size,0):0;if(i=N(i,_,"max-total-size",g=>(d+=g.size,d<=b.value)),i.length===0)return $()}if(typeof n.filter=="function"){const d=n.filter(i);i=N(i,_,"filter",g=>d.includes(g))}if(n.maxFiles!==void 0){let d=o===!0?l.length:0;if(i=N(i,_,"max-files",()=>(d++,d<=C.value)),i.length===0)return $()}if($(),i.length!==0)return i}function O(t){Q(t),m.value!==!0&&(m.value=!0)}function u(t){ee(t),(t.relatedTarget!==null||ne.is.safari!==!0?t.relatedTarget!==S.value:document.elementsFromPoint(t.clientX,t.clientY).includes(S.value)===!1)===!0&&(m.value=!1)}function P(t){Q(t);const a=t.dataTransfer.files;a.length!==0&&h(null,a),m.value=!1}function E(t){if(m.value===!0)return k("div",{ref:S,class:`q-${t}__dnd absolute-full`,onDragenter:Q,onDragover:Q,onDragleave:u,onDrop:P})}return Object.assign(f,{pickFiles:q,addFiles:T}),{pickFiles:q,addFiles:T,onDragover:O,onDragleave:u,processFiles:I,getDndNode:E,maxFilesNumber:C,maxTotalSizeNumber:b}}const Ne=te({name:"QFile",inheritAttrs:!1,props:{...oe,...ue,...$e,modelValue:[File,FileList,Array],append:Boolean,useChips:Boolean,displayValue:[String,Number],tabindex:{type:[String,Number],default:0},counterLabel:Function,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...se,...Le],setup(e,{slots:m,emit:F,attrs:h}){const{proxy:n}=Y(),s=de(),f=V(null),S=V(!1),p=ce(e),{pickFiles:C,onDragover:b,onDragleave:q,processFiles:T,getDndNode:I}=Re({editable:s.editable,dnd:S,getFileInput:K,addFilesToQueue:X}),O=me(e),u=c(()=>Object(e.modelValue)===e.modelValue?"length"in e.modelValue?Array.from(e.modelValue):[e.modelValue]:[]),P=c(()=>G(u.value)),E=c(()=>u.value.map(r=>r.name).join(", ")),t=c(()=>Ae(u.value.reduce((r,D)=>r+D.size,0))),a=c(()=>({totalSize:t.value,filesNumber:u.value.length,maxFiles:e.maxFiles})),l=c(()=>({tabindex:-1,type:"file",title:"",accept:e.accept,capture:e.capture,name:p.value,...h,id:s.targetUid.value,disabled:s.editable.value!==!0})),o=c(()=>"q-file q-field--auto-height"+(S.value===!0?" q-file--dnd":"")),i=c(()=>e.multiple===!0&&e.append===!0);function _(r){const D=u.value.slice();D.splice(r,1),d(D)}function $(r){const D=u.value.indexOf(r);D!==-1&&_(D)}function d(r){F("update:modelValue",e.multiple===!0?r:r[0])}function g(r){r.keyCode===13&&pe(r)}function U(r){(r.keyCode===13||r.keyCode===32)&&C(r)}function K(){return f.value}function X(r,D){const z=T(r,D,u.value,i.value),M=K();M!=null&&(M.value=""),z!==void 0&&((e.multiple===!0?e.modelValue&&z.every(ie=>u.value.includes(ie)):e.modelValue===z[0])||d(i.value===!0?u.value.concat(z):z))}function w(){return[k("input",{class:[e.inputClass,"q-file__filler"],style:e.inputStyle})]}function ae(){if(m.file!==void 0)return u.value.length===0?w():u.value.map((D,z)=>m.file({index:z,file:D,ref:this}));if(m.selected!==void 0)return u.value.length===0?w():m.selected({files:u.value,ref:this});if(e.useChips===!0)return u.value.length===0?w():u.value.map((D,z)=>k(ke,{key:"file-"+z,removable:s.editable.value,dense:!0,textColor:e.color,tabindex:e.tabindex,onRemove:()=>{_(z)}},()=>k("span",{class:"ellipsis",textContent:D.name})));const r=e.displayValue!==void 0?e.displayValue:E.value;return r.length!==0?[k("div",{class:e.inputClass,style:e.inputStyle,textContent:r})]:w()}function le(){const r={ref:f,...l.value,...O.value,class:"q-field__input fit absolute-full cursor-pointer",onChange:X};return e.multiple===!0&&(r.multiple=!0),k("input",r)}return Object.assign(s,{fieldClass:o,emitValue:d,hasValue:P,inputRef:f,innerValue:u,floatingLabel:c(()=>P.value===!0||G(e.displayValue)),computedCounter:c(()=>{if(e.counterLabel!==void 0)return e.counterLabel(a.value);const r=e.maxFiles;return`${u.value.length}${r!==void 0?" / "+r:""} (${t.value})`}),getControlChild:()=>I("file"),getControl:()=>{const r={ref:s.targetRef,class:"q-field__native row items-center cursor-pointer",tabindex:e.tabindex};return s.editable.value===!0&&Object.assign(r,{onDragover:b,onDragleave:q,onKeydown:g,onKeyup:U}),k("div",r,[le()].concat(ae()))}}),Object.assign(n,{removeAtIndex:_,removeFile:$,getNativeElement:()=>f.value}),fe(n,"nativeEl",()=>f.value),ve(s)}}),je=te({name:"QSplitter",props:{..._e,modelValue:{type:Number,required:!0},reverse:Boolean,unit:{type:String,default:"%",validator:e=>["%","px"].includes(e)},limits:{type:Array,validator:e=>e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"?!1:e[0]>=0&&e[0]<=e[1]},emitImmediately:Boolean,horizontal:Boolean,disable:Boolean,beforeClass:[Array,String,Object],afterClass:[Array,String,Object],separatorClass:[Array,String,Object],separatorStyle:[Array,String,Object]},emits:["update:modelValue"],setup(e,{slots:m,emit:F}){const{proxy:{$q:h}}=Y(),n=ge(e,h),s=V(null),f={before:V(null),after:V(null)},S=c(()=>`q-splitter no-wrap ${e.horizontal===!0?"q-splitter--horizontal column":"q-splitter--vertical row"} q-splitter--${e.disable===!0?"disabled":"workable"}`+(n.value===!0?" q-splitter--dark":"")),p=c(()=>e.horizontal===!0?"height":"width"),C=c(()=>e.reverse!==!0?"before":"after"),b=c(()=>e.limits!==void 0?e.limits:e.unit==="%"?[10,90]:[50,1/0]);function q(o){return(e.unit==="%"?o:Math.round(o))+e.unit}const T=c(()=>({[C.value]:{[p.value]:q(e.modelValue)}}));let I,O,u,P,E;function t(o){if(o.isFirst===!0){const _=s.value.getBoundingClientRect()[p.value];I=e.horizontal===!0?"up":"left",O=e.unit==="%"?100:_,u=Math.min(O,b.value[1],Math.max(b.value[0],e.modelValue)),P=(e.reverse!==!0?1:-1)*(e.horizontal===!0?1:h.lang.rtl===!0?-1:1)*(e.unit==="%"?_===0?0:100/_:1),s.value.classList.add("q-splitter--active");return}if(o.isFinal===!0){E!==e.modelValue&&F("update:modelValue",E),s.value.classList.remove("q-splitter--active");return}const i=u+P*(o.direction===I?-1:1)*o.distance[e.horizontal===!0?"y":"x"];E=Math.min(O,b.value[1],Math.max(b.value[0],i)),f[C.value].value.style[p.value]=q(E),e.emitImmediately===!0&&e.modelValue!==E&&F("update:modelValue",E)}const a=c(()=>[[qe,t,void 0,{[e.horizontal===!0?"vertical":"horizontal"]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function l(o,i){o<i[0]?F("update:modelValue",i[0]):o>i[1]&&F("update:modelValue",i[1])}return Z(()=>e.modelValue,o=>{l(o,b.value)}),Z(()=>e.limits,()=>{he(()=>{l(e.modelValue,b.value)})}),()=>{const o=[k("div",{ref:f.before,class:["q-splitter__panel q-splitter__before"+(e.reverse===!0?" col":""),e.beforeClass],style:T.value.before},W(m.before)),k("div",{class:["q-splitter__separator",e.separatorClass],style:e.separatorStyle,"aria-disabled":e.disable===!0?"true":void 0},[be("div",{class:"q-splitter__separator-area absolute-full"},W(m.separator),"sep",e.disable!==!0,()=>a.value)]),k("div",{ref:f.after,class:["q-splitter__panel q-splitter__after"+(e.reverse===!0?"":" col"),e.afterClass],style:T.value.after},W(m.after))];return k("div",{class:S.value,ref:s},ye(m.default,o))}}}),we={class:"q-pa-md q-gutter-y-md"},Be={key:1},Qe={class:"q-pa-md"},Ue={class:"asset-grid"},Me=["onClick"],We=["src"],He={class:"grid-item-label"},Ye={key:0,class:"text-grey"},Ke={__name:"SpriteEditorPage",setup(e){const m=Ie(),F=V(50),h=V(null),n=V(""),s=V(32),f=V(32),S=V(4),p=V(null),C=V(1),b=V([]),q=Object.assign({"/src/assets/Basic Charakter Spritesheet-back.png":()=>y(()=>import("./Basic Charakter Spritesheet-back-B9rVEyHH.js"),[]),"/src/assets/Basic Charakter Spritesheet-face.png":()=>y(()=>import("./Basic Charakter Spritesheet-face-DGcq_MBM.js"),[]),"/src/assets/Basic Charakter Spritesheet-left.png":()=>y(()=>import("./Basic Charakter Spritesheet-left-CGJoGvDD.js"),[]),"/src/assets/Basic Charakter Spritesheet-righ.png":()=>y(()=>import("./Basic Charakter Spritesheet-righ-BUuq8Otu.js"),[]),"/src/assets/Box3.png":()=>y(()=>import("./Box3-D33A2cDj.js"),[]),"/src/assets/Idle.png":()=>y(()=>import("./Idle-DsbNMuy-.js"),[]),"/src/assets/explosion.png":()=>y(()=>import("./explosion-Y5bmNw69.js"),[]),"/src/assets/foodrunning/background.png":()=>y(()=>import("./background-BVSj_Qqs.js"),[]),"/src/assets/foodrunning/restaurant_map.png":()=>y(()=>import("./restaurant_map-BOdnv5Gh.js"),[]),"/src/assets/foodrunning/restaurant_map2.png":()=>y(()=>import("./restaurant_map2-C907gb_L.js"),[]),"/src/assets/foodrunning/restaurant_map3.png":()=>y(()=>import("./restaurant_map3-BNK9RUu8.js"),[]),"/src/assets/login-in.png":()=>y(()=>import("./login-in-DXWPbqXm.js"),[]),"/src/assets/logos/SunnyYummy.png":()=>y(()=>import("./SunnyYummy-CJFbYPjp.js"),[]),"/src/assets/logos/eat-logo-word.png":()=>y(()=>import("./eat-logo-word-rguyzZIN.js"),[]),"/src/assets/quasar-logo-vertical.svg":()=>y(()=>import("./quasar-logo-vertical-BmWX0j6Q.js"),[])});(async()=>{const t=[];for(const a in q){const l=(await q[a]()).default,o=a.split("/").pop();t.push({label:o,value:l,path:a})}if(b.value=t,t.length>0){const a=t.find(l=>l.label==="Box3.png");a&&I(a)}})();const I=t=>{t&&(p.value=t,n.value=t.value,h.value=null)},O=t=>{t?(n.value=URL.createObjectURL(t),p.value=null):n.value=""},u=c(()=>({width:`${s.value}px`,height:`${f.value}px`})),P=c(()=>{if(p.value){const a=p.value.label.split(".")[0],l=a.charAt(0).toLowerCase()+a.slice(1).replace(/[^a-zA-Z0-9]/g,"")+"Sprite",o=`~assets/${p.value.label}`;return`<!-- 1. Add to <script setup> -->
import ${l} from '${o}';

<!-- 2. Add to <template> -->
<PetDisplay 
  :spriteSheet="${l}"
  :frameWidth="${s.value}"
  :frameHeight="${f.value}"
  :totalFrames="${S.value}"
  :animationDuration="'${C.value}s'"
/>`}return`<!--
  When using local files, it's best to import them first.
  For example, in <script setup>:
  import mySprite from '${h.value?`path/to/your/${h.value.name}`:"path/to/your/sprite.png"}';
-->
<PetDisplay 
  :spriteSheet="mySprite"
  :frameWidth="${s.value}"
  :frameHeight="${f.value}"
  :totalFrames="${S.value}"
  :animationDuration="'${C.value}s'"
/>`}),E=()=>{navigator.clipboard.writeText(P.value),m.notify({message:"Code copied to clipboard!",color:"positive",icon:"check"})};return(t,a)=>(L(),J(ze,{class:"overflow-hidden"},{default:x(()=>[v(je,{modelValue:F.value,"onUpdate:modelValue":a[6]||(a[6]=l=>F.value=l),style:{height:"calc(100vh - 50px)"},limits:[30,70]},{before:x(()=>[A("div",we,[a[11]||(a[11]=A("div",{class:"text-h4"},"Sprite Editor",-1)),v(H,null,{default:x(()=>[v(R,null,{default:x(()=>a[7]||(a[7]=[A("div",{class:"text-h6"},"Configuration",-1)])),_:1,__:[7]}),v(R,null,{default:x(()=>[v(Ne,{modelValue:h.value,"onUpdate:modelValue":[a[0]||(a[0]=l=>h.value=l),O],label:"Upload Sprite Sheet",accept:"image/*",outlined:""},{prepend:x(()=>[v(De,{name:"attach_file"})]),_:1},8,["modelValue"]),a[8]||(a[8]=A("div",{class:"text-caption q-mt-sm"},"Or select a sprite from the Assets panel.",-1)),v(j,{modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=l=>s.value=l),modelModifiers:{number:!0},type:"number",label:"Frame Width",class:"q-mt-md"},null,8,["modelValue"]),v(j,{modelValue:f.value,"onUpdate:modelValue":a[2]||(a[2]=l=>f.value=l),modelModifiers:{number:!0},type:"number",label:"Frame Height",class:"q-mt-md"},null,8,["modelValue"]),v(j,{modelValue:S.value,"onUpdate:modelValue":a[3]||(a[3]=l=>S.value=l),modelModifiers:{number:!0},type:"number",label:"Total Frames",class:"q-mt-md"},null,8,["modelValue"]),v(j,{modelValue:C.value,"onUpdate:modelValue":a[4]||(a[4]=l=>C.value=l),modelModifiers:{number:!0},type:"number",label:"Animation Duration (s)",step:"0.1",class:"q-mt-md"},null,8,["modelValue"])]),_:1,__:[8]})]),_:1}),v(H,null,{default:x(()=>[v(R,null,{default:x(()=>a[9]||(a[9]=[A("div",{class:"text-h6"},"Preview",-1)])),_:1,__:[9]}),v(R,{class:"q-pa-md",style:{"min-height":"200px",background:"#eee",display:"flex","justify-content":"center","align-items":"center"}},{default:x(()=>[n.value?(L(),J(Oe,{key:0,spriteSheet:n.value,frameWidth:s.value,frameHeight:f.value,totalFrames:S.value,animationDuration:`${C.value}s`,style:Ee(u.value)},null,8,["spriteSheet","frameWidth","frameHeight","totalFrames","animationDuration","style"])):(L(),B("div",Be,"Select or upload a sprite to see the preview"))]),_:1})]),_:1}),v(H,null,{default:x(()=>[v(R,null,{default:x(()=>a[10]||(a[10]=[A("div",{class:"text-h6"},"Generated Code",-1)])),_:1,__:[10]}),v(R,null,{default:x(()=>[v(j,{modelValue:P.value,"onUpdate:modelValue":a[5]||(a[5]=l=>P.value=l),type:"textarea",readonly:"",rows:"5"},{append:x(()=>[v(Pe,{flat:"",icon:"content_copy",onClick:E})]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),after:x(()=>[A("div",Qe,[a[12]||(a[12]=A("div",{class:"text-h6 q-mb-md"},"Assets",-1)),A("div",Ue,[(L(!0),B(Se,null,xe(b.value,l=>(L(),B("div",{key:l.path,class:Fe(["grid-item",{selected:p.value&&p.value.path===l.path}]),onClick:o=>I(l)},[A("img",{src:l.value,class:"grid-item-img"},null,8,We),A("div",He,Ce(l.label),1)],10,Me))),128)),b.value.length===0?(L(),B("div",Ye," No images found in src/assets. ")):Ve("",!0)])])]),_:1},8,["modelValue"])]),_:1}))}},lt=Te(Ke,[["__scopeId","data-v-66793cdc"]]);export{lt as default};
