import{c as ge,a1 as Gl,g as $e,a2 as Jl,r as C,a as d,h as z,a3 as zl,s as Ve,a4 as Zl,b as ut,a0 as Le,a5 as tl,V as Ge,a6 as Me,a7 as eo,y as he,a8 as to,a9 as Bt,aa as lo,n as ze,ab as xl,ac as oo,o as ql,k as Tl,ad as et,ae as no,X as kt,af as ao,ag as io,Q as ht,D as Ne,j as $t,B as ro,C as de,w as uo,m as Lt,ah as so,v as _t,ai as co,aj as vo,L as Ot,x as tt,E as se,F as re,K as W,I as ke,ak as lt,H as E,T as Be,J as T,O as Oe,S as Se,P as qe,Z as Ke,U as Ue,G as fo,al as mo}from"./index-CmMiapgT.js";import{d as Vl,k as Ht,j as Al,f as Il,b as go,u as Ml,g as ho,i as ll,l as yo,a as So,Q as ol}from"./selection-CtyWBfa2.js";import{n as nl,Q as bo,b as ot,T as al}from"./TouchPan-4MDGBNtF.js";import{u as Ft,a as Pt}from"./use-dark-CBHtK-Vo.js";import{d as po,e as wo,h as ko,f as _o,u as Co,i as zo,j as Et,k as xo,l as qo,m as To,n as Vo,o as Ao,p as Io,r as il,q as rl,b as Mo,c as Bo,s as Ct,a as ul,Q as Oo,t as sl,C as Eo}from"./ClosePopup-l2HUwV2O.js";import{Q as $o}from"./QPage-B2LSk3h5.js";import{Q as cl,a as zt}from"./QCard-DEhKlL0F.js";import{u as Lo}from"./use-quasar-DByhWKhR.js";import{P as Ho}from"./PetDisplay-oSpWb1-V.js";import{a as dt}from"./index-Dq7h7Pqt.js";import{n as Fo}from"./index-J1xnI5EH.js";import nt from"./Basic Charakter Spritesheet-face-DGcq_MBM.js";import Po from"./Basic Charakter Spritesheet-left-CGJoGvDD.js";import Do from"./Basic Charakter Spritesheet-righ-BUuq8Otu.js";import Ro from"./Basic Charakter Spritesheet-back-B9rVEyHH.js";import jo from"./restaurant_map-BOdnv5Gh.js";import{_ as Qo}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Wo=ge({name:"QField",inheritAttrs:!1,props:{...Ht,tag:{type:String,default:"label"}},emits:Vl,setup(){return Al(Il({tagProp:!0}))}}),No=ge({name:"QItem",props:{...Ft,...Gl,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:l,emit:n}){const{proxy:{$q:f}}=$e(),S=Pt(e,f),{hasLink:u,linkAttrs:v,linkClass:o,linkTag:s,navigateOnClick:m}=Jl(),i=C(null),y=C(null),g=d(()=>e.clickable===!0||u.value===!0||e.tag==="label"),p=d(()=>e.disable!==!0&&g.value===!0),A=d(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(S.value===!0?" q-item--dark":"")+(u.value===!0&&e.active===null?o.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(p.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),M=d(()=>e.insetLevel===void 0?null:{["padding"+(f.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function j(I){p.value===!0&&(y.value!==null&&I.qAvoidFocus!==!0&&(I.qKeyEvent!==!0&&document.activeElement===i.value?y.value.focus():document.activeElement===y.value&&i.value.focus()),m(I))}function L(I){if(p.value===!0&&zl(I,[13,32])===!0){Ve(I),I.qKeyEvent=!0;const P=new MouseEvent("click",I);P.qKeyEvent=!0,i.value.dispatchEvent(P)}n("keyup",I)}function U(){const I=Zl(l.default,[]);return p.value===!0&&I.unshift(z("div",{class:"q-focus-helper",tabindex:-1,ref:y})),I}return()=>{const I={ref:i,class:A.value,style:M.value,role:"listitem",onClick:j,onKeyup:L};return p.value===!0?(I.tabindex=e.tabindex||"0",Object.assign(I,v.value)):g.value===!0&&(I["aria-disabled"]="true"),z(s.value,I,U())}}}),Ko=ge({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:l}){const n=d(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>z("div",{class:n.value},ut(l.default))}}),Uo=ge({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:l}){const n=d(()=>parseInt(e.lines,10)),f=d(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),S=d(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>z("div",{style:S.value,class:f.value},ut(l.default))}});function Xo(e,l,n){let f;function S(){f!==void 0&&(tl.remove(f),f=void 0)}return Le(()=>{e.value===!0&&S()}),{removeFromHistory:S,addToHistory(){f={condition:()=>n.value===!0,handler:l},tl.add(f)}}}let at=0,xt,qt,rt,Tt=!1,dl,vl,fl,Ee=null;function Yo(e){Go(e)&&Ve(e)}function Go(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const l=eo(e),n=e.shiftKey&&!e.deltaX,f=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),S=n||f?e.deltaY:e.deltaX;for(let u=0;u<l.length;u++){const v=l[u];if(ko(v,f))return f?S<0&&v.scrollTop===0?!0:S>0&&v.scrollTop+v.clientHeight===v.scrollHeight:S<0&&v.scrollLeft===0?!0:S>0&&v.scrollLeft+v.clientWidth===v.scrollWidth}return!0}function ml(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function vt(e){Tt!==!0&&(Tt=!0,requestAnimationFrame(()=>{Tt=!1;const{height:l}=e.target,{clientHeight:n,scrollTop:f}=document.scrollingElement;(rt===void 0||l!==window.innerHeight)&&(rt=n-l,document.scrollingElement.scrollTop=f),f>rt&&(document.scrollingElement.scrollTop-=Math.ceil((f-rt)/8))}))}function gl(e){const l=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:f,overflowX:S}=window.getComputedStyle(l);xt=po(window),qt=wo(window),dl=l.style.left,vl=l.style.top,fl=window.location.href,l.style.left=`-${xt}px`,l.style.top=`-${qt}px`,S!=="hidden"&&(S==="scroll"||l.scrollWidth>window.innerWidth)&&l.classList.add("q-body--force-scrollbar-x"),f!=="hidden"&&(f==="scroll"||l.scrollHeight>window.innerHeight)&&l.classList.add("q-body--force-scrollbar-y"),l.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,Ge.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",vt,Me.passiveCapture),window.visualViewport.addEventListener("scroll",vt,Me.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",ml,Me.passiveCapture))}Ge.is.desktop===!0&&Ge.is.mac===!0&&window[`${e}EventListener`]("wheel",Yo,Me.notPassive),e==="remove"&&(Ge.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",vt,Me.passiveCapture),window.visualViewport.removeEventListener("scroll",vt,Me.passiveCapture)):window.removeEventListener("scroll",ml,Me.passiveCapture)),l.classList.remove("q-body--prevent-scroll"),l.classList.remove("q-body--force-scrollbar-x"),l.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,l.style.left=dl,l.style.top=vl,window.location.href===fl&&window.scrollTo(xt,qt),rt=void 0)}function Jo(e){let l="add";if(e===!0){if(at++,Ee!==null){clearTimeout(Ee),Ee=null;return}if(at>1)return}else{if(at===0||(at--,at>0))return;if(l="remove",Ge.is.ios===!0&&Ge.is.nativeMobile===!0){Ee!==null&&clearTimeout(Ee),Ee=setTimeout(()=>{gl(l),Ee=null},100);return}}gl(l)}function Zo(){let e;return{preventBodyScroll(l){l!==e&&(e!==void 0||l===!0)&&(e=l,Jo(l))}}}let ft=0;const en={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},hl={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},Bl=ge({name:"QDialog",inheritAttrs:!1,props:{...zo,...Co,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[..._o,"shake","click","escapeKey"],setup(e,{slots:l,emit:n,attrs:f}){const S=$e(),u=C(null),v=C(!1),o=C(!1);let s=null,m=null,i,y;const g=d(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:p}=Zo(),{registerTimeout:A}=Et(),{registerTick:M,removeTick:j}=xo(),{transitionProps:L,transitionStyle:U}=qo(e,()=>hl[e.position][0],()=>hl[e.position][1]),I=d(()=>U.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:P,hidePortal:ie,portalIsAccessible:N,renderPortal:Y}=To(S,u,te,"dialog"),{hide:le}=Vo({showing:v,hideOnRouteChange:g,handleShow:x,handleHide:h,processOnMount:!0}),{addToHistory:oe,removeFromHistory:ne}=Xo(v,le,g),ue=d(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${en[e.position]}`+(o.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),r=d(()=>v.value===!0&&e.seamless!==!0),B=d(()=>e.autoClose===!0?{onClick:b}:{}),c=d(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${r.value===!0?"modal":"seamless"}`,f.class]);he(()=>e.maximized,_=>{v.value===!0&&a(_)}),he(r,_=>{p(_),_===!0?(Ao(K),Io(D)):(il(K),rl(D))});function x(_){oe(),m=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,a(e.maximized),P(),o.value=!0,e.noFocus!==!0?(document.activeElement?.blur(),M(O)):j(),A(()=>{if(S.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:V,bottom:X}=document.activeElement.getBoundingClientRect(),{innerHeight:F}=window,J=window.visualViewport!==void 0?window.visualViewport.height:F;V>0&&X>J/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-J,X>=F?1/0:Math.ceil(document.scrollingElement.scrollTop+X-J/2))),document.activeElement.scrollIntoView()}y=!0,u.value.click(),y=!1}P(!0),o.value=!1,n("show",_)},e.transitionDuration)}function h(_){j(),ne(),ee(!0),o.value=!0,ie(),m!==null&&(((_?.type.indexOf("key")===0?m.closest('[tabindex]:not([tabindex^="-"])'):void 0)||m).focus(),m=null),A(()=>{ie(!0),o.value=!1,n("hide",_)},e.transitionDuration)}function O(_){go(()=>{let V=u.value;if(V!==null){if(_!==void 0){const X=V.querySelector(_);if(X!==null){X.focus({preventScroll:!0});return}}V.contains(document.activeElement)!==!0&&(V=V.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||V.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||V.querySelector("[autofocus], [data-autofocus]")||V,V.focus({preventScroll:!0}))}})}function $(_){_&&typeof _.focus=="function"?_.focus({preventScroll:!0}):O(),n("shake");const V=u.value;V!==null&&(V.classList.remove("q-animate--scale"),V.classList.add("q-animate--scale"),s!==null&&clearTimeout(s),s=setTimeout(()=>{s=null,u.value!==null&&(V.classList.remove("q-animate--scale"),O())},170))}function D(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&$():(n("escapeKey"),le()))}function ee(_){s!==null&&(clearTimeout(s),s=null),(_===!0||v.value===!0)&&(a(!1),e.seamless!==!0&&(p(!1),il(K),rl(D))),_!==!0&&(m=null)}function a(_){_===!0?i!==!0&&(ft<1&&document.body.classList.add("q-body--dialog"),ft++,i=!0):i===!0&&(ft<2&&document.body.classList.remove("q-body--dialog"),ft--,i=!1)}function b(_){y!==!0&&(le(_),n("click",_))}function H(_){e.persistent!==!0&&e.noBackdropDismiss!==!0?le(_):e.noShake!==!0&&$()}function K(_){e.allowFocusOutside!==!0&&N.value===!0&&to(u.value,_.target)!==!0&&O('[tabindex]:not([tabindex="-1"])')}Object.assign(S.proxy,{focus:O,shake:$,__updateRefocusTarget(_){m=_||null}}),Le(ee);function te(){return z("div",{role:"dialog","aria-modal":r.value===!0?"true":"false",...f,class:c.value},[z(Bt,{name:"q-transition--fade",appear:!0},()=>r.value===!0?z("div",{class:"q-dialog__backdrop fixed-full",style:I.value,"aria-hidden":"true",tabindex:-1,onClick:H}):null),z(Bt,L.value,()=>v.value===!0?z("div",{ref:u,class:ue.value,style:U.value,tabindex:-1,...B.value},ut(l.default)):null)])}return Y}});let yt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,yt=e.scrollLeft>=0,e.remove()}const be=1e3,tn=["start","center","end","start-force","center-force","end-force"],Ol=Array.prototype.filter,ln=window.getComputedStyle(document.body).overflowAnchor===void 0?lo:function(e,l){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Ol.call(n,S=>S.dataset&&S.dataset.qVsAnchor!==void 0).forEach(S=>{delete S.dataset.qVsAnchor});const f=n[l];f?.dataset&&(f.dataset.qVsAnchor="")}))};function Je(e,l){return e+l}function Vt(e,l,n,f,S,u,v,o){const s=e===window?document.scrollingElement||document.documentElement:e,m=S===!0?"offsetWidth":"offsetHeight",i={scrollStart:0,scrollViewSize:-v-o,scrollMaxSize:0,offsetStart:-v,offsetEnd:-o};if(S===!0?(e===window?(i.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,i.scrollViewSize+=document.documentElement.clientWidth):(i.scrollStart=s.scrollLeft,i.scrollViewSize+=s.clientWidth),i.scrollMaxSize=s.scrollWidth,u===!0&&(i.scrollStart=(yt===!0?i.scrollMaxSize-i.scrollViewSize:0)-i.scrollStart)):(e===window?(i.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,i.scrollViewSize+=document.documentElement.clientHeight):(i.scrollStart=s.scrollTop,i.scrollViewSize+=s.clientHeight),i.scrollMaxSize=s.scrollHeight),n!==null)for(let y=n.previousElementSibling;y!==null;y=y.previousElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(i.offsetStart+=y[m]);if(f!==null)for(let y=f.nextElementSibling;y!==null;y=y.nextElementSibling)y.classList.contains("q-virtual-scroll--skip")===!1&&(i.offsetEnd+=y[m]);if(l!==e){const y=s.getBoundingClientRect(),g=l.getBoundingClientRect();S===!0?(i.offsetStart+=g.left-y.left,i.offsetEnd-=g.width):(i.offsetStart+=g.top-y.top,i.offsetEnd-=g.height),e!==window&&(i.offsetStart+=i.scrollStart),i.offsetEnd+=i.scrollMaxSize-i.offsetStart}return i}function yl(e,l,n,f){l==="end"&&(l=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(f===!0&&(l=(yt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-l),window.scrollTo(l,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,l):n===!0?(f===!0&&(l=(yt===!0?e.scrollWidth-e.offsetWidth:0)-l),e.scrollLeft=l):e.scrollTop=l}function it(e,l,n,f){if(n>=f)return 0;const S=l.length,u=Math.floor(n/be),v=Math.floor((f-1)/be)+1;let o=e.slice(u,v).reduce(Je,0);return n%be!==0&&(o-=l.slice(u*be,n).reduce(Je,0)),f%be!==0&&f!==S&&(o-=l.slice(f,v*be).reduce(Je,0)),o}const on={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Sl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...on};function nn({virtualScrollLength:e,getVirtualScrollTarget:l,getVirtualScrollEl:n,virtualScrollItemSizeComputed:f}){const S=$e(),{props:u,emit:v,proxy:o}=S,{$q:s}=o;let m,i,y,g=[],p;const A=C(0),M=C(0),j=C({}),L=C(null),U=C(null),I=C(null),P=C({from:0,to:0}),ie=d(()=>u.tableColspan!==void 0?u.tableColspan:100);f===void 0&&(f=d(()=>u.virtualScrollItemSize));const N=d(()=>f.value+";"+u.virtualScrollHorizontal),Y=d(()=>N.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);he(Y,()=>{h()}),he(N,le);function le(){x(i,!0)}function oe(a){x(a===void 0?i:a)}function ne(a,b){const H=l();if(H==null||H.nodeType===8)return;const K=Vt(H,n(),L.value,U.value,u.virtualScrollHorizontal,s.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);y!==K.scrollViewSize&&h(K.scrollViewSize),r(H,K,Math.min(e.value-1,Math.max(0,parseInt(a,10)||0)),0,tn.indexOf(b)!==-1?b:i!==-1&&a>i?"end":"start")}function ue(){const a=l();if(a==null||a.nodeType===8)return;const b=Vt(a,n(),L.value,U.value,u.virtualScrollHorizontal,s.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),H=e.value-1,K=b.scrollMaxSize-b.offsetStart-b.offsetEnd-M.value;if(m===b.scrollStart)return;if(b.scrollMaxSize<=0){r(a,b,0,0);return}y!==b.scrollViewSize&&h(b.scrollViewSize),B(P.value.from);const te=Math.floor(b.scrollMaxSize-Math.max(b.scrollViewSize,b.offsetEnd)-Math.min(p[H],b.scrollViewSize/2));if(te>0&&Math.ceil(b.scrollStart)>=te){r(a,b,H,b.scrollMaxSize-b.offsetEnd-g.reduce(Je,0));return}let _=0,V=b.scrollStart-b.offsetStart,X=V;if(V<=K&&V+b.scrollViewSize>=A.value)V-=A.value,_=P.value.from,X=V;else for(let F=0;V>=g[F]&&_<H;F++)V-=g[F],_+=be;for(;V>0&&_<H;)V-=p[_],V>-b.scrollViewSize?(_++,X=V):X=p[_]+V;r(a,b,_,X)}function r(a,b,H,K,te){const _=typeof te=="string"&&te.indexOf("-force")!==-1,V=_===!0?te.replace("-force",""):te,X=V!==void 0?V:"start";let F=Math.max(0,H-j.value[X]),J=F+j.value.total;J>e.value&&(J=e.value,F=Math.max(0,J-j.value.total)),m=b.scrollStart;const pe=F!==P.value.from||J!==P.value.to;if(pe===!1&&V===void 0){$(H);return}const{activeElement:He}=document,ye=I.value;pe===!0&&ye!==null&&ye!==He&&ye.contains(He)===!0&&(ye.addEventListener("focusout",c),setTimeout(()=>{ye?.removeEventListener("focusout",c)})),ln(ye,H-F);const Fe=V!==void 0?p.slice(F,H).reduce(Je,0):0;if(pe===!0){const _e=J>=P.value.from&&F<=P.value.to?P.value.to:J;P.value={from:F,to:_e},A.value=it(g,p,0,F),M.value=it(g,p,J,e.value),requestAnimationFrame(()=>{P.value.to!==J&&m===b.scrollStart&&(P.value={from:P.value.from,to:J},M.value=it(g,p,J,e.value))})}requestAnimationFrame(()=>{if(m!==b.scrollStart)return;pe===!0&&B(F);const _e=p.slice(F,H).reduce(Je,0),Ce=_e+b.offsetStart+A.value,we=Ce+p[H];let R=Ce+K;if(V!==void 0){const q=_e-Fe,fe=b.scrollStart+q;R=_!==!0&&fe<Ce&&we<fe+b.scrollViewSize?fe:V==="end"?we-b.scrollViewSize:Ce-(V==="start"?0:Math.round((b.scrollViewSize-p[H])/2))}m=R,yl(a,R,u.virtualScrollHorizontal,s.lang.rtl),$(H)})}function B(a){const b=I.value;if(b){const H=Ol.call(b.children,F=>F.classList&&F.classList.contains("q-virtual-scroll--skip")===!1),K=H.length,te=u.virtualScrollHorizontal===!0?F=>F.getBoundingClientRect().width:F=>F.offsetHeight;let _=a,V,X;for(let F=0;F<K;){for(V=te(H[F]),F++;F<K&&H[F].classList.contains("q-virtual-scroll--with-prev")===!0;)V+=te(H[F]),F++;X=V-p[_],X!==0&&(p[_]+=X,g[Math.floor(_/be)]+=X),_++}}}function c(){I.value?.focus()}function x(a,b){const H=1*f.value;(b===!0||Array.isArray(p)===!1)&&(p=[]);const K=p.length;p.length=e.value;for(let _=e.value-1;_>=K;_--)p[_]=H;const te=Math.floor((e.value-1)/be);g=[];for(let _=0;_<=te;_++){let V=0;const X=Math.min((_+1)*be,e.value);for(let F=_*be;F<X;F++)V+=p[F];g.push(V)}i=-1,m=void 0,A.value=it(g,p,0,P.value.from),M.value=it(g,p,P.value.to,e.value),a>=0?(B(P.value.from),ze(()=>{ne(a)})):D()}function h(a){if(a===void 0&&typeof window<"u"){const V=l();V!=null&&V.nodeType!==8&&(a=Vt(V,n(),L.value,U.value,u.virtualScrollHorizontal,s.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}y=a;const b=parseFloat(u.virtualScrollSliceRatioBefore)||0,H=parseFloat(u.virtualScrollSliceRatioAfter)||0,K=1+b+H,te=a===void 0||a<=0?1:Math.ceil(a/f.value),_=Math.max(1,te,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/K));j.value={total:Math.ceil(_*K),start:Math.ceil(_*b),center:Math.ceil(_*(.5+b)),end:Math.ceil(_*(1+b)),view:te}}function O(a,b){const H=u.virtualScrollHorizontal===!0?"width":"height",K={["--q-virtual-scroll-item-"+H]:f.value+"px"};return[a==="tbody"?z(a,{class:"q-virtual-scroll__padding",key:"before",ref:L},[z("tr",[z("td",{style:{[H]:`${A.value}px`,...K},colspan:ie.value})])]):z(a,{class:"q-virtual-scroll__padding",key:"before",ref:L,style:{[H]:`${A.value}px`,...K}}),z(a,{class:"q-virtual-scroll__content",key:"content",ref:I,tabindex:-1},b.flat()),a==="tbody"?z(a,{class:"q-virtual-scroll__padding",key:"after",ref:U},[z("tr",[z("td",{style:{[H]:`${M.value}px`,...K},colspan:ie.value})])]):z(a,{class:"q-virtual-scroll__padding",key:"after",ref:U,style:{[H]:`${M.value}px`,...K}})]}function $(a){i!==a&&(u.onVirtualScroll!==void 0&&v("virtualScroll",{index:a,from:P.value.from,to:P.value.to-1,direction:a<i?"decrease":"increase",ref:o}),i=a)}h();const D=xl(ue,s.platform.is.ios===!0?120:35);oo(()=>{h()});let ee=!1;return ql(()=>{ee=!0}),Tl(()=>{if(ee!==!0)return;const a=l();m!==void 0&&a!==void 0&&a!==null&&a.nodeType!==8?yl(a,m,u.virtualScrollHorizontal,s.lang.rtl):ne(i)}),Le(()=>{D.cancel()}),Object.assign(o,{scrollTo:ne,reset:le,refresh:oe}),{virtualScrollSliceRange:P,virtualScrollSliceSizeComputed:j,setVirtualScrollSize:h,onVirtualScrollEvt:D,localResetVirtualScroll:x,padVirtualScroll:O,scrollTo:ne,reset:le,refresh:oe}}const bl=e=>["add","add-unique","toggle"].includes(e),an=".*+?^${}()|[]\\",rn=Object.keys(Ht);function At(e,l){if(typeof e=="function")return e;const n=e!==void 0?e:l;return f=>f!==null&&typeof f=="object"&&n in f?f[n]:f}const un=ge({name:"QSelect",inheritAttrs:!1,props:{...Sl,...Ml,...Ht,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:bl},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Sl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...Vl,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:l,emit:n}){const{proxy:f}=$e(),{$q:S}=f,u=C(!1),v=C(!1),o=C(-1),s=C(""),m=C(!1),i=C(!1);let y=null,g=null,p,A,M,j=null,L,U,I,P;const ie=C(null),N=C(null),Y=C(null),le=C(null),oe=C(null),ne=ho(e),ue=yo(Yt),r=d(()=>Array.isArray(e.options)?e.options.length:0),B=d(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:c,virtualScrollSliceSizeComputed:x,localResetVirtualScroll:h,padVirtualScroll:O,onVirtualScrollEvt:$,scrollTo:D,setVirtualScrollSize:ee}=nn({virtualScrollLength:r,getVirtualScrollTarget:Hl,getVirtualScrollEl:Ut,virtualScrollItemSizeComputed:B}),a=Il(),b=d(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,w=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const k=e.mapOptions===!0&&p!==void 0?p:[],Q=w.map(Z=>Ll(Z,k));return e.modelValue===null&&t===!0?Q.filter(Z=>Z!==null):Q}return w}),H=d(()=>{const t={};return rn.forEach(w=>{const k=e[w];k!==void 0&&(t[w]=k)}),t}),K=d(()=>e.optionsDark===null?a.isDark.value:e.optionsDark),te=d(()=>ll(b.value)),_=d(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||b.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),V=d(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),X=d(()=>r.value===0),F=d(()=>b.value.map(t=>ve.value(t)).join(", ")),J=d(()=>e.displayValue!==void 0?e.displayValue:F.value),pe=d(()=>e.optionsHtml===!0?()=>!0:t=>t?.html===!0),He=d(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||b.value.some(pe.value))),ye=d(()=>a.focused.value===!0?e.tabindex:-1),Fe=d(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${a.targetUid.value}_lb`};return o.value>=0&&(t["aria-activedescendant"]=`${a.targetUid.value}_${o.value}`),t}),_e=d(()=>({id:`${a.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ce=d(()=>b.value.map((t,w)=>({index:w,opt:t,html:pe.value(t),selected:!0,removeAtIndex:$l,toggleOption:Ae,tabindex:ye.value}))),we=d(()=>{if(r.value===0)return[];const{from:t,to:w}=c.value;return e.options.slice(t,w).map((k,Q)=>{const Z=xe.value(k)===!0,G=bt(k)===!0,ce=t+Q,ae={clickable:!0,active:G,activeClass:fe.value,manualFocus:!0,focused:!1,disable:Z,tabindex:-1,dense:e.optionsDense,dark:K.value,role:"option","aria-selected":G===!0?"true":"false",id:`${a.targetUid.value}_${ce}`,onClick:()=>{Ae(k)}};return Z!==!0&&(o.value===ce&&(ae.focused=!0),S.platform.is.desktop===!0&&(ae.onMousemove=()=>{u.value===!0&&De(ce)})),{index:ce,opt:k,html:pe.value(k),label:ve.value(k),selected:ae.active,focused:ae.focused,toggleOption:Ae,setOptionIndex:De,itemProps:ae}})}),R=d(()=>e.dropdownIcon!==void 0?e.dropdownIcon:S.iconSet.arrow.dropdown),q=d(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),fe=d(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),me=d(()=>At(e.optionValue,"value")),ve=d(()=>At(e.optionLabel,"label")),xe=d(()=>At(e.optionDisable,"disable")),Pe=d(()=>b.value.map(me.value)),El=d(()=>{const t={onInput:Yt,onChange:ue,onKeydown:Kt,onKeyup:Wt,onKeypress:Nt,onFocus:jt,onClick(w){A===!0&&Ne(w)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=ue,t});he(b,t=>{p=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&a.innerLoading.value!==!0&&(v.value!==!0&&u.value!==!0||te.value!==!0)&&(M!==!0&&We(),(v.value===!0||u.value===!0)&&Re(""))},{immediate:!0}),he(()=>e.fillInput,We),he(u,pt),he(r,Yl);function Dt(t){return e.emitValue===!0?me.value(t):t}function St(t){if(t!==-1&&t<b.value.length)if(e.multiple===!0){const w=e.modelValue.slice();n("remove",{index:t,value:w.splice(t,1)[0]}),n("update:modelValue",w)}else n("update:modelValue",null)}function $l(t){St(t),a.focus()}function Rt(t,w){const k=Dt(t);if(e.multiple!==!0){e.fillInput===!0&&Ze(ve.value(t),!0,!0),n("update:modelValue",k);return}if(b.value.length===0){n("add",{index:0,value:k}),n("update:modelValue",e.multiple===!0?[k]:k);return}if(w===!0&&bt(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const Q=e.modelValue.slice();n("add",{index:Q.length,value:k}),Q.push(k),n("update:modelValue",Q)}function Ae(t,w){if(a.editable.value!==!0||t===void 0||xe.value(t)===!0)return;const k=me.value(t);if(e.multiple!==!0){w!==!0&&(Ze(e.fillInput===!0?ve.value(t):"",!0,!0),Ie()),N.value?.focus(),(b.value.length===0||et(me.value(b.value[0]),k)!==!0)&&n("update:modelValue",e.emitValue===!0?k:t);return}if((A!==!0||m.value===!0)&&a.focus(),jt(),b.value.length===0){const G=e.emitValue===!0?k:t;n("add",{index:0,value:G}),n("update:modelValue",e.multiple===!0?[G]:G);return}const Q=e.modelValue.slice(),Z=Pe.value.findIndex(G=>et(G,k));if(Z!==-1)n("remove",{index:Z,value:Q.splice(Z,1)[0]});else{if(e.maxValues!==void 0&&Q.length>=e.maxValues)return;const G=e.emitValue===!0?k:t;n("add",{index:Q.length,value:G}),Q.push(G)}n("update:modelValue",Q)}function De(t){if(S.platform.is.desktop!==!0)return;const w=t!==-1&&t<r.value?t:-1;o.value!==w&&(o.value=w)}function st(t=1,w){if(u.value===!0){let k=o.value;do k=nl(k+t,-1,r.value-1);while(k!==-1&&k!==o.value&&xe.value(e.options[k])===!0);o.value!==k&&(De(k),D(k),w!==!0&&e.useInput===!0&&e.fillInput===!0&&ct(k>=0?ve.value(e.options[k]):L,!0))}}function Ll(t,w){const k=Q=>et(me.value(Q),t);return e.options.find(k)||w.find(k)||t}function bt(t){const w=me.value(t);return Pe.value.find(k=>et(k,w))!==void 0}function jt(t){e.useInput===!0&&N.value!==null&&(t===void 0||N.value===t.target&&t.target.value===F.value)&&N.value.select()}function Qt(t){zl(t,27)===!0&&u.value===!0&&(Ne(t),Ie(),We()),n("keyup",t)}function Wt(t){const{value:w}=t.target;if(t.keyCode!==void 0){Qt(t);return}if(t.target.value="",y!==null&&(clearTimeout(y),y=null),g!==null&&(clearTimeout(g),g=null),We(),typeof w=="string"&&w.length!==0){const k=w.toLocaleLowerCase(),Q=G=>{const ce=e.options.find(ae=>String(G.value(ae)).toLocaleLowerCase()===k);return ce===void 0?!1:(b.value.indexOf(ce)===-1?Ae(ce):Ie(),!0)},Z=G=>{Q(me)!==!0&&G!==!0&&Q(ve)!==!0&&Re(w,!0,()=>Z(!0))};Z()}else a.clearValue(t)}function Nt(t){n("keypress",t)}function Kt(t){if(n("keydown",t),no(t)===!0)return;const w=s.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),k=t.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(o.value!==-1||w===!0);if(t.keyCode===27){kt(t);return}if(t.keyCode===9&&k===!1){je();return}if(t.target===void 0||t.target.id!==a.targetUid.value||a.editable.value!==!0)return;if(t.keyCode===40&&a.innerLoading.value!==!0&&u.value===!1){Ve(t),Qe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&s.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?St(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof s.value!="string"||s.value.length===0)&&(Ve(t),o.value=-1,st(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&x.value!==void 0&&(Ve(t),o.value=Math.max(-1,Math.min(r.value,o.value+(t.keyCode===33?-1:1)*x.value.view)),st(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(Ve(t),st(t.keyCode===38?-1:1,e.multiple));const Q=r.value;if((I===void 0||P<Date.now())&&(I=""),Q>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||I.length!==0)){u.value!==!0&&Qe(t);const Z=t.key.toLocaleLowerCase(),G=I.length===1&&I[0]===Z;P=Date.now()+1500,G===!1&&(Ve(t),I+=Z);const ce=new RegExp("^"+I.split("").map(wt=>an.indexOf(wt)!==-1?"\\"+wt:wt).join(".*"),"i");let ae=o.value;if(G===!0||ae<0||ce.test(ve.value(e.options[ae]))!==!0)do ae=nl(ae+1,-1,Q-1);while(ae!==o.value&&(xe.value(e.options[ae])===!0||ce.test(ve.value(e.options[ae]))!==!0));o.value!==ae&&ze(()=>{De(ae),D(ae),ae>=0&&e.useInput===!0&&e.fillInput===!0&&ct(ve.value(e.options[ae]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||I!=="")&&(t.keyCode!==9||k===!1))){if(t.keyCode!==9&&Ve(t),o.value!==-1&&o.value<Q){Ae(e.options[o.value]);return}if(w===!0){const Z=(G,ce)=>{if(ce){if(bl(ce)!==!0)return}else ce=e.newValueMode;if(Ze("",e.multiple!==!0,!0),G==null)return;(ce==="toggle"?Ae:Rt)(G,ce==="add-unique"),e.multiple!==!0&&(N.value?.focus(),Ie())};if(e.onNewValue!==void 0?n("newValue",s.value,Z):Z(s.value),e.multiple!==!0)return}u.value===!0?je():a.innerLoading.value!==!0&&Qe()}}function Ut(){return A===!0?oe.value:Y.value!==null&&Y.value.contentEl!==null?Y.value.contentEl:void 0}function Hl(){return Ut()}function Fl(){return e.hideSelected===!0?[]:l["selected-item"]!==void 0?Ce.value.map(t=>l["selected-item"](t)).slice():l.selected!==void 0?[].concat(l.selected()):e.useChips===!0?Ce.value.map((t,w)=>z(bo,{key:"option-"+w,removable:a.editable.value===!0&&xe.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ye.value,onRemove(){t.removeAtIndex(w)}},()=>z("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:ve.value(t.opt)}))):[z("span",{class:"ellipsis",[He.value===!0?"innerHTML":"textContent"]:J.value})]}function Xt(){if(X.value===!0)return l["no-option"]!==void 0?l["no-option"]({inputValue:s.value}):void 0;const t=l.option!==void 0?l.option:k=>z(No,{key:k.index,...k.itemProps},()=>z(Ko,()=>z(Uo,()=>z("span",{[k.html===!0?"innerHTML":"textContent"]:k.label}))));let w=O("div",we.value.map(t));return l["before-options"]!==void 0&&(w=l["before-options"]().concat(w)),$t(l["after-options"],w)}function Pl(t,w){const k=w===!0?{...Fe.value,...a.splitAttrs.attributes.value}:void 0,Q={ref:w===!0?N:void 0,key:"i_t",class:_.value,style:e.inputStyle,value:s.value!==void 0?s.value:"",type:"search",...k,id:w===!0?a.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...El.value};return t!==!0&&A===!0&&(Array.isArray(Q.class)===!0?Q.class=[...Q.class,"no-pointer-events"]:Q.class+=" no-pointer-events"),z("input",Q)}function Yt(t){y!==null&&(clearTimeout(y),y=null),g!==null&&(clearTimeout(g),g=null),!(t&&t.target&&t.target.qComposing===!0)&&(ct(t.target.value||""),M=!0,L=s.value,a.focused.value!==!0&&(A!==!0||m.value===!0)&&a.focus(),e.onFilter!==void 0&&(y=setTimeout(()=>{y=null,Re(s.value)},e.inputDebounce)))}function ct(t,w){s.value!==t&&(s.value=t,w===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",t):g=setTimeout(()=>{g=null,n("inputValue",t)},e.inputDebounce))}function Ze(t,w,k){M=k!==!0,e.useInput===!0&&(ct(t,!0),(w===!0||k!==!0)&&(L=t),w!==!0&&Re(t))}function Re(t,w,k){if(e.onFilter===void 0||w!==!0&&a.focused.value!==!0)return;a.innerLoading.value===!0?n("filterAbort"):(a.innerLoading.value=!0,i.value=!0),t!==""&&e.multiple!==!0&&b.value.length!==0&&M!==!0&&t===ve.value(b.value[0])&&(t="");const Q=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);j!==null&&clearTimeout(j),j=Q,n("filter",t,(Z,G)=>{(w===!0||a.focused.value===!0)&&j===Q&&(clearTimeout(j),typeof Z=="function"&&Z(),i.value=!1,ze(()=>{a.innerLoading.value=!1,a.editable.value===!0&&(w===!0?u.value===!0&&Ie():u.value===!0?pt(!0):u.value=!0),typeof G=="function"&&ze(()=>{G(f)}),typeof k=="function"&&ze(()=>{k(f)})}))},()=>{a.focused.value===!0&&j===Q&&(clearTimeout(j),a.innerLoading.value=!1,i.value=!1),u.value===!0&&(u.value=!1)})}function Dl(){return z(Mo,{ref:Y,class:V.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&X.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:K.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:q.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,..._e.value,onScrollPassive:$,onBeforeShow:Jt,onBeforeHide:Rl,onShow:jl},Xt)}function Rl(t){Zt(t),je()}function jl(){ee()}function Ql(t){Ne(t),N.value?.focus(),m.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Wl(t){Ne(t),ze(()=>{m.value=!1})}function Nl(){const t=[z(Wo,{class:`col-auto ${a.fieldClass.value}`,...H.value,for:a.targetUid.value,dark:K.value,square:!0,loading:i.value,itemAligned:!1,filled:!0,stackLabel:s.value.length!==0,...a.splitAttrs.listeners.value,onFocus:Ql,onBlur:Wl},{...l,rawControl:()=>a.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(z("div",{ref:oe,class:V.value+" scroll",style:e.popupContentStyle,..._e.value,onClick:kt,onScrollPassive:$},Xt())),z(Bl,{ref:le,modelValue:v.value,position:e.useInput===!0?"top":void 0,transitionShow:U,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:Jt,onBeforeHide:Kl,onHide:Ul,onShow:Xl},()=>z("div",{class:"q-select__dialog"+(K.value===!0?" q-select__dialog--dark q-dark":"")+(m.value===!0?" q-select__dialog--focused":"")},t))}function Kl(t){Zt(t),le.value!==null&&le.value.__updateRefocusTarget(a.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),a.focused.value=!1}function Ul(t){Ie(),a.focused.value===!1&&n("blur",t),We()}function Xl(){const t=document.activeElement;(t===null||t.id!==a.targetUid.value)&&N.value!==null&&N.value!==t&&N.value.focus(),ee()}function je(){v.value!==!0&&(o.value=-1,u.value===!0&&(u.value=!1),a.focused.value===!1&&(j!==null&&(clearTimeout(j),j=null),a.innerLoading.value===!0&&(n("filterAbort"),a.innerLoading.value=!1,i.value=!1)))}function Qe(t){a.editable.value===!0&&(A===!0?(a.onControlFocusin(t),v.value=!0,ze(()=>{a.focus()})):a.focus(),e.onFilter!==void 0?Re(s.value):(X.value!==!0||l["no-option"]!==void 0)&&(u.value=!0))}function Ie(){v.value=!1,je()}function We(){e.useInput===!0&&Ze(e.multiple!==!0&&e.fillInput===!0&&b.value.length!==0&&ve.value(b.value[0])||"",!0,!0)}function pt(t){let w=-1;if(t===!0){if(b.value.length!==0){const k=me.value(b.value[0]);w=e.options.findIndex(Q=>et(me.value(Q),k))}h(w)}De(w)}function Yl(t,w){u.value===!0&&a.innerLoading.value===!1&&(h(-1,!0),ze(()=>{u.value===!0&&a.innerLoading.value===!1&&(t>w?h():pt(!0))}))}function Gt(){v.value===!1&&Y.value!==null&&Y.value.updatePosition()}function Jt(t){t!==void 0&&Ne(t),n("popupShow",t),a.hasPopupOpen=!0,a.onControlFocusin(t)}function Zt(t){t!==void 0&&Ne(t),n("popupHide",t),a.hasPopupOpen=!1,a.onControlFocusout(t)}function el(){A=S.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?l["no-option"]!==void 0||e.onFilter!==void 0||X.value===!1:!0),U=S.platform.is.ios===!0&&A===!0&&e.useInput===!0?"fade":e.transitionShow}return ao(el),io(Gt),el(),Le(()=>{y!==null&&clearTimeout(y),g!==null&&clearTimeout(g)}),Object.assign(f,{showPopup:Qe,hidePopup:Ie,removeAtIndex:St,add:Rt,toggleOption:Ae,getOptionIndex:()=>o.value,setOptionIndex:De,moveOptionSelection:st,filter:Re,updateMenuPosition:Gt,updateInputValue:Ze,isOptionSelected:bt,getEmittingOptionValue:Dt,isOptionDisabled:(...t)=>xe.value.apply(null,t)===!0,getOptionValue:(...t)=>me.value.apply(null,t),getOptionLabel:(...t)=>ve.value.apply(null,t)}),Object.assign(a,{innerValue:b,fieldClass:d(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:ie,targetRef:N,hasValue:te,showPopup:Qe,floatingLabel:d(()=>e.hideSelected!==!0&&te.value===!0||typeof s.value=="number"||s.value.length!==0||ll(e.displayValue)),getControlChild:()=>{if(a.editable.value!==!1&&(v.value===!0||X.value!==!0||l["no-option"]!==void 0))return A===!0?Nl():Dl();a.hasPopupOpen===!0&&(a.hasPopupOpen=!1)},controlEvents:{onFocusin(t){a.onControlFocusin(t)},onFocusout(t){a.onControlFocusout(t,()=>{We(),je()})},onClick(t){if(kt(t),A!==!0&&u.value===!0){je(),N.value?.focus();return}Qe(t)}},getControl:t=>{const w=Fl(),k=t===!0||v.value!==!0||A!==!0;if(e.useInput===!0)w.push(Pl(t,k));else if(a.editable.value===!0){const Z=k===!0?Fe.value:void 0;w.push(z("input",{ref:k===!0?N:void 0,key:"d_t",class:"q-select__focus-target",id:k===!0?a.targetUid.value:void 0,value:J.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...Z,onKeydown:Kt,onKeyup:Qt,onKeypress:Nt})),k===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&w.push(z("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Wt}))}if(ne.value!==void 0&&e.disable!==!0&&Pe.value.length!==0){const Z=Pe.value.map(G=>z("option",{value:G,selected:!0}));w.push(z("select",{class:"hidden",name:ne.value,multiple:e.multiple},Z))}const Q=e.useInput===!0||k!==!0?void 0:a.splitAttrs.attributes.value;return z("div",{class:"q-field__native row items-center",...Q,...a.splitAttrs.listeners.value},w)},getInnerAppend:()=>e.loading!==!0&&i.value!==!0&&e.hideDropdownIcon!==!0?[z(ht,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:R.value})]:null}),Al(a)}}),sn=ge({name:"QBtnToggle",props:{...Ml,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(l=>("label"in l||"icon"in l||"slot"in l)&&"value"in l)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:l,emit:n}){const f=d(()=>e.options.find(g=>g.value===e.modelValue)!==void 0),S=d(()=>({type:"hidden",name:e.name,value:e.modelValue})),u=So(S),v=d(()=>ro(e)),o=d(()=>({rounded:e.rounded,dense:e.dense,...v.value})),s=d(()=>e.options.map((g,p)=>{const{attrs:A,value:M,slot:j,...L}=g;return{slot:j,props:{key:p,"aria-pressed":M===e.modelValue?"true":"false",...A,...L,...o.value,disable:e.disable===!0||L.disable===!0,color:M===e.modelValue?i(L,"toggleColor"):i(L,"color"),textColor:M===e.modelValue?i(L,"toggleTextColor"):i(L,"textColor"),noCaps:i(L,"noCaps")===!0,noWrap:i(L,"noWrap")===!0,size:i(L,"size"),padding:i(L,"padding"),ripple:i(L,"ripple"),stack:i(L,"stack")===!0,stretch:i(L,"stretch")===!0,onClick(U){m(M,g,U)}}}}));function m(g,p,A){e.readonly!==!0&&(e.modelValue===g?e.clearable===!0&&(n("update:modelValue",null,null),n("clear")):n("update:modelValue",g,p),n("click",A))}function i(g,p){return g[p]===void 0?e[p]:g[p]}function y(){const g=s.value.map(p=>z(de,p.props,p.slot!==void 0?l[p.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&f.value===!0&&u(g,"push"),$t(l.default,g)}return()=>z(Bo,{class:"q-btn-toggle",...v.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},y)}}),cn=ge({name:"QSpace",setup(){const e=z("div",{class:"q-space"});return()=>e}}),dn={ratio:[String,Number]};function vn(e,l){return d(()=>{const n=Number(e.ratio||(l!==void 0?l.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const fn=1.7778,mn=ge({name:"QImg",props:{...dn,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:fn},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:l,emit:n}){const f=C(e.initialRatio),S=vn(e,f),u=$e(),{registerTimeout:v,removeTimeout:o}=Et(),{registerTimeout:s,removeTimeout:m}=Et(),i=d(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),y=d(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),g=[C(null),C(i.value)],p=C(0),A=C(!1),M=C(!1),j=d(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),L=d(()=>({width:e.width,height:e.height})),U=d(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),I=d(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function P(){if(m(),e.loadingShowDelay===0){A.value=!0;return}s(()=>{A.value=!0},e.loadingShowDelay)}function ie(){m(),A.value=!1}function N({target:r}){_t(u)===!1&&(o(),f.value=r.naturalHeight===0?.5:r.naturalWidth/r.naturalHeight,Y(r,1))}function Y(r,B){B===1e3||_t(u)===!0||(r.complete===!0?le(r):v(()=>{Y(r,B+1)},50))}function le(r){_t(u)!==!0&&(p.value=p.value^1,g[p.value].value=null,ie(),r.getAttribute("__qerror")!=="true"&&(M.value=!1),n("load",r.currentSrc||r.src))}function oe(r){o(),ie(),M.value=!0,g[p.value].value=y.value,g[p.value^1].value=i.value,n("error",r)}function ne(r){const B=g[r].value,c={key:"img_"+r,class:U.value,style:I.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...B};return p.value===r?Object.assign(c,{class:c.class+"current",onLoad:N,onError:oe}):c.class+="loaded",z("div",{class:"q-img__container absolute-full",key:"img"+r},z("img",c))}function ue(){return A.value===!1?z("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},ut(l[M.value===!0?"error":"default"])):z("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},l.loading!==void 0?l.loading():e.noSpinner===!0?void 0:[z(so,{color:e.spinnerColor,size:e.spinnerSize})])}{let r=function(){he(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,B=>{o(),M.value=!1,B===null?(ie(),g[p.value^1].value=i.value):P(),g[p.value].value=B},{immediate:!0})};uo.value===!0?Lt(r):r()}return()=>{const r=[];return S.value!==null&&r.push(z("div",{key:"filler",style:S.value})),g[0].value!==null&&r.push(ne(0)),g[1].value!==null&&r.push(ne(1)),r.push(z(Bt,{name:"q-transition--fade"},ue)),z("div",{key:"main",class:j.value,style:L.value,role:"img","aria-label":e.alt},r)}}}),gn={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},It={xs:2,sm:4,md:8,lg:16,xl:24},hn=ge({name:"QSeparator",props:{...Ft,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const l=$e(),n=Pt(e,l.proxy.$q),f=d(()=>e.vertical===!0?"vertical":"horizontal"),S=d(()=>` q-separator--${f.value}`),u=d(()=>e.inset!==!1?`${S.value}-${gn[e.inset]}`:""),v=d(()=>`q-separator${S.value}${u.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(n.value===!0?" q-separator--dark":"")),o=d(()=>{const s={};if(e.size!==void 0&&(s[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const m=e.spaced===!0?`${It.md}px`:e.spaced in It?`${It[e.spaced]}px`:e.spaced,i=e.vertical===!0?["Left","Right"]:["Top","Bottom"];s[`margin${i[0]}`]=s[`margin${i[1]}`]=m}return s});return()=>z("hr",{class:v.value,style:o.value,"aria-orientation":f.value})}}),yn=ge({name:"QCardActions",props:{...co,vertical:Boolean},setup(e,{slots:l}){const n=vo(e),f=d(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>z("div",{class:f.value},ut(l.default))}}),Sn=ge({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[z("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),z("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),Ot(z("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),Ot(z("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),pl=["vertical","horizontal"],Mt={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},wl={prevent:!0,mouse:!0,mouseAllDir:!0},kl=e=>e>=250?50:Math.ceil(e/5),bn=ge({name:"QScrollArea",props:{...Ft,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:l,emit:n}){const f=C(!1),S=C(!1),u=C(!1),v={vertical:C(0),horizontal:C(0)},o={vertical:{ref:C(null),position:C(0),size:C(0)},horizontal:{ref:C(null),position:C(0),size:C(0)}},{proxy:s}=$e(),m=Pt(e,s.$q);let i=null,y;const g=C(null),p=d(()=>"q-scrollarea"+(m.value===!0?" q-scrollarea--dark":""));Object.assign(v,{verticalInner:d(()=>v.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:d(()=>v.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),o.vertical.percentage=d(()=>{const c=o.vertical.size.value-v.vertical.value;if(c<=0)return 0;const x=ot(o.vertical.position.value/c,0,1);return Math.round(x*1e4)/1e4}),o.vertical.thumbHidden=d(()=>(e.visible===null?u.value:e.visible)!==!0&&f.value===!1&&S.value===!1||o.vertical.size.value<=v.vertical.value+1),o.vertical.thumbStart=d(()=>e.verticalOffset[0]+o.vertical.percentage.value*(v.verticalInner.value-o.vertical.thumbSize.value)),o.vertical.thumbSize=d(()=>Math.round(ot(v.verticalInner.value*v.verticalInner.value/o.vertical.size.value,kl(v.verticalInner.value),v.verticalInner.value))),o.vertical.style=d(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${o.vertical.thumbStart.value}px`,height:`${o.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),o.vertical.thumbClass=d(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(o.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),o.vertical.barClass=d(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(o.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),o.horizontal.percentage=d(()=>{const c=o.horizontal.size.value-v.horizontal.value;if(c<=0)return 0;const x=ot(Math.abs(o.horizontal.position.value)/c,0,1);return Math.round(x*1e4)/1e4}),o.horizontal.thumbHidden=d(()=>(e.visible===null?u.value:e.visible)!==!0&&f.value===!1&&S.value===!1||o.horizontal.size.value<=v.horizontal.value+1),o.horizontal.thumbStart=d(()=>e.horizontalOffset[0]+o.horizontal.percentage.value*(v.horizontalInner.value-o.horizontal.thumbSize.value)),o.horizontal.thumbSize=d(()=>Math.round(ot(v.horizontalInner.value*v.horizontalInner.value/o.horizontal.size.value,kl(v.horizontalInner.value),v.horizontalInner.value))),o.horizontal.style=d(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[s.$q.lang.rtl===!0?"right":"left"]:`${o.horizontal.thumbStart.value}px`,width:`${o.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),o.horizontal.thumbClass=d(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(o.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),o.horizontal.barClass=d(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(o.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const A=d(()=>o.vertical.thumbHidden.value===!0&&o.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function M(){const c={};return pl.forEach(x=>{const h=o[x];Object.assign(c,{[x+"Position"]:h.position.value,[x+"Percentage"]:h.percentage.value,[x+"Size"]:h.size.value,[x+"ContainerSize"]:v[x].value,[x+"ContainerInnerSize"]:v[x+"Inner"].value})}),c}const j=xl(()=>{const c=M();c.ref=s,n("scroll",c)},0);function L(c,x,h){if(pl.includes(c)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(c==="vertical"?sl:Ct)(g.value,x,h)}function U({height:c,width:x}){let h=!1;v.vertical.value!==c&&(v.vertical.value=c,h=!0),v.horizontal.value!==x&&(v.horizontal.value=x,h=!0),h===!0&&Y()}function I({position:c}){let x=!1;o.vertical.position.value!==c.top&&(o.vertical.position.value=c.top,x=!0),o.horizontal.position.value!==c.left&&(o.horizontal.position.value=c.left,x=!0),x===!0&&Y()}function P({height:c,width:x}){o.horizontal.size.value!==x&&(o.horizontal.size.value=x,Y()),o.vertical.size.value!==c&&(o.vertical.size.value=c,Y())}function ie(c,x){const h=o[x];if(c.isFirst===!0){if(h.thumbHidden.value===!0)return;y=h.position.value,S.value=!0}else if(S.value!==!0)return;c.isFinal===!0&&(S.value=!1);const O=Mt[x],$=(h.size.value-v[x].value)/(v[x+"Inner"].value-h.thumbSize.value),D=c.distance[O.dist],ee=y+(c.direction===O.dir?1:-1)*D*$;le(ee,x)}function N(c,x){const h=o[x];if(h.thumbHidden.value!==!0){const O=x==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],$=c[Mt[x].offset]-O,D=h.thumbStart.value-O;if($<D||$>D+h.thumbSize.value){const ee=$-h.thumbSize.value/2,a=ot(ee/(v[x+"Inner"].value-h.thumbSize.value),0,1);le(a*Math.max(0,h.size.value-v[x].value),x)}h.ref.value!==null&&h.ref.value.dispatchEvent(new MouseEvent(c.type,c))}}function Y(){f.value=!0,i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,f.value=!1},e.delay),e.onScroll!==void 0&&j()}function le(c,x){g.value[Mt[x].scroll]=c}let oe=null;function ne(){oe!==null&&clearTimeout(oe),oe=setTimeout(()=>{oe=null,u.value=!0},s.$q.platform.is.ios?50:0)}function ue(){oe!==null&&(clearTimeout(oe),oe=null),u.value=!1}let r=null;he(()=>s.$q.lang.rtl,c=>{g.value!==null&&Ct(g.value,Math.abs(o.horizontal.position.value)*(c===!0?-1:1))}),ql(()=>{r={top:o.vertical.position.value,left:o.horizontal.position.value}}),Tl(()=>{if(r===null)return;const c=g.value;c!==null&&(Ct(c,r.left),sl(c,r.top))}),Le(j.cancel),Object.assign(s,{getScrollTarget:()=>g.value,getScroll:M,getScrollPosition:()=>({top:o.vertical.position.value,left:o.horizontal.position.value}),getScrollPercentage:()=>({top:o.vertical.percentage.value,left:o.horizontal.percentage.value}),setScrollPosition:L,setScrollPercentage(c,x,h){L(c,x*(o[c].size.value-v[c].value)*(c==="horizontal"&&s.$q.lang.rtl===!0?-1:1),h)}});const B={scroll:o,thumbVertDir:[[al,c=>{ie(c,"vertical")},void 0,{vertical:!0,...wl}]],thumbHorizDir:[[al,c=>{ie(c,"horizontal")},void 0,{horizontal:!0,...wl}]],onVerticalMousedown(c){N(c,"vertical")},onHorizontalMousedown(c){N(c,"horizontal")}};return()=>z("div",{class:p.value,onMouseenter:ne,onMouseleave:ue},[z("div",{ref:g,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[z("div",{class:"q-scrollarea__content absolute",style:A.value},$t(l.default,[z(ul,{debounce:0,onResize:P})])),z(Oo,{axis:"both",onScroll:I})]),z(ul,{debounce:0,onResize:U}),z(Sn,{store:B,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}});function pn(e=180){const l=C(e),n=C(null),f=C(0);function S(i=1){f.value+=i}function u(){f.value=0}const v=d(()=>{const i=Math.floor(l.value/60),y=l.value%60;return`${i}:${y.toString().padStart(2,"0")}`});function o(){n.value||(n.value=setInterval(()=>{l.value>0?l.value--:(clearInterval(n.value),n.value=null,console.log("Time is up!"))},1e3))}function s(){n.value&&(clearInterval(n.value),n.value=null)}function m(){s(),l.value=e,u(),o()}return Le(()=>{s()}),{gameTime:l,score:f,formattedTime:v,addScore:S,resetTimer:m,startTimer:o,stopTimer:s}}function wn(e,l=[]){const n=C(l),f=C("collision"),S=C(1),u=C(null),v=C([]),o=C(null),s=C([]),m=C(null),i=C(""),y=C(""),g=C(!1),p=d(()=>{const r={};return y.value&&(r.backgroundImage=`url('${y.value}')`),r}),A=d(()=>s.value.map(r=>({label:r.name,value:r.id})));he(m,r=>{if(r){const B=s.value.find(c=>c.id===r);B&&(i.value=B.name,y.value=B.background_image_url||"")}else i.value="",y.value=""}),he(v,async()=>{await ze(),o.value&&(o.value.scrollTop=o.value.scrollHeight)},{deep:!0});function M(r,B="info"){const c=new Date,x=`${c.getHours().toString().padStart(2,"0")}:${c.getMinutes().toString().padStart(2,"0")}:${c.getSeconds().toString().padStart(2,"0")}`;v.value.push({timestamp:x,message:r,type:B})}function j(){v.value=[]}async function L(){try{const r=localStorage.getItem("authToken")||"dummy-token",B=await dt.get("/api/vue-game/food-running/templates",{headers:{Authorization:`Bearer ${r}`}});s.value=B.data,M("","system")}catch(r){console.error("Failed to fetch map templates:",r),e.notify({color:"negative",message:""})}}async function U(){if(m.value)try{const r=localStorage.getItem("authToken")||"dummy-token",c=(await dt.get(`/api/vue-game/food-running/templates/${m.value}`,{headers:{Authorization:`Bearer ${r}`}})).data;n.value=c.obstacles||[],i.value=c.name,y.value=c.background_image_url||"",n.value.length>0?S.value=Math.max(...n.value.map(x=>x.id))+1:S.value=1,M(`: ${c.name}`,"system"),e.notify({color:"positive",message:` '${c.name}'`})}catch(r){console.error("Failed to load map template:",r),e.notify({color:"negative",message:""})}}async function I(){if(!i.value){e.notify({color:"warning",message:""});return}try{const r=localStorage.getItem("authToken")||"dummy-token",B={name:i.value,obstacles:n.value,background_image_url:y.value},c=await dt.post("/api/vue-game/food-running/templates",B,{headers:{Authorization:`Bearer ${r}`}});M(`: ${c.data.template.name}`,"system"),e.notify({color:"positive",message:""}),await L(),m.value=c.data.template.id}catch(r){console.error("Failed to save map template:",r);const B=r.response?.data?.error||"";e.notify({color:"negative",message:B})}}function P(r){m.value=r,U(),g.value=!1}function ie(r,B){e.dialog({title:"",message:` "${B}" (ID: ${r}) `,cancel:!0,persistent:!0,ok:{color:"negative",label:""}}).onOk(()=>{N(r)})}async function N(r){try{const B=localStorage.getItem("authToken")||"dummy-token";await dt.delete(`/api/vue-game/food-running/templates/${r}`,{headers:{Authorization:`Bearer ${B}`}}),e.notify({color:"positive",message:""}),await L(),m.value===r&&(m.value=null)}catch(B){console.error("Failed to delete map template:",B),e.notify({color:"negative",message:""})}}function Y(r){const B=r.currentTarget.getBoundingClientRect(),c=.5,x=(r.clientX-B.left)/c,h=(r.clientY-B.top)/c,O=40,$=Math.round(x/O)*O,D=Math.round(h/O)*O;n.value.push({id:S.value,x:$,y:D,type:f.value}),S.value++}function le(){const r=Math.floor(Math.random()*900)+50,B=Math.floor(Math.random()*900)+50;n.value.push({id:S.value,x:r,y:B,type:f.value}),S.value++}function oe(r){n.value.splice(r,1)}function ne(){n.value=[],S.value=1,M("","system")}function ue(){const r=n.value.map(c=>({id:c.id,x:c.x,y:c.y,type:c.type})),B=JSON.stringify(r,null,2);navigator.clipboard.writeText(B).then(()=>{e.notify({message:"",color:"positive",icon:"content_copy"})}).catch(c=>{e.notify({message:"",color:"negative",icon:"report_problem"}),console.error(":",c)})}return{obstacles:n,brushType:f,nextObstacleId:S,activeTriggerId:u,eventLogs:v,logConsole:o,mapTemplates:s,selectedTemplateId:m,templateName:i,mapBackgroundImageUrl:y,isTemplateManagerOpen:g,gameWorldStyle:p,mapTemplateOptions:A,addLog:M,clearLogs:j,fetchMapTemplates:L,loadMapTemplate:U,saveMapTemplate:I,loadTemplateAndClose:P,confirmDeleteTemplate:ie,deleteTemplate:N,handlePlanningMapClick:Y,addObstacle:le,removeObstacle:oe,clearObstacles:ne,copyObstaclesData:ue}}const Xe=48,Ye=38,mt=40,gt=40,_l=1e3,Cl=1e3;function kn(e,l,n,f){const S=C(null),u=C(null),v=C(null),o=C(null),s=tt({x:150,y:150}),m=tt({direction:null,baseSpeed:1.5,acceleration:.1,maxSpeed:4,currentSpeed:1.5}),i=C(nt),y=tt({ArrowLeft:!1,ArrowRight:!1,ArrowUp:!1,ArrowDown:!1}),g=tt({visible:!1,message:"",timer:null}),p=C(!1);let A=null;const M=tt({x:0,y:0,zoom:1});function j(h,O){const $={left:h-Xe/2,right:h+Xe/2,top:O-Ye/2,bottom:O+Ye/2};for(const D of e.value.filter(ee=>ee.type==="collision")){const ee={left:D.x-mt/2,right:D.x+mt/2,top:D.y-gt/2,bottom:D.y+gt/2};if($.left<ee.right&&$.right>ee.left&&$.top<ee.bottom&&$.bottom>ee.top)return!0}return!1}function L(){const h={left:s.x-Xe/2,right:s.x+Xe/2,top:s.y-Ye/2,bottom:s.y+Ye/2};let O=null;for(const $ of e.value.filter(D=>D.type==="trigger")){const D={left:$.x-mt/2,right:$.x+mt/2,top:$.y-gt/2,bottom:$.y+gt/2};if(h.left<D.right&&h.right>D.left&&h.top<D.bottom&&h.bottom>D.top){O=$.id;break}}if(O!==l.value){const $=l.value;$!==null&&n(` #${$}`,"leave"),O!==null&&n(` #${O}`,"enter"),l.value=O}}function U(h,O){s.x=Math.max(0+Xe/2,Math.min(_l-Xe/2,h)),s.y=Math.max(0+Ye/2,Math.min(Cl-Ye/2,O))}function I(h){switch(m.direction=h,h){case"left":i.value=Po;break;case"right":i.value=Do;break;case"up":i.value=Ro;break;case"down":i.value=nt;break}p.value||(p.value=!0,ie())}function P(){if(m.direction){m.currentSpeed=Math.min(m.maxSpeed,m.currentSpeed+m.acceleration);let h=s.x,O=s.y;switch(m.direction){case"left":h-=m.currentSpeed;break;case"right":h+=m.currentSpeed;break;case"up":O-=m.currentSpeed;break;case"down":O+=m.currentSpeed;break}let $=s.x,D=s.y;j(h,s.y)||($=h),j($,O)||(D=O),U($,D),Y(),L()}else{m.currentSpeed=m.baseSpeed,p.value=!1;return}A=requestAnimationFrame(P)}function ie(){A&&cancelAnimationFrame(A),A=requestAnimationFrame(P)}function N(){A&&(cancelAnimationFrame(A),A=null),p.value=!1,m.currentSpeed=m.baseSpeed}function Y(){if(!v.value)return;const h=v.value.clientWidth,O=v.value.clientHeight;let $=-s.x+h/2,D=-s.y+O/2;const ee=h-_l*M.zoom,a=O-Cl*M.zoom;M.x=Math.min(0,Math.max(ee,$)),M.y=Math.min(0,Math.max(a,D)),le()}function le(){u.value&&(u.value.style.transform=`translate(${M.x}px, ${M.y}px) scale(${M.zoom})`),S.value&&(S.value.style.left=`${s.x}px`,S.value.style.top=`${s.y}px`)}function oe(){M.zoom=1,s.x=150,s.y=150,i.value=nt,m.direction=null,m.currentSpeed=m.baseSpeed,N(),Object.keys(y).forEach(h=>{y[h]=!1}),Y()}function ne(h){["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(h.key)&&(h.preventDefault(),y[h.key]=!0,y.ArrowLeft?I("left"):y.ArrowRight?I("right"):y.ArrowUp?I("up"):y.ArrowDown&&I("down"))}function ue(h){["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(h.key)&&(h.preventDefault(),y[h.key]=!1,Object.values(y).some($=>$)?y.ArrowLeft?I("left"):y.ArrowRight?I("right"):y.ArrowUp?I("up"):y.ArrowDown&&I("down"):(m.direction=null,i.value=nt,N()))}function r(){if(!o.value)return;const h={zone:o.value,mode:"static",position:{left:"50%",top:"50%"},color:"blue",size:100},O=Fo.create(h);O.on("move",($,D)=>{D.direction&&I(D.direction.angle)}),O.on("end",()=>{m.direction=null,i.value=nt,N()})}function B(){window.addEventListener("keydown",ne),window.addEventListener("keyup",ue),f.platform.is.mobile&&o.value&&r()}function c(){window.removeEventListener("keydown",ne),window.removeEventListener("keyup",ue),N()}function x(){g.message="HI",g.visible=!0,g.timer&&clearTimeout(g.timer),g.timer=setTimeout(()=>{g.visible=!1},2e3)}return Lt(()=>{B(),oe()}),Le(()=>{c()}),{player:S,gameWorld:u,cameraContainer:v,joystickZone:o,playerPosition:s,currentSprite:i,playerSpeech:g,cameraState:M,sayHi:x}}function _n(e){const l=C(Array(6).fill(null)),n=C(-1);function f(o){const s=l.value.findIndex(m=>!m);return s!==-1?(l.value[s]=o,!0):!1}function S(o){n.value=n.value===o?-1:o,l.value[o]&&e(`: ${l.value[o].name}`,"system")}function u(){const o=["restaurant","local_pizza","cake","local_cafe","fastfood","local_bar","icecream","set_meal","bakery_dining","brunch_dining","lunch_dining","dinner_dining"],m={icon:o[Math.floor(Math.random()*o.length)],name:` ${Math.floor(Math.random()*100)+1}`};f(m)?e(`: ${m.name}`,"system"):e("","system")}function v(){l.value.fill(null),n.value=-1,e("","system")}return{inventory:l,selectedInventorySlot:n,selectInventorySlot:S,addRandomItem:u,clearInventory:v}}const Cn={class:"dev-button-container"},zn={class:"game-stats-container"},xn={class:"score-container"},qn={key:0,class:"speech-bubble"},Tn={key:0,class:"mobile-controls-container q-mt-md"},Vn={class:"action-button-zone"},An={class:"minimap-container q-mt-md"},In={class:"inventory-container"},Mn=["onClick"],Bn={key:0,class:"separator"},On={key:1,class:"right-area"},En={class:"dev-controls"},$n={class:"row q-col-gutter-sm"},Ln={class:"col-12"},Hn={class:"col-12"},Fn={class:"row q-col-gutter-sm"},Pn={class:"col-12"},Dn={class:"col-12"},Rn={class:"map-planning-area q-mt-md"},jn={class:"q-mb-md"},Qn={class:"row q-col-gutter-sm items-center"},Wn={class:"col-8"},Nn={class:"col-4"},Kn={class:"row q-col-gutter-sm items-center q-mt-sm"},Un={class:"col-8"},Xn={class:"col-4"},Yn={class:"row q-col-gutter-sm items-center q-mt-sm"},Gn={class:"col-8"},Jn={class:"row q-mt-sm"},Zn={class:"col-12"},ea={class:"row q-col-gutter-sm q-mb-sm"},ta={class:"col-6"},la={class:"col-6"},oa={class:"row q-col-gutter-sm q-mb-sm"},na={class:"col-12"},aa={class:"map-planning-container"},ia=["onClick","title"],ra={class:"obstacle-number"},ua={class:"event-log-area q-mt-md"},sa={class:"row items-center justify-between q-mb-sm"},ca={class:"log-timestamp"},da={key:0,class:"log-placeholder"},va={class:"row q-col-gutter-md"},fa={class:"absolute-bottom-left custom-caption"},ma=["title"],ga={key:0,class:"col-12 text-center text-grey q-pa-lg"},Te=.18,ha=Object.assign({name:"FoodRunningPage"},{__name:"FoodRunningPage",setup(e){const l=Lo(),{gameTime:n,score:f,formattedTime:S,addScore:u,resetTimer:v,startTimer:o}=pn(180),{obstacles:s,brushType:m,activeTriggerId:i,eventLogs:y,logConsole:g,mapTemplates:p,selectedTemplateId:A,templateName:M,mapBackgroundImageUrl:j,isTemplateManagerOpen:L,gameWorldStyle:U,mapTemplateOptions:I,addLog:P,clearLogs:ie,fetchMapTemplates:N,loadMapTemplate:Y,saveMapTemplate:le,loadTemplateAndClose:oe,confirmDeleteTemplate:ne,handlePlanningMapClick:ue,addObstacle:r,removeObstacle:B,clearObstacles:c,copyObstaclesData:x}=wn(l,[]),{player:h,gameWorld:O,cameraContainer:$,joystickZone:D,playerPosition:ee,currentSprite:a,playerSpeech:b,cameraState:H,sayHi:K}=kn(s,i,P,l),{inventory:te,selectedInventorySlot:_,selectInventorySlot:V,addRandomItem:X,clearInventory:F}=_n(P),J=C(!0),pe=d(()=>({width:J.value?"350px":"100%",flex:J.value?"none":"1",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:(J.value,"flex-start")})),He=d(()=>({width:"330px",margin:"0 auto"})),ye=d(()=>({width:"180px",height:"180px"})),Fe=d(()=>({left:`${ee.x*Te}px`,top:`${ee.y*Te}px`})),_e=d(()=>{if(!$.value)return{};const we=$.value.clientWidth,R=$.value.clientHeight,q=-H.x,fe=-H.y,me=q*Te,ve=fe*Te,xe=we/H.zoom*Te,Pe=R/H.zoom*Te;return{left:`${me}px`,top:`${ve}px`,width:`${xe}px`,height:`${Pe}px`}});function Ce(){J.value=!J.value}return Lt(async()=>{o(),await N();const we=3;p.value.find(q=>q.id===we)?(A.value=we,await Y()):p.value.length>0?(A.value=p.value[0].id,await Y()):P("","system")}),(we,R)=>(re(),se(Be,null,[W($o,{class:"flex row"},{default:ke(()=>[T("div",{class:"left-area",style:Se(pe.value)},[T("div",Cn,[W(de,{round:"",size:"sm",color:"primary",icon:"code",onClick:Ce,class:"dev-mode-toggle",title:J.value?"":""},null,8,["title"])]),T("div",zn,[T("div",xn,[W(ht,{name:"restaurant",size:"20px",class:"q-mr-xs"}),T("span",null,qe(E(f)),1)]),T("div",{class:Ke(["timer",{"timer-warning":E(n)<=30}])},qe(E(S)),3)]),T("div",{class:"camera-test-container q-mt-lg",ref_key:"cameraContainer",ref:$,style:Se(He.value)},[T("div",{class:"game-world",ref_key:"gameWorld",ref:O,style:Se(E(U))},[T("div",{class:"player",ref_key:"player",ref:h},[E(b).visible?(re(),se("div",qn,qe(E(b).message),1)):Oe("",!0),W(Ho,{spriteSheet:E(a),frameWidth:48,frameHeight:38,totalFrames:4,animationDuration:"1s",scale:2},null,8,["spriteSheet"])],512),(re(!0),se(Be,null,Ue(E(s),q=>(re(),se("div",{class:Ke(["obstacle",`obstacle-${q.type}`]),key:q.id,style:Se({left:`${q.x}px`,top:`${q.y}px`})},null,6))),128))],4)],4),E(l).platform.is.mobile?(re(),se("div",Tn,[T("div",{ref_key:"joystickZone",ref:D,class:"joystick-zone"},null,512),T("div",Vn,[W(de,{round:"",color:"red",icon:"campaign",onClick:E(K),size:"lg",push:""},null,8,["onClick"])])])):Oe("",!0),T("div",An,[T("div",In,[(re(),se(Be,null,Ue(6,q=>T("div",{key:q,class:Ke(["inventory-slot",{selected:E(_)===q-1}]),onClick:fe=>E(V)(q-1)},[E(te)[q-1]?.icon?(re(),fo(ht,{key:0,name:E(te)[q-1].icon,size:"24px",class:"inventory-item"},null,8,["name"])):Oe("",!0)],10,Mn)),64))]),T("div",{class:"minimap",style:Se(ye.value)},[T("div",{class:"minimap-world",style:Se(E(U))},[(re(!0),se(Be,null,Ue(E(s),q=>(re(),se("div",{class:Ke(["minimap-obstacle",`obstacle-${q.type}`]),key:q.id,style:Se({left:`${q.x*Te}px`,top:`${q.y*Te}px`})},null,6))),128)),T("div",{class:"minimap-player",style:Se(Fe.value)},null,4),T("div",{class:"viewport-rect",style:Se(_e.value)},null,4)],4)],4)])],4),J.value?(re(),se("div",Bn)):Oe("",!0),J.value?(re(),se("div",On,[T("div",En,[R[8]||(R[8]=T("h5",{class:"q-mt-none q-mb-md"},"",-1)),T("div",$n,[T("div",Ln,[W(de,{color:"negative",icon:"restart_alt",label:"",onClick:E(v),class:"full-width"},null,8,["onClick"])]),T("div",Hn,[W(de,{color:"positive",icon:"add",label:"10",onClick:R[0]||(R[0]=q=>E(u)(10)),class:"full-width"})])]),R[9]||(R[9]=T("h5",{class:"q-mt-md q-mb-md"},"",-1)),T("div",Fn,[T("div",Pn,[W(de,{color:"primary",icon:"add_circle",label:"",onClick:E(X),class:"full-width q-mb-sm"},null,8,["onClick"])]),T("div",Dn,[W(de,{color:"warning",icon:"delete",label:"",onClick:E(F),class:"full-width"},null,8,["onClick"])])])]),T("div",Rn,[R[11]||(R[11]=T("h5",{class:"q-mt-none q-mb-md"},"",-1)),T("div",jn,[T("div",Qn,[T("div",Wn,[W(un,{dense:"",outlined:"",modelValue:E(A),"onUpdate:modelValue":R[1]||(R[1]=q=>lt(A)?A.value=q:null),options:E(I),label:"","emit-value":"","map-options":"",clearable:""},null,8,["modelValue","options"])]),T("div",Nn,[W(de,{color:"secondary",label:"",onClick:E(Y),class:"full-width",disable:!E(A)},null,8,["onClick","disable"])])]),T("div",Kn,[T("div",Un,[W(ol,{dense:"",outlined:"",modelValue:E(M),"onUpdate:modelValue":R[2]||(R[2]=q=>lt(M)?M.value=q:null),label:"",clearable:""},null,8,["modelValue"])]),T("div",Xn,[W(de,{color:"primary",label:"",onClick:E(le),class:"full-width",disable:!E(M)},null,8,["onClick","disable"])])]),T("div",Yn,[T("div",Gn,[W(de,{color:"grey-7",label:"",onClick:R[3]||(R[3]=q=>L.value=!0),class:"full-width",icon:"folder_open"})])]),T("div",Jn,[T("div",Zn,[W(ol,{dense:"",outlined:"",modelValue:E(j),"onUpdate:modelValue":R[4]||(R[4]=q=>lt(j)?j.value=q:null),label:"",clearable:""},null,8,["modelValue"])])])]),W(sn,{modelValue:E(m),"onUpdate:modelValue":R[5]||(R[5]=q=>lt(m)?m.value=q:null),push:"",glossy:"","toggle-color":"primary",class:"full-width q-mb-md",options:[{label:" ()",value:"collision",color:"indigo"},{label:" ()",value:"trigger",color:"red"}]},null,8,["modelValue"]),T("div",ea,[T("div",ta,[W(de,{color:"primary",icon:"add_box",label:"",onClick:E(r),class:"full-width"},null,8,["onClick"])]),T("div",la,[W(de,{color:"negative",icon:"delete_sweep",label:"",onClick:E(c),class:"full-width"},null,8,["onClick"])])]),T("div",oa,[T("div",na,[W(de,{color:"secondary",icon:"content_copy",label:"",onClick:E(x),class:"full-width"},null,8,["onClick"])])]),T("div",aa,[T("div",{class:"planning-map",onClick:R[6]||(R[6]=(...q)=>E(ue)&&E(ue)(...q)),style:Se(E(U))},[R[10]||(R[10]=T("div",{class:"planning-grid"},null,-1)),(re(!0),se(Be,null,Ue(E(s),(q,fe)=>(re(),se("div",{class:Ke(["planning-obstacle",q.type]),key:q.id,style:Se({left:`${q.x}px`,top:`${q.y}px`}),onClick:mo(me=>E(B)(fe),["stop"]),title:`#${q.id} - ${q.type} (${Math.round(q.x)}, ${Math.round(q.y)})`},[T("span",ra,qe(q.id),1)],14,ia))),128))],4)])]),T("div",ua,[T("div",sa,[R[12]||(R[12]=T("h5",{class:"q-mt-none q-mb-none"},"",-1)),W(de,{color:"grey",size:"sm",icon:"delete_sweep",onClick:E(ie),flat:"",dense:"",label:""},null,8,["onClick"])]),T("div",{class:"log-console",ref_key:"logConsole",ref:g},[(re(!0),se(Be,null,Ue(E(y),(q,fe)=>(re(),se("div",{key:fe,class:"log-entry"},[T("span",ca,"["+qe(q.timestamp)+"]",1),T("span",{class:Ke(["log-message",`log-${q.type}`])},qe(q.message),3)]))),128)),E(y).length===0?(re(),se("div",da," ... ")):Oe("",!0)],512)])])):Oe("",!0)]),_:1}),W(Bl,{modelValue:E(L),"onUpdate:modelValue":R[7]||(R[7]=q=>lt(L)?L.value=q:null),"full-width":""},{default:ke(()=>[W(cl,null,{default:ke(()=>[W(zt,{class:"row items-center q-pb-none"},{default:ke(()=>[R[13]||(R[13]=T("div",{class:"text-h6"},"",-1)),W(cn),Ot(W(de,{icon:"close",flat:"",round:"",dense:""},null,512),[[Eo]])]),_:1,__:[13]}),W(zt,null,{default:ke(()=>[W(bn,{style:{height:"70vh"}},{default:ke(()=>[T("div",va,[(re(!0),se(Be,null,Ue(E(p),q=>(re(),se("div",{key:q.id,class:"col-12 col-sm-6 col-md-4 col-lg-3"},[W(cl,{class:"template-card"},{default:ke(()=>[W(mn,{src:q.background_image_url||E(jo),ratio:16/9,fit:"cover",class:"template-card-image"},{default:ke(()=>[T("div",fa," ID: "+qe(q.id),1)]),_:2},1032,["src"]),W(zt,null,{default:ke(()=>[T("div",{class:"text-subtitle1 ellipsis",title:q.name},qe(q.name),9,ma)]),_:2},1024),W(hn),W(yn,{align:"right"},{default:ke(()=>[W(de,{flat:"",round:"",color:"secondary",icon:"download",onClick:fe=>E(oe)(q.id),title:""},null,8,["onClick"]),W(de,{flat:"",round:"",color:"negative",icon:"delete",onClick:fe=>E(ne)(q.id,q.name),title:""},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]))),128)),E(p).length===0?(re(),se("div",ga,[W(ht,{name:"info",size:"2rem",class:"q-mb-sm"}),R[14]||(R[14]=T("div",null,"",-1))])):Oe("",!0)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),Oa=Qo(ha,[["__scopeId","data-v-79370e0a"]]);export{Oa as default};
