<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>留言板</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>留言板</h1>
    </header>

    <main>
        <!-- 發表新留言 -->
        <button id="post-message-btn">發表新留言</button>
        
        <!-- 排序選擇 -->
        <div class="sort-controls">
            <button class="sort-link active" data-sort="latest">最新活動</button>
            <button class="sort-link" data-sort="popular">熱門討論</button>
            <button class="sort-link" data-sort="most_replies">最多回覆</button>
        </div>

        <!-- 留言列表 -->
        <div id="guestbook-list"></div>

        <!-- 分頁 -->
        <div id="pagination-controls"></div>
    </main>

    <!-- 發表新留言 Modal -->
    <div id="post-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>發表新留言</h2>
            <form id="post-form">
                <div class="form-group">
                    <label for="author-name">你的名稱 (選填):</label>
                    <input type="text" id="author-name" placeholder="匿名">
                </div>
                <div class="form-group">
                    <label for="message-title">留言標題:</label>
                    <input type="text" id="message-title" required>
                </div>
                <div class="form-group">
                    <label for="message-content">留言內容:</label>
                    <textarea id="message-content" required></textarea>
                </div>
                <button type="submit">送出留言</button>
                <p id="post-status-msg"></p>
            </form>
        </div>
    </div>

    <!-- 查看詳情 Modal -->
    <div id="detail-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2>留言詳情</h2>
            <div id="message-detail"></div>
            <div id="replies-container"></div>
        </div>
    </div>

    <script src="guestbook.js"></script>
    <script src="app.js"></script>

    <script>
        // Handling modal display logic and interactions
        document.getElementById('post-message-btn').addEventListener('click', function() {
            document.getElementById('post-modal').style.display = 'flex';
        });

        document.querySelectorAll('.close-btn').forEach(function(button) {
            button.addEventListener('click', function() {
                document.getElementById('post-modal').style.display = 'none';
                document.getElementById('detail-modal').style.display = 'none';
            });
        });

        // Add more JavaScript for fetchGuestbookList and pagination handling
    </script>
</body>
</html>
