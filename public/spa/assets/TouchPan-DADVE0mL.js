import{c as I,a$ as L,a9 as O,g as T,aa as R,b0 as X,a as p,ab as Y,h as b,Q as S,b1 as $,s as P,b2 as F,aY as N,aJ as _,_ as g,b3 as k,ak as j,aI as C,aU as w,a8 as z,E,b4 as K}from"./index-BAhK0N-H.js";import{c as Q}from"./selection-Dv9rOAjt.js";const V={xs:8,sm:10,md:14,lg:20,xl:24},Z=I({name:"QChip",props:{...O,...L,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(t,{slots:i,emit:o}){const{proxy:{$q:s}}=T(),e=R(t,s),n=X(t,V),a=p(()=>t.selected===!0||t.icon!==void 0),c=p(()=>t.selected===!0?t.iconSelected||s.iconSet.chip.selected:t.icon),l=p(()=>t.iconRemove||s.iconSet.chip.remove),r=p(()=>t.disable===!1&&(t.clickable===!0||t.selected!==null)),m=p(()=>{const u=t.outline===!0&&t.color||t.textColor;return"q-chip row inline no-wrap items-center"+(t.outline===!1&&t.color!==void 0?` bg-${t.color}`:"")+(u?` text-${u} q-chip--colored`:"")+(t.disable===!0?" disabled":"")+(t.dense===!0?" q-chip--dense":"")+(t.outline===!0?" q-chip--outline":"")+(t.selected===!0?" q-chip--selected":"")+(r.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(t.square===!0?" q-chip--square":"")+(e.value===!0?" q-chip--dark q-dark":"")}),f=p(()=>{const u=t.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0},q={...u,role:"button","aria-hidden":"false","aria-label":t.removeAriaLabel||s.lang.label.remove};return{chip:u,remove:q}});function v(u){u.keyCode===13&&d(u)}function d(u){t.disable||(o("update:selected",!t.selected),o("click",u))}function h(u){(u.keyCode===void 0||u.keyCode===13)&&(P(u),t.disable===!1&&(o("update:modelValue",!1),o("remove")))}function y(){const u=[];r.value===!0&&u.push(b("div",{class:"q-focus-helper"})),a.value===!0&&u.push(b(S,{class:"q-chip__icon q-chip__icon--left",name:c.value}));const q=t.label!==void 0?[b("div",{class:"ellipsis"},[t.label])]:void 0;return u.push(b("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},$(i.default,q))),t.iconRight&&u.push(b(S,{class:"q-chip__icon q-chip__icon--right",name:t.iconRight})),t.removable===!0&&u.push(b(S,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:l.value,...f.value.remove,onClick:h,onKeyup:h})),u}return()=>{if(t.modelValue===!1)return;const u={class:m.value,style:n.value};return r.value===!0&&Object.assign(u,f.value.chip,{onClick:d,onKeyup:v}),Y("div",u,y(),"ripple",t.ripple!==!1&&t.disable!==!0,()=>[[F,t.ripple]])}}}),M=["B","KB","MB","GB","TB","PB"];function ee(t,i=1){let o=0;for(;parseInt(t,10)>=1024&&o<M.length-1;)t/=1024,++o;return`${t.toFixed(i)}${M[o]}`}function te(t,i,o){return o<=i?i:Math.min(o,Math.max(i,t))}function ie(t,i,o){if(o<=i)return i;const s=o-i+1;let e=i+(t-i)%s;return e<i&&(e=s+e),e===0?0:e}const x={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},U=Object.keys(x);x.all=!0;function D(t){const i={};for(const o of U)t[o]===!0&&(i[o]=!0);return Object.keys(i).length===0?x:(i.horizontal===!0?i.left=i.right=!0:i.left===!0&&i.right===!0&&(i.horizontal=!0),i.vertical===!0?i.up=i.down=!0:i.up===!0&&i.down===!0&&(i.vertical=!0),i.horizontal===!0&&i.vertical===!0&&(i.all=!0),i)}const H=["INPUT","TEXTAREA"];function A(t,i){return i.event===void 0&&t.target!==void 0&&t.target.draggable!==!0&&typeof i.handler=="function"&&H.includes(t.target.nodeName.toUpperCase())===!1&&(t.qClonedBy===void 0||t.qClonedBy.indexOf(i.uid)===-1)}function B(t,i,o){const s=w(t);let e,n=s.left-i.event.x,a=s.top-i.event.y,c=Math.abs(n),l=Math.abs(a);const r=i.direction;r.horizontal===!0&&r.vertical!==!0?e=n<0?"left":"right":r.horizontal!==!0&&r.vertical===!0?e=a<0?"up":"down":r.up===!0&&a<0?(e="up",c>l&&(r.left===!0&&n<0?e="left":r.right===!0&&n>0&&(e="right"))):r.down===!0&&a>0?(e="down",c>l&&(r.left===!0&&n<0?e="left":r.right===!0&&n>0&&(e="right"))):r.left===!0&&n<0?(e="left",c<l&&(r.up===!0&&a<0?e="up":r.down===!0&&a>0&&(e="down"))):r.right===!0&&n>0&&(e="right",c<l&&(r.up===!0&&a<0?e="up":r.down===!0&&a>0&&(e="down")));let m=!1;if(e===void 0&&o===!1){if(i.event.isFirst===!0||i.event.lastDir===void 0)return{};e=i.event.lastDir,m=!0,e==="left"||e==="right"?(s.left-=n,c=0,n=0):(s.top-=a,l=0,a=0)}return{synthetic:m,payload:{evt:t,touch:i.event.mouse!==!0,mouse:i.event.mouse===!0,position:s,direction:e,isFirst:i.event.isFirst,isFinal:o===!0,duration:Date.now()-i.event.time,distance:{x:c,y:l},offset:{x:n,y:a},delta:{x:s.left-i.event.lastX,y:s.top-i.event.lastY}}}}let G=0;const ne=N({name:"touch-pan",beforeMount(t,{value:i,modifiers:o}){if(o.mouse!==!0&&g.has.touch!==!0)return;function s(n,a){o.mouse===!0&&a===!0?P(n):(o.stop===!0&&E(n),o.prevent===!0&&z(n))}const e={uid:"qvtp_"+G++,handler:i,modifiers:o,direction:D(o),noop:j,mouseStart(n){A(n,e)&&K(n)&&(C(e,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),e.start(n,!0))},touchStart(n){if(A(n,e)){const a=n.target;C(e,"temp",[[a,"touchmove","move","notPassiveCapture"],[a,"touchcancel","end","passiveCapture"],[a,"touchend","end","passiveCapture"]]),e.start(n)}},start(n,a){if(g.is.firefox===!0&&k(t,!0),e.lastEvt=n,a===!0||o.stop===!0){if(e.direction.all!==!0&&(a!==!0||e.modifiers.mouseAllDir!==!0&&e.modifiers.mousealldir!==!0)){const r=n.type.indexOf("mouse")!==-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&z(r),n.cancelBubble===!0&&E(r),Object.assign(r,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[e.uid]:n.qClonedBy.concat(e.uid)}),e.initialEvent={target:n.target,event:r}}E(n)}const{left:c,top:l}=w(n);e.event={x:c,y:l,time:Date.now(),mouse:a===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:c,lastY:l}},move(n){if(e.event===void 0)return;const a=w(n),c=a.left-e.event.x,l=a.top-e.event.y;if(c===0&&l===0)return;e.lastEvt=n;const r=e.event.mouse===!0,m=()=>{s(n,r);let d;o.preserveCursor!==!0&&o.preservecursor!==!0&&(d=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),r===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Q(),e.styleCleanup=h=>{if(e.styleCleanup=void 0,d!==void 0&&(document.documentElement.style.cursor=d),document.body.classList.remove("non-selectable"),r===!0){const y=()=>{document.body.classList.remove("no-pointer-events--children")};h!==void 0?setTimeout(()=>{y(),h()},50):y()}else h!==void 0&&h()}};if(e.event.detected===!0){e.event.isFirst!==!0&&s(n,e.event.mouse);const{payload:d,synthetic:h}=B(n,e,!1);d!==void 0&&(e.handler(d)===!1?e.end(n):(e.styleCleanup===void 0&&e.event.isFirst===!0&&m(),e.event.lastX=d.position.left,e.event.lastY=d.position.top,e.event.lastDir=h===!0?void 0:d.direction,e.event.isFirst=!1));return}if(e.direction.all===!0||r===!0&&(e.modifiers.mouseAllDir===!0||e.modifiers.mousealldir===!0)){m(),e.event.detected=!0,e.move(n);return}const f=Math.abs(c),v=Math.abs(l);f!==v&&(e.direction.horizontal===!0&&f>v||e.direction.vertical===!0&&f<v||e.direction.up===!0&&f<v&&l<0||e.direction.down===!0&&f<v&&l>0||e.direction.left===!0&&f>v&&c<0||e.direction.right===!0&&f>v&&c>0?(e.event.detected=!0,e.move(n)):e.end(n,!0))},end(n,a){if(e.event!==void 0){if(_(e,"temp"),g.is.firefox===!0&&k(t,!1),a===!0)e.styleCleanup?.(),e.event.detected!==!0&&e.initialEvent!==void 0&&e.initialEvent.target.dispatchEvent(e.initialEvent.event);else if(e.event.detected===!0){e.event.isFirst===!0&&e.handler(B(n===void 0?e.lastEvt:n,e).payload);const{payload:c}=B(n===void 0?e.lastEvt:n,e,!0),l=()=>{e.handler(c)};e.styleCleanup!==void 0?e.styleCleanup(l):l()}e.event=void 0,e.initialEvent=void 0,e.lastEvt=void 0}}};if(t.__qtouchpan=e,o.mouse===!0){const n=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";C(e,"main",[[t,"mousedown","mouseStart",`passive${n}`]])}g.has.touch===!0&&C(e,"main",[[t,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[t,"touchmove","noop","notPassiveCapture"]])},updated(t,i){const o=t.__qtouchpan;o!==void 0&&(i.oldValue!==i.value&&(typeof value!="function"&&o.end(),o.handler=i.value),o.direction=D(i.modifiers))},beforeUnmount(t){const i=t.__qtouchpan;i!==void 0&&(i.event!==void 0&&i.end(),_(i,"main"),_(i,"temp"),g.is.firefox===!0&&k(t,!1),i.styleCleanup?.(),delete t.__qtouchpan)}});export{Z as Q,ne as T,te as b,ee as h,ie as n};
