<!DOCTYPE html>
<html lang="zh-TW">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="探索 SunnyYummy 官方週邊商品！尋找最新的 T-shirt、鑰匙圈以及更多來自你喜愛創作者的獨家商品。">
        <title>SunnyYummy 週邊商品 | 最新限定款 T-shirt、鑰匙圈</title>
        
        <!-- Canonical URL -->
        <link rel="canonical" href="https://sunnyyummy.onrender.com/" />
        
        <!-- Open Graph 社群標籤 -->
        <meta property="og:title" content="SunnyYummy 週邊商品 | 最新限定款">
        <meta property="og:description" content="探索 SunnyYummy 官方週邊商品！限量 T-shirt、鑰匙圈，立即選購！">
        <meta property="og:url" content="https://sunnyyummy.onrender.com/">
        <meta property="og:type" content="website">
        
        <!-- 關鍵 CSS 優先 -->
        <link rel="stylesheet" href="style.css">
        
        <!-- 非關鍵資源 -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
        
        <!-- Favicon -->
        <link rel="icon" href="/favicon.ico" type="image/x-icon">
        <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        <link rel="manifest" href="/manifest.json">
        <meta name="theme-color" content="#FFB74D">

       
 

<!-- Swiper CSS -->
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

<!-- Swiper JS -->
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script>
    // --- 取得並顯示隨機 Banner 圖片 ---
    async function fetchAndDisplayBanners() {
        const bannerWrapper = document.querySelector('#banner-carousel .swiper-wrapper');
        try {
            const response = await fetch('/api/banners?page=home'); // 從後端獲取頁面為 "home" 的 banner 資料
            if (!response.ok) {
                throw new Error('獲取輪播圖失敗');
            }
            const banners = await response.json();
            
            // 清空現有的輪播圖片
            bannerWrapper.innerHTML = '';
            if (banners.length === 0) {
                bannerWrapper.innerHTML = '<div class="swiper-slide">無圖片可顯示</div>';
            } else {
                // 隨機選擇部分圖片來顯示
                banners.sort(() => Math.random() - 0.5);  // 隨機排序圖片
                banners.slice(0, 5).forEach(banner => {   // 最多顯示 5 張圖片
                    const slide = document.createElement('div');
                    slide.classList.add('swiper-slide');
                    slide.innerHTML = `<img src="${banner.image_url}" alt="${banner.alt_text || 'Banner'}">`;
                    bannerWrapper.appendChild(slide);
                });
            }
            
            // 初始化 Swiper
            new Swiper('#banner-carousel', {
                loop: true,
                autoplay: { delay: 3000 },
                pagination: { el: '.swiper-pagination' },
            });
        } catch (error) {
            console.error('載入輪播圖時出錯:', error);
            bannerWrapper.innerHTML = '<div class="swiper-slide">載入失敗</div>';
        }
    }
    
    // 頁面加載後執行
    document.addEventListener('DOMContentLoaded', () => {
        fetchAndDisplayBanners(); // 呼叫函數顯示隨機圖片
    });
    </script>


    </head>
<body>

    <header>
       <!-- *** 這裡就是替換後的 Swiper 結構 *** -->
        <!-- Slider main container -->
        <div id="banner-carousel" class="swiper banner-swiper"> <!-- 確保最外層有 ID banner-carousel -->
            <!-- Additional required wrapper -->
            <div class="swiper-wrapper" id="banner-wrapper">
                <!-- Slides 會由 JavaScript 動態載入 -->
                <!-- 初始可以留空，或放一個 loading slide -->
                <!-- <div class="swiper-slide"><img src="/images/placeholder-banner.jpg" alt="Banner Loading..."></div> -->
            </div>
            <!-- If we need pagination -->
            <div class="swiper-pagination"></div>

            <!-- If we need navigation buttons -->
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
        </div>

</header>
 
    <main>
        
        <!-- This div will hold the product cards -->
        <nav class="category-nav">
            <a href="/" class="active">週邊商品</a>  <!-- Current page, marked active -->
            <a href="/music.html">音樂專輯</a>        <!-- Placeholder -->
            <a href="/news.html">最新消息</a>   
            <a href="/scores.html" >樂譜中心</a>     <!-- Placeholder -->
            
          
        </nav>

        <nav class="sort-nav category-nav"> <!-- 可以保留 category-nav 樣式，或新增 sort-nav -->
            <a href="#latest" class="sort-link active" data-sort="latest">最新商品</a>
            <a href="#popular" class="sort-link" data-sort="popular">熱門商品</a>
            <!-- 可以把之前的分類放回來，但先專注排序 -->
            <!-- <a href="#">音樂專輯</a> -->
            <!-- <a href="#">關於我們</a> -->
            <!-- <a href="#">最新消息</a> -->
            <!-- <a href="#">活動回顧</a> -->
        </nav>
    
   
        <!-- This div will hold the product cards -->
        <div id="product-grid" class="product-grid">
            <!-- Product cards will be loaded here by JavaScript -->
            <p>正在加載商品...</p>
        </div>
    </main>

    <footer>
      
        <div class="footer-container">
            <nav class="footer-nav">
                <!-- Current page link -->
                <a href="/">週邊商品</a>
                <!-- Placeholder links -->
                <a href="/music.html">音樂專輯</a>
                
                <a href="/news.html">最新消息</a>
                <a href="/scores.html" >樂譜中心</a>
                
                <!-- Link to the new admin page -->
                
                
            </nav>
            <div class="footer-social">
                <!-- 這裡可以放社群媒體圖示連結 (暫時留空或放文字) -->
                <!-- 例如: <a href="#">FB</a> <a href="#">IG</a> -->
            </div>
            <div class="footer-copyright">
                <!-- 使用你原本的 copyright 或更新 -->
                <p>© 2023 SunnyYummy. All rights reserved.</p>
            </div>
        </div>


    </footer>

    <!-- Link to your JavaScript file -->
    <script src="app拷貝.js"></script>
</body>
</html>